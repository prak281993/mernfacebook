(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{262:function(e,t,a){e.exports=a(428)},267:function(e,t,a){},291:function(e,t){},293:function(e,t){},332:function(e,t){},333:function(e,t){},425:function(e,t){},428:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(15),i=a.n(o),l=(a(267),a(21)),c=a(16),s=a(24),p=a(22),m=a(23),d=a(25),u=a(61),h=a(4),g=a(486),f=a(8),b=a(465),E=a(13),x=a(14),v=a.n(x),y=a(107),N=a.n(y),k=function(e){e?(v.a.defaults.headers.common.Authorization=e,v.a.defaults.withCredentials=!0):delete v.a.defaults.headers.common.Authorization},O=function(e){return{type:"SET_AUTH_USER",payload:e}},j=function(){return function(e){localStorage.removeItem("token"),k(!1),e(O({}))}},I=Object(b.a)(function(e){return{topNavBar:{backgroundColor:"#3b5998",backgroundImage:"linear-gradient(#4e69a2, #3b5998 50%)",borderBottom:"1px solid #133783",minHeight:"42px",position:"relative",zIndex:1},menuBarContainer:{height:"82px",minWidth:"980px"},loginNav:{display:"block",margin:"0 auto",width:"980px",paddingTop:"13px"},floatLeft:{float:"left","& h1":{clip:"rect(1px, 1px, 1px, 1px)",height:"1px",left:"auto",whiteSpace:"nowrap",width:"1px",color:"#fff"}},floatRight:{float:"right","& table tbody tr td":{padding:"0 0 0 14px"}},inputText:{borderColor:"#1d2a5b",margin:0,width:"142px",padding:"4px 0"},loginButton:{background:"#4267b2",borderColor:"#29487d",borderRadius:"2px",cursor:"pointer",display:"inline-block",fontSize:"12px",fontWeight:"bold",lineHeight:"18px",padding:"2px 6px",textAlign:"center",textDecoration:"none",textShadow:"none",verticalAlign:"top",whiteSpace:"nowrap","& input":{background:"none",border:0,cursor:"pointer",color:"#fff",display:"inline-block",fontWeight:"bold",lineHeight:"18px",margin:0,padding:0,whiteSpace:"nowrap"}}}});var w=Object(E.b)(function(e){return{auth:e.auth}},{login:function(e,t){return function(t){v.a.post("login",e).then(function(e){if(e.data.token){localStorage.setItem("token",e.data.token),k(e.data.token);var a=N.a.verify(e.data.token.substring(7),"secret");t(O(a))}}).catch(function(e){console.log(e)})}}})(Object(u.g)(function(e){var t=Object(n.useState)(""),a=Object(f.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)(""),c=Object(f.a)(l,2),s=c[0],p=c[1],m=I();return Object(n.useEffect)(function(){e.auth.isAuthenticated?e.history.replace("/"):e.history.replace("/auth")},[e.auth.isAuthenticated]),r.a.createElement("div",{className:m.topNavBar},r.a.createElement("div",{className:m.menuBarContainer},r.a.createElement("div",{className:m.loginNav},r.a.createElement("div",{className:m.floatLeft},r.a.createElement("h1",null,"SocialConnect")),r.a.createElement("div",{className:m.floatRight},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("label",{htmlFor:"email"},"Email or Phone")),r.a.createElement("td",null,r.a.createElement("label",{htmlFor:"password"},"Password"))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("input",{className:m.inputText,onChange:function(e){return i(e.target.value)},type:"email",name:"email"})),r.a.createElement("td",null,r.a.createElement("input",{className:m.inputText,onChange:function(e){return p(e.target.value)},type:"password",name:"password"})),r.a.createElement("td",null,r.a.createElement("label",{htmlFor:"login",className:m.loginButton},r.a.createElement("input",{type:"submit",onClick:function(t){t.preventDefault();var a={contactInfo:o,password:s};e.login(a)},value:"Log In"}))))))))))})),C=a(487),S=a(469),T=Object(b.a)(function(e){return{contentClearFix:{margin:0,outline:"none",padding:0,width:"auto"},gradient:{background:"linear-gradient(white, #D3D8E8)",minWidth:"980px"},signupContent:{display:"block",margin:"0 auto",width:"980px"},left:{float:"left"},leftContent:{marginRight:"15px",width:"565","& img":{width:"537px",height:"195px"}},leftContentText:{color:"#0e385f",fontSize:"20px",fontWeight:"bold",lineHeight:"29px",marginTop:"40px",width:"450px",wordSpacing:"-1px"},right:{float:"right"},rightContent:{maxWidth:"400px"},rightContentText:{padding:"20px 0","& span":{fontSize:"36px",fontWeight:600}},fullNameContainer:{display:"flex"},cssOutlinedInput:{"&$cssFocused $notchedOutline":{borderColor:"#000 !important"}},notchedOutline:{borderWidth:"1px"},cssFocused:{color:""},dayOfDOB:{padding:"5px",height:"30px",border:"1px solid #ccd0d5","& option":{whiteSpace:"pre",minHeight:"1.2em",padding:"0px 2px 1px"}},birthdayText:{color:"#90949c",fontSize:"18px",fontWeight:"bold",marginTop:"10px",marginBottom:"5px"},genderText:{color:"#90949c",fontSize:"18px",fontWeight:"bold",marginTop:"10px",marginBottom:"5px"},gender:{"& span":{borderRadius:"4px",borderWidth:"1px",display:"inline-block",padding:"5px 0 5px 4px"},"& input[type='radio']":{margin:"3px 3px 0px 5px",boxSizing:"border-box",padding:"initial",border:"initial"}},signupButton:{padding:"12px 48px",width:"50%"}}});function B(){var e=T(),t=Object(n.useState)(""),a=Object(f.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)(""),c=Object(f.a)(l,2),s=c[0],p=c[1],m=Object(n.useState)(""),d=Object(f.a)(m,2),u=d[0],h=d[1],g=Object(n.useState)(""),b=Object(f.a)(g,2),E=b[0],x=b[1],y=Object(n.useState)(""),N=Object(f.a)(y,2),k=N[0],O=N[1],j=Object(n.useState)(""),I=Object(f.a)(j,2),w=I[0],B=I[1],L=Object(n.useState)(""),P=Object(f.a)(L,2),F=P[0],R=P[1],A=Object(n.useState)(""),_=Object(f.a)(A,2),W=_[0],D=_[1];return r.a.createElement("div",{className:e.contentClearFix},r.a.createElement("div",{className:e.gradient},r.a.createElement("div",{className:e.signupContent},r.a.createElement("div",{className:e.left},r.a.createElement("div",{className:e.leftContent},r.a.createElement("div",{className:e.leftContentText},"SocialConnect helps you connect and share with the people in your life."),r.a.createElement("img",{src:"/images/facebook-img.png",alt:""}))),r.a.createElement("div",{className:e.right},r.a.createElement("div",{className:e.rightContent},r.a.createElement("div",{className:e.rightContentText},r.a.createElement("span",null,"Create an account")),r.a.createElement("div",{className:e.registrationContainer},r.a.createElement("div",{className:e.fullNameContainer},r.a.createElement(C.a,{id:"outlined-with-placeholder",label:"First Name",placeholder:"Enter First Name",className:e.textField,margin:"normal",variant:"outlined",name:"firstName",InputProps:{classes:{root:e.cssOutlinedInput,focused:e.cssFocused,notchedOutline:e.notchedOutline}},onChange:function(e){return i(e.target.value)}}),r.a.createElement(C.a,{id:"outlined-with-placeholder",label:"Last Name",placeholder:"Enter Last Name",className:e.textField,margin:"normal",variant:"outlined",name:"lastName",InputProps:{classes:{root:e.cssOutlinedInput,focused:e.cssFocused,notchedOutline:e.notchedOutline}},onChange:function(e){return p(e.target.value)}})),r.a.createElement(C.a,{id:"outlined-with-placeholder",label:"Contact info",placeholder:"Mobile number or email address",className:e.textField,margin:"normal",variant:"outlined",fullWidth:!0,name:"contactInfo",InputProps:{classes:{root:e.cssOutlinedInput,focused:e.cssFocused,notchedOutline:e.notchedOutline}},onChange:function(e){return h(e.target.value)}}),r.a.createElement(C.a,{id:"outlined-with-placeholder",type:"password",label:"Password",placeholder:"Enter password",className:e.textField,margin:"normal",variant:"outlined",fullWidth:!0,name:"password",InputProps:{classes:{root:e.cssOutlinedInput,focused:e.cssFocused,notchedOutline:e.notchedOutline}},onChange:function(e){return x(e.target.value)}}),r.a.createElement("div",{className:e.birthday},r.a.createElement("div",{className:e.birthdayText},"Birthday"),r.a.createElement("select",{className:e.dayOfDOB,name:"dayOfDOB",id:"",onChange:function(e){return O(e.target.value)}},r.a.createElement("option",{value:"0"},"Day"),[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31].map(function(e,t){return r.a.createElement("option",{key:t,value:e},e)})),r.a.createElement("select",{className:e.dayOfDOB,name:"monthOfDOB",id:"",onChange:function(e){return B(e.target.value)}},r.a.createElement("option",{value:"0"},"Month"),["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map(function(e,t){return r.a.createElement("option",{key:t,value:t+1},e)})),r.a.createElement("select",{className:e.dayOfDOB,name:"yearofDOB",id:"",onChange:function(e){return R(e.target.value)}},r.a.createElement("option",{value:"0"},"Year"),[2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2009,2008,2007,2006,2005,2004,2003,2002,2001,2e3,1999,1998,1997,1996,1995,1994,1993,1992,1991,1990,1989,1988,1987,1986,1985,1984,1983,1982,1981,1980,1979,1978,1977,1976,1975,1974,1973,1972,1971,1970,1969,1968,1967,1966,1965,1964,1963,1962,1961,1960,1959,1958,1957,1956,1955,1954,1953,1952,1951,1950,1949,1948,1947,1946,1945,1944,1943,1942,1941,1940,1939,1938,1937,1936,1935,1934,1933,1932,1931,1930,1929,1928,1927,1926,1925,1924,1923,1922,1921,1920,1919,1918,1917,1916,1915,1914,1913,1912,1911,1910,1909,1908,1907,1906,1905].map(function(e,t){return r.a.createElement("option",{key:t,value:e},e)}))),r.a.createElement("div",{className:e.gender},r.a.createElement("div",{className:e.genderText},"Gender"),r.a.createElement("span",null,r.a.createElement("input",{type:"radio",name:"gender",value:"F",id:"femaleradio",onChange:function(e){return D(e.target.value)}}),r.a.createElement("label",{htmlFor:"femaleradio"},"Female")),r.a.createElement("span",null,r.a.createElement("input",{type:"radio",name:"gender",value:"M",id:"maleradio",onChange:function(e){return D(e.target.value)}}),r.a.createElement("label",{htmlFor:"maleradio"},"Male")),r.a.createElement("span",null,r.a.createElement("input",{type:"radio",name:"gender",value:"Ot",id:"femaleradio",onChange:function(e){return D(e.target.value)}}),r.a.createElement("label",{htmlFor:"femaleradio"},"Others"))))),r.a.createElement(S.a,{onClick:function(e){e.preventDefault();var t={name:o+" "+s,contactInfo:u,password:E,dob:k+"/"+w+"/"+F,gender:W};v.a.post("http://localhost:8080/signup",t).then(function(e){console.log(e)}).catch(function(e){console.log(e)})},variant:"contained",className:e.signupButton},"Sign Up")))))}var L=Object(u.g)(function(){return r.a.createElement("div",null,r.a.createElement(w,null),r.a.createElement(B,null))}),P=Object(E.b)(function(e){return{auth:e.auth}})(function(e){return r.a.createElement(u.b,Object.assign({},e,{render:function(){return e.auth.isAuthenticated?e.component:r.a.createElement(u.a,{to:"/auth"})}}))}),F=a(38),R=a(12),A=a(475),_=a(476),W=a(473),D=a(124),M=a(474),U=a(470),z=a(250),H=a(233),G=a.n(H),q=a(156),J=a.n(q),K=a(154),X=a.n(K),V=a(155),$=a.n(V),Y=a(235),Z=a.n(Y),Q=a(152),ee=a.n(Q),te=a(472),ae=a(471),ne=a(401),re=a(467),oe=Object(b.a)(function(e){return{dropDown:{position:"relative",display:"inline-block",width:"100%",zIndex:100},dropDownContent:{position:"absolute",background:"rgba(255, 255, 255, 0.95)",width:"100%","& a":{color:"black",background:"rgba(255, 255, 255, 0.95)",padding:"12px 16px",textDecoration:"none",display:"block",margin:"auto"}},inputRoot:{color:Object(R.c)(e.palette.common.black,1)},inputInput:Object(F.a)({padding:e.spacing(1,1,1,6),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:500})}});var ie=Object(E.b)(function(e){return{auth:e.auth}})(Object(u.g)(function(e){var t=oe(),a=Object(n.useState)(!1),o=Object(f.a)(a,2),i=o[0],l=o[1],c=Object(n.useState)([]),s=Object(f.a)(c,2),p=s[0],m=s[1],u=p?p.map(function(e,t){return r.a.createElement(d.b,{onClick:function(){return l(!1)},to:{pathname:"/"+e.userName},key:t},e.name)}):null;return r.a.createElement("div",{className:t.dropDown},r.a.createElement("div",null,r.a.createElement(re.a,{classes:{root:t.inputRoot,input:t.inputInput},placeholder:"Search...",disableUnderline:!0,onChange:function(e){var t={searchText:e.target.value};v.a.post("/getallusers",t).then(function(e){m(e.data)}).catch(function(e){console.log(e)})},onFocus:function(){return l(!0)}})),i?r.a.createElement("div",{className:t.dropDownContent},u):null)})),le=a(153),ce=a.n(le),se=a(477),pe=a(252),me=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(s.a)(this,Object(p.a)(t).call(this))).handleFriendNotificationPopper=function(t,a){t.preventDefault(),e.state.anchorFriend?e.setState({anchorFriend:null}):(e.setState({anchorFriend:t.currentTarget}),v.a.post("/getfriendrequests",{userId:a}).then(function(t){e.setState({friendRequests:t.data})}).catch(function(e){console.log(e)}))},e.confirmFriend=function(t,a){t.preventDefault();var n=e.props.auth.user;v.a.post("/acceptfriend",{userId:n.id,tlUserId:a}).then(function(e){console.log(e)}).catch(function(e){console.log(e)})},e.state={anchorEl:null,mobileMoreAnchorEl:null,userName:"",anchorFriend:null,friendRequests:[]},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.props.auth.isAuthenticated!=e.auth.isAuthenticated&&(e.auth.isAuthenticated||this.props.history.replace("/auth"))}},{key:"componentDidMount",value:function(){var e=this,t=this.props.auth,a=t.isAuthenticated,n=t.user;a?(this.setState({userName:n.name.split(" ")[0]}),v.a.post("/getfriendrequests",{userId:n.id}).then(function(t){e.setState({friendRequests:t.data})}).catch(function(e){console.log(e)})):this.props.history.replace("/auth")}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.props.auth.user,n=Boolean(this.state.anchorFriend),o=Boolean(this.state.anchorEl),i=Boolean(this.state.mobileMoreAnchorEl),l=function(t){e.setState({anchorEl:t.currentTarget})},c=function(){e.setState({mobileMoreAnchorEl:null})},s=function(){e.setState({anchorEl:null}),c()},p=this.state.friendRequests,m="primary-search-account-menu",d=r.a.createElement(z.a,{anchorEl:this.state.anchorEl,anchorOrigin:{vertical:"top",horizontal:"right"},id:m,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:o,onClose:s},r.a.createElement(U.a,{onClick:s},"Profile"),r.a.createElement(U.a,{onClick:s},"My account"),r.a.createElement(U.a,{onClick:function(t){t.preventDefault(),e.props.logout()}},"Logout")),u=r.a.createElement(z.a,{anchorEl:this.state.mobileMoreAnchorEl,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu-mobile",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:i,onClose:c},r.a.createElement(U.a,{onClick:function(){return e.props.history.push({pathname:"/"+a.userName,state:{user:a}})}},r.a.createElement(ae.a,null,r.a.createElement(ne.a,{alt:"Remy Sharp",src:"/"+a.profileImage})),r.a.createElement(te.a,{primary:this.state.userName})),r.a.createElement(U.a,{onClick:function(){return e.props.history.push("/")}},r.a.createElement(W.a,{"aria-label":"Show 4 new mails",color:"inherit"},r.a.createElement(ee.a,null)),r.a.createElement("p",null,"Home")),r.a.createElement(U.a,null,r.a.createElement(W.a,{"aria-label":"Show friend requests",color:"inherit"},r.a.createElement(M.a,{badgeContent:10,color:"secondary"},r.a.createElement(ce.a,null))),r.a.createElement("p",null,"Friend Requests")),r.a.createElement(U.a,null,r.a.createElement(W.a,{"aria-label":"Show new mails",color:"inherit"},r.a.createElement(M.a,{badgeContent:4,color:"secondary"},r.a.createElement(X.a,null))),r.a.createElement("p",null,"Messages")),r.a.createElement(U.a,null,r.a.createElement(W.a,{"aria-label":"Show new notifications",color:"inherit"},r.a.createElement(M.a,{badgeContent:11,color:"secondary"},r.a.createElement($.a,null))),r.a.createElement("p",null,"Notifications")),r.a.createElement(U.a,{onClick:l},r.a.createElement(W.a,{"aria-label":"Account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit"},r.a.createElement(J.a,null)),r.a.createElement("p",null,"Profile")));return r.a.createElement("div",{className:t.grow},r.a.createElement(A.a,{className:t.appBar,position:"static"},r.a.createElement(_.a,null,r.a.createElement(D.a,{className:t.title,variant:"h6",noWrap:!0},"SocialConnect"),r.a.createElement("div",{className:t.search},r.a.createElement("div",{className:t.searchIcon},r.a.createElement(G.a,null)),r.a.createElement(ie,null)),r.a.createElement("div",{className:t.sectionDesktop},r.a.createElement(U.a,{onClick:function(){return e.props.history.push({pathname:"/"+a.userName,state:{user:a}})}},r.a.createElement(ae.a,null,r.a.createElement(ne.a,{alt:"Remy Sharp",src:"/"+a.profileImage})),r.a.createElement(te.a,{primary:this.state.userName})),r.a.createElement(U.a,{onClick:function(){return e.props.history.push("/")}},r.a.createElement(W.a,{"aria-label":"Show 4 new mails",color:"inherit"},r.a.createElement(ee.a,null)),r.a.createElement("p",null,"Home")),r.a.createElement(W.a,{onClick:function(t){return e.handleFriendNotificationPopper(t,a.id)},"aria-label":"Show friend requests",color:"inherit"},r.a.createElement(M.a,{badgeContent:p.length,color:"secondary"},r.a.createElement(ce.a,null)),p?r.a.createElement(se.a,{className:t.popperElement,anchorEl:this.state.anchorFriend,open:n,placement:"bottom-end",disablePortal:!0,modifiers:{flip:{enabled:!1}}},r.a.createElement(pe.a,{className:t.popperContent},r.a.createElement("div",{className:t.arrowFriend}," "),p.map(function(a){return r.a.createElement(r.a.Fragment,{key:a.user._id},r.a.createElement("div",{className:t.friendInfo},r.a.createElement(ae.a,null,r.a.createElement(ne.a,{alt:"Remy Sharp",src:a.user.profileImage?"/"+a.user.profileImage:"/images/blank.png"})),r.a.createElement("div",{className:t.typography},r.a.createElement(D.a,null," ",a.user.name," ")),r.a.createElement("a",{onClick:function(t){return e.confirmFriend(t,a.user._id)},className:t.confirmButton},"Confirm"),r.a.createElement("a",{onClick:e.declineFriend,className:t.declineButton},"Decline")),r.a.createElement("hr",{className:t.divider}))}))):null),r.a.createElement(W.a,{"aria-label":"Show new mails",color:"inherit"},r.a.createElement(M.a,{badgeContent:4,color:"secondary"},r.a.createElement(X.a,null))),r.a.createElement(W.a,{"aria-label":"Show new notifications",color:"inherit"},r.a.createElement(M.a,{badgeContent:17,color:"secondary"},r.a.createElement($.a,null))),r.a.createElement(W.a,{edge:"end","aria-label":"Account of current user","aria-controls":m,"aria-haspopup":"true",onClick:l,color:"inherit"},r.a.createElement(J.a,null))),r.a.createElement("div",{className:t.sectionMobile},r.a.createElement(W.a,{"aria-label":"Show more","aria-controls":"primary-search-account-menu-mobile","aria-haspopup":"true",onClick:function(t){e.setState({mobileMoreAnchorEl:t.currentTarget})},color:"inherit"},r.a.createElement(Z.a,null))))),u,d)}}]),t}(n.Component),de=Object(E.b)(function(e){return{auth:e.auth}},{logout:j})(Object(h.a)(function(e){return{grow:{flexGrow:1},appBar:{minHeight:"50px"},menuButton:{marginRight:e.spacing(2)},title:Object(F.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(F.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(R.c)(e.palette.common.white,.95),"&:hover":{backgroundColor:e.palette.common.white},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("xs"),{marginLeft:e.spacing(3),width:"40%"}),searchIcon:{width:e.spacing(7),color:Object(R.c)(e.palette.common.black,.8),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:Object(R.c)(e.palette.common.black,1)},inputInput:Object(F.a)({padding:e.spacing(1,1,1,2),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:500}),sectionDesktop:Object(F.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(F.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"}),arrowFriend:{content:" ",position:"absolute",right:"5%",bottom:"100%",borderWidth:"10px",borderStyle:"solid",borderColor:"transparent transparent white"},popperElement:{zIndex:50,maxWidth:"600px",minWidth:"500px",overflow:"auto"},popperContent:{transform:"translate3d(0, 11px, 0px)",width:"100%","& p:hover":{color:"#385898",cursor:"pointer",textDecoration:"underline"}},friendInfo:{display:"flex"},typography:{width:"150px","& p":{textAlign:"left",padding:"8px 16px 4px 22px",fontSize:"14px"}},confirmButton:{width:e.spacing(3),marginTop:e.spacing(1),marginLeft:"15%",fontSize:"12px",fontWeight:"bold",justifyContent:"center",alignItems:"center",textAlign:"center",background:"#385898",color:"#fff",padding:"8px 32px 4px 16px"},declineButton:{marginTop:e.spacing(1),marginLeft:e.spacing(1),fontSize:"12px",fontWeight:"bold",justifyContent:"center",alignItems:"center",textAlign:"center",background:"#e9eaed",color:"#000",padding:"8px 16px 4px 16px"}}})(Object(u.g)(me))),ue=a(247),he=a.n(ue),ge=a(481),fe=a(27),be=function(e,t){return function(a){v.a.get("/getuser/"+e).then(function(n){var r=n.data[0],o={_id:r._id,name:r.name,userName:r.userName,profileImage:r.profileImage,authUser:e===t};a({type:"SET_TIMELINE_USER",payload:o});var i=Object(fe.a)(r.posts).map(function(e){return e.createdBy={_id:r._id,name:r.name,profileImage:r.profileImage,userName:r.userName},e}),l=r.friends.filter(function(e){return e.posts.length>0}).map(function(e){return e.posts.map(function(t){return t.createdBy={_id:e.user._id,name:e.user.name,profileImage:e.user.profileImage,userName:e.user.userName},t})}).flat(1),c=[].concat(Object(fe.a)(i),Object(fe.a)(l));a({type:"GET_FEED",payload:c});var s=r.friends.map(function(e){if(e.user)return{_id:e.user._id,name:e.user.name,userName:e.user.userName,profileImage:e.user.profileImage,status:e.status}});s=s[0]?s:[],a({type:"GET_FRIENDS",payload:s})}).catch(function(e){console.log(e)})}},Ee=function(e,t){return function(a){v.a.post("/likepost",{postId:e,userId:t}).then(function(e){a({type:"LIKE_COMMENT",payload:e.data})}).catch(function(e){console.log(e)})}},xe=function(){return function(e){e({type:"CLEAR_POSTS",payload:[]})}},ve=a(478),ye=a(123),Ne=a.n(ye),ke=a(236),Oe=a.n(ke),je=a(468),Ie=a(431),we=Object(b.a)(function(e){return{userInfo:{padding:e.spacing(3,2)},header:{textAlign:"left"},addBio:{marginTop:e.spacing(1),"& p":{fontSize:"14px",opacity:.7},"& a":{textDecoration:"none",color:"#385898","&:hover":{textDecoration:"underline",cursor:"pointer"}}},infoDetails:{marginTop:e.spacing(1),"& ul":{alignItems:"left",textAlign:"left",listStyleType:"none",transform:"translateX(-10%)"},"& ul li a":{color:"#385898","&:hover":{cursor:"pointer",textDecoration:"underline"}}},createBio:{height:e.spacing(20)},bioInput:{height:e.spacing(15),overflow:"auto","&  textarea":{alignItems:"center",justifyContent:"center",textAlign:"center"}},bioButtons:{background:"#e9eaed"},button:{margin:e.spacing(.5),width:e.spacing(3),fontSize:"11px",fontWeight:"bold",justifyContent:"center",alignItems:"center",textAlign:"center"},titleBar:{"& ul,& ul li":{margin:0,padding:0},"& ul li span":{fontSize:"20px"}},aboutAvatar:{margin:10,color:"#fff",background:"#385898"},inline:{display:"inline"}}});function Ce(){var e=r.a.useState(!1),t=Object(f.a)(e,2),a=t[0],n=t[1],o=we();return r.a.createElement("div",null,r.a.createElement(pe.a,{className:o.userInfo},r.a.createElement("div",{className:o.titleBar},r.a.createElement(je.a,null,r.a.createElement(Ie.a,null,r.a.createElement(ne.a,{className:o.aboutAvatar},r.a.createElement(Oe.a,null)),r.a.createElement(te.a,{primary:"About"})))),r.a.createElement("div",{className:o.addBio},a?r.a.createElement("div",null,r.a.createElement(pe.a,{className:o.createBio},r.a.createElement("div",null,r.a.createElement("div",{className:o.bioInput},r.a.createElement(re.a,{placeholder:"Write something about yourself",multiline:!0,fullWidth:!0,disableUnderline:!0})),r.a.createElement("div",{className:o.bioButtons},r.a.createElement(S.a,{variant:"contained",className:o.button,onClick:function(){return n(!1)}},"Cancel"),r.a.createElement(S.a,{variant:"contained",className:o.button,color:"primary"},"Save"))))):r.a.createElement("div",null,r.a.createElement(D.a,{component:"p"},"Add a short bio."),r.a.createElement("a",{onClick:function(){return n(!0)}},"Add Bio")),r.a.createElement(ve.a,null)),r.a.createElement("div",{className:o.infoDetails},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("div",null,r.a.createElement(Ne.a,null)," Working in ",r.a.createElement("a",null,"Tata Consultancy Services"))),r.a.createElement("li",null,r.a.createElement("div",null,r.a.createElement(Ne.a,null)," Studied at ",r.a.createElement("a",null,"Shri Ram Murti Smarak College of Enginnering and Technology"))),r.a.createElement("li",null,r.a.createElement("div",null,r.a.createElement(Ne.a,null)," Went to ",r.a.createElement("a",null,"St. Lawrence School")))))))}var Se=a(240),Te=a.n(Se),Be=a(491),Le=a(238),Pe=a.n(Le),Fe=a(239),Re=a.n(Fe),Ae=a(479),_e=a(480),We=a(237),De=a.n(We),Me=a(34),Ue=a(157),ze=a(251),He=Object(b.a)(function(e){return{tag:{display:"flex"},with:{background:"#e9eaed",textAlign:"center",padding:"8px 6px 6px 8px"},container:{flexGrow:1,position:"relative"},paper:{position:"absolute",zIndex:1,marginTop:e.spacing(1),left:0,right:0},chip:{margin:e.spacing(.5,.25)},inputRoot:{flexWrap:"wrap"},inputInput:{width:"auto",flexGrow:1}}});function Ge(e){var t=e.classes,a=r.a.useState(""),n=Object(f.a)(a,2),o=n[0],i=n[1],l=r.a.useState([]),c=Object(f.a)(l,2),s=c[0],p=c[1],m=r.a.useState([]),d=Object(f.a)(m,2),u=d[0],h=d[1];function g(e){s.length&&!o.length&&"Backspace"===e.key&&p(s.slice(0,s.length-1))}var b=function(e){return function(){var t=Object(fe.a)(s);t.splice(t.indexOf(e.id),1),p(t)}};return e.selected(s),r.a.createElement(ze.a,{id:"downshift-multiple",inputValue:o,onChange:function(e){var t=Object(fe.a)(s);-1===t.indexOf(e.id)&&(t=[].concat(Object(fe.a)(t),[e])),i(""),p(t)},selectedItem:s},function(a){var n=a.getInputProps,o=a.getItemProps,l=a.getLabelProps,c=a.isOpen,p=a.inputValue,m=a.selectedItem,d=a.highlightedIndex,f=n({onKeyDown:g,placeholder:"Who are you with?"}),E=f.onBlur,x=f.onChange,y=f.onFocus,N=Object(Ue.a)(f,["onBlur","onChange","onFocus"]);return r.a.createElement("div",{className:t.container},function(e){var t=e.InputProps,a=e.classes,n=e.ref,o=Object(Ue.a)(e,["InputProps","classes","ref"]);return r.a.createElement(C.a,Object.assign({InputProps:Object(Me.a)({inputRef:n,classes:{root:a.inputRoot,input:a.inputInput}},t)},o))}({fullWidth:!0,classes:t,InputLabelProps:l(),InputProps:{startAdornment:s.map(function(e){return r.a.createElement(Be.a,{key:e.id,tabIndex:-1,label:e.name,className:t.chip,onDelete:b(e)})}),onBlur:E,onChange:function(t){!function(t){var a=e.auth.user;i(t.target.value);var n={userId:a.id,searchText:t.target.value};v.a.post("http://localhost:8080/getfriends",n).then(function(e){h(e.data)}).catch(function(e){console.log(e)})}(t),x(t)},onFocus:y},inputProps:N}),c?r.a.createElement(pe.a,{className:t.paper,square:!0},function(e,t){var a=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).showEmpty,n=void 0!==a&&a,r=e.trim().toLowerCase(),o=r.length,i=0;return 0!==o||n?t.filter(function(e){var t=i<5&&e.user.name.slice(0,o).toLowerCase()===r;return t&&(i+=1),t}):[]}(p,u).map(function(e,t){return function(e){var t=e.suggestion,a=e.index,n=e.itemProps,o=e.highlightedIndex===a,i=(e.selectedItem||"").indexOf(t.user._id)>-1;return r.a.createElement(U.a,Object.assign({},n,{key:t.user._id,selected:o,component:"div",style:{fontWeight:i?500:400},value:t.user._id}),t.user.name)}({suggestion:e,index:t,itemProps:o({item:{name:e.user.name,id:e.user._id}}),highlightedIndex:d,selectedItem:m})})):null)})}var qe=Object(E.b)(function(e){return{auth:e.auth}})(function(e){var t=He();return r.a.createElement("div",{className:t.tag},r.a.createElement("div",{className:t.with},"With"),r.a.createElement("div",null,r.a.createElement(Ge,{selected:e.taggedFriends,auth:e.auth,classes:t})))}),Je=Object(b.a)(function(e){return{root:{display:"block",width:"80%"},postHeader:{padding:e.spacing(0,2),height:e.spacing(4),textAlign:"left",background:"#f5f6f7",borderRadius:"4px",lineHeight:"2rem"},paper:{padding:e.spacing(3,2),position:"relative"},footer:{display:"flex",justifyContent:"space-around"},chip:{marginTop:e.spacing(2),background:"#e9eaed",fontWeight:"bold",color:"#385898",height:e.spacing(5),"&:hover":{cursor:"pointer"}},postButton:{width:"50%",marginTop:e.spacing(2)},postIcon:{marginLeft:e.spacing(2)},input:{display:"none"},card:{width:"100%"},media:{marginTop:e.spacing(2),paddingTop:"56.25%",backgroundPosition:"initial"},imagePreviewBox:{display:"flex",width:"100%",padding:"8px 8px",overflowX:"auto"},imageBox:{minWidth:"100px",minHeight:"100px",marginLeft:"10px",maxWidth:"100px",maxHeight:"100px","& img":{width:"100%",height:"100%"}},uploadImageBox:{minWidth:"100px",minHeight:"100px",background:"#fff",border:"2px dashed #e9eaed",marginLeft:"10px",maxWidth:"100px",maxHeight:"100px","&:hover":{cursor:"pointer",background:"#e9eaed"},"& span svg":{marginTop:"50%",marginLeft:"50%",transform:"translate(-50%,-50%)"}},firstDivider:{marginTop:"24px",lineHeight:"1px"},secondDivider:{marginTop:"8px",lineHeight:"1px"}}});var Ke=Object(E.b)(function(e){return{auth:e.auth,post:e.post}},{submitPost:function(e){return function(t){v.a.post("/submitpost",e).then(function(e){t({type:"SUBMIT_POST",payload:e.data})}).catch(function(e){console.log(e)})}}})(function(e){var t=Je(),a=Object(n.useState)(""),o=Object(f.a)(a,2),i=o[0],l=o[1],c=Object(n.useState)([]),s=Object(f.a)(c,2),p=s[0],m=s[1],d=Object(n.useState)(null),u=Object(f.a)(d,2),h=u[0],g=u[1],b=Object(n.useState)(""),E=Object(f.a)(b,2),x=E[0],v=E[1],y=Object(n.useState)([]),N=Object(f.a)(y,2),k=N[0],O=N[1],j=Object(n.useState)(!1),I=Object(f.a)(j,2),w=I[0],C=I[1],T=Object(n.useState)([]),B=Object(f.a)(T,2),L=B[0],P=B[1],F=function(e){var t=e.target.files[0];if(t){var a=Object(fe.a)(p);a.push(t),m(a);var n=new FileReader;n.readAsDataURL(t),n.onloadend=function(e){g(n.result),v(t.name);var a={imageSrc:n.result,name:t.name},r=Object(fe.a)(k);r.unshift(a),O(r)}}};return r.a.createElement("div",{className:t.root},r.a.createElement("div",{className:t.postHeader},"Create Post"),r.a.createElement(pe.a,{className:t.paper},r.a.createElement(re.a,{placeholder:"Write something here...",multiline:!0,fullWidth:!0,disableUnderline:!0,onChange:function(e){return l(e.target.value)},value:i}),null!=h?r.a.createElement(Ae.a,{className:t.card},r.a.createElement(_e.a,{className:t.media,image:h,title:x})):null,w?r.a.createElement(ve.a,{className:t.firstDivider}):null,w?r.a.createElement(qe,{taggedFriends:function(e){P(e)}}):null,r.a.createElement(ve.a,{className:t.secondDivider}),k.length>0?r.a.createElement("div",{className:t.imagePreviewBox},k.map(function(e,a){return r.a.createElement("div",{key:a,className:t.imageBox},r.a.createElement("img",{src:e.imageSrc,alt:e.name}))}),r.a.createElement("input",{onChange:F,className:t.input,id:"icon-button-file",type:"file"}),r.a.createElement("label",{htmlFor:"icon-button-file"},r.a.createElement("div",{className:t.uploadImageBox},r.a.createElement(ge.a,null,r.a.createElement(De.a,null))))):null,r.a.createElement("div",{className:t.footer},r.a.createElement("input",{onChange:F,className:t.input,id:"icon-button-file",type:"file"}),r.a.createElement("label",{htmlFor:"icon-button-file"},r.a.createElement(Be.a,{icon:r.a.createElement(Pe.a,null),label:"Upload File",color:"primary",className:t.chip})),r.a.createElement("label",{onClick:function(){return C(!w)},htmlFor:""},r.a.createElement(Be.a,{icon:r.a.createElement(Re.a,null),label:"Tag Friends",color:"primary",className:t.chip})),r.a.createElement(S.a,{disabled:!(i||p.length>0),onClick:function(t){t.preventDefault();var a=e.auth.user,n=L?L.map(function(e){return e.id}):null,r=new FormData;r.append("postText",i),p.map(function(e){r.append("fileImages",e)}),r.append("userId",a.id),r.append("taggedFriends",JSON.stringify(n)),e.submitPost(r),g(null),m([]),l(""),C(!1),P([]),v(""),O([])},className:t.postButton,variant:"contained",color:"primary"},"Post",r.a.createElement(Te.a,{className:t.postIcon})))))}),Xe=a(483),Ve=a(484),$e=a(241),Ye=a.n($e),Ze=a(482),Qe=a(489),et=a(68),tt=a.n(et),at=a(53),nt=a.n(at),rt=a(84),ot=a.n(rt),it=Object(b.a)(function(e){return{commentSection:{display:"flex",padding:"12px 16px 8px 8px"},commentBox:{width:"100%",padding:"4px 20px",border:"1px solid #ccc",borderRadius:"25px"}}});var lt=Object(E.b)(function(e){return{auth:e.auth}},function(e){return{onCreateComment:function(t,a,n){return e(function(e,t,a){return function(n){v.a.post("/createcomment",{userId:e,postId:t,text:a}).then(function(e){n({type:"CREATE_COMMENT",payload:e.data[0]})}).catch(function(e){console.log(e)})}}(t,a,n))}}})(function(e){var t=it(),a=e.auth.user,o=e.postId,i=Object(n.useState)(""),l=Object(f.a)(i,2),c=l[0],s=l[1];return r.a.createElement("div",{className:t.commentSection},r.a.createElement("div",null,r.a.createElement(ae.a,null,r.a.createElement(ne.a,{alt:"Remy Sharp",src:"/"+a.profileImage}))),r.a.createElement("div",{className:t.commentBox},r.a.createElement(re.a,{fullWidth:!0,placeholder:"Write a comment...",disableUnderline:!0,onChange:function(e){return s(e.target.value)},onKeyPress:function(t){return function(t){"Enter"===t.key&&(s(""),e.onCreateComment(a.id,o,c))}(t)},value:c})))}),ct=Object(b.a)(function(e){return{commentSection:{padding:"0 8px"},message:{display:"flex",width:"100%",position:"relative",minHeight:"10px",wordBreak:"break-all",textAlign:"left",fontSize:"11px"},messageBody:{width:"100%",padding:"4px","& p a":{color:"#385898",fontWeight:"bold","&:hover":{cursor:"pointer",textDecoration:"underline"}},"& p":{background:"#f2f3f5",borderRadius:"45px",padding:"8px 16px",fontSize:"15px",lineHeight:"1.2em"}},actionsList:{padding:e.spacing(0,2),display:"flex",maxWidth:"100%","& a":{color:"#385898",fontSize:"14px",padding:"0 4px","&:hover":{cursor:"pointer",textDecoration:"underline"}}}}});function st(e){var t=ct(),a=e.comment;return r.a.createElement("div",null,r.a.createElement("div",{className:t.commentSection},r.a.createElement("div",{className:t.message},r.a.createElement(ae.a,null,r.a.createElement(ne.a,{alt:a.from.name,src:a.from.profileImage?"/"+a.from.profileImage:"/images/blank.png"})),r.a.createElement("div",{className:t.messageBody},r.a.createElement(D.a,{component:"p"},r.a.createElement("a",null,a.from.name)," ",a.text),r.a.createElement("div",{className:t.actionsList},r.a.createElement("a",null,"Like"),r.a.createElement("a",null,"Reply"))))))}var pt=Object(b.a)(function(e){return{openPhoto:{},imageDetails:{width:"1200px",height:"600px",display:"flex"},imageHolder:{width:"65%",background:"black",height:"100%",display:"block",margin:"auto"},image:{width:"100%",height:"100%"},list:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},aboutImage:{width:"35%",height:"100%"},actionsList:{padding:e.spacing(1,2),display:"flex",maxWidth:"100%",backgroundColor:e.palette.background.paper,justifyContent:"space-around"},actionItems:{justifyContent:"center",alignItems:"center",textAlign:"center",padding:e.spacing(0,2),"&:hover":{cursor:"pointer"}},actionIcons:{margin:e.spacing(-.5,.5)}}});function mt(e){var t=pt(),a=r.a.useState(!1),n=Object(f.a)(a,2),o=n[0],i=n[1],l=r.a.useState(null),c=Object(f.a)(l,2),s=c[0],p=c[1],m=r.a.useState(""),d=Object(f.a)(m,2),u=d[0],h=d[1],g=e.imageDetails,b=e.openPhoto;return r.a.useEffect(function(){o!==b&&(i(b),p("/"+g.image),h(g.createdBy.name))}),r.a.createElement("div",{className:t.dialog},r.a.createElement(Qe.a,{maxWidth:"xl",open:o,"aria-labelledby":"max-width-dialog-title",className:t.openPhoto,onClose:function(){i(!1),e.onclose()}},r.a.createElement("div",{className:t.imageDetails},r.a.createElement("div",{className:t.imageHolder},r.a.createElement("img",{className:t.image,src:s})),r.a.createElement("div",{className:t.aboutImage},r.a.createElement(Ie.a,{alignItems:"flex-start"},r.a.createElement(ae.a,null,r.a.createElement(ne.a,{alt:"Remy Sharp",src:g.createdBy.profileImage?"/"+g.createdBy.profileImage:"/images/blank.png"})),r.a.createElement(te.a,{primary:u})),r.a.createElement(pe.a,{className:t.actionsList},r.a.createElement(D.a,{className:t.actionItems},r.a.createElement(nt.a,{className:t.actionIcons,color:"primary"}),"Like"),r.a.createElement(D.a,{className:t.actionItems},r.a.createElement(tt.a,{className:t.actionIcons,color:"secondary"}),"Comment"),r.a.createElement(D.a,{className:t.actionItems},r.a.createElement(ot.a,{className:t.actionIcons,color:"primary"}),"Share")),g.comments?g.comments.map(function(e){return r.a.createElement(st,{key:e._id,comment:e})}):null,r.a.createElement(lt,{postId:g._id})))))}var dt=Object(b.a)(function(e){return{photoGrid:{padding:e.spacing(3,2)},titleBar:{"& ul,& ul li":{margin:0,padding:0},"& ul li span":{fontSize:"20px"}},pictureGrid:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},gridList:{height:450,"& img":{cursor:"pointer"}},icon:{color:"rgba(255, 255, 255, 0.54)"},photoAvatar:{margin:10,color:"#fff",backgroundColor:Ze.a[500]}}});function ut(e){var t=dt(),a=r.a.useState(!1),n=Object(f.a)(a,2),o=n[0],i=n[1],l=r.a.useState(null),c=Object(f.a)(l,2),s=c[0],p=c[1];var m=e.posts.filter(function(e){return e.images.length>0}).map(function(e){return e.images.map(function(t){return{_id:e._id,image:t.imageUrl,createdBy:e.createdBy,comments:e.comments,like:e.like,profileImage:e.profileImage,userName:e.userName}})}).flat(1);return r.a.createElement("div",null,r.a.createElement(pe.a,{className:t.photoGrid},r.a.createElement("div",{className:t.titleBar},r.a.createElement(je.a,null,r.a.createElement(Ie.a,null,r.a.createElement(ne.a,{className:t.photoAvatar},r.a.createElement(Ye.a,null)),r.a.createElement(te.a,{primary:"Photos"})))),r.a.createElement("div",{className:t.pictureGrid},r.a.createElement(Xe.a,{cellHeight:120,className:t.gridList,cols:3},m.map(function(e){return r.a.createElement(Ve.a,{key:e._id+"-"+e.image,cols:1},r.a.createElement("img",{onClick:function(){return t=e,i(!0),void p(t);var t},src:"/"+e.image}))})),o?r.a.createElement(mt,{openPhoto:o,imageDetails:s,onclose:function(){i(!1)}}):null)))}var ht=a(485),gt=a(242),ft=a.n(gt),bt=a(122),Et=Object(b.a)(function(e){return{friendGrid:{padding:e.spacing(3,2)},titleBar:{"& ul,& ul li":{margin:0,padding:0},"& ul li span":{fontSize:"20px"}},pictureGrid:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},gridList:{height:450},icon:{color:"rgba(255, 255, 255, 0.54)"},friendAvatar:{margin:10,color:"#fff",backgroundColor:bt.a[500]}}});function xt(e){var t=Et(),a=e.friends;return r.a.createElement("div",null,r.a.createElement(pe.a,{className:t.friendGrid},r.a.createElement("div",{className:t.titleBar},r.a.createElement(je.a,null,r.a.createElement(Ie.a,null,r.a.createElement(ne.a,{className:t.friendAvatar},r.a.createElement(ft.a,null)),r.a.createElement(te.a,{primary:"Friends"})))),r.a.createElement("div",{className:t.pictureGrid},r.a.createElement(Xe.a,{cellHeight:120,className:t.gridList,cols:3},a.map(function(e){return r.a.createElement(Ve.a,{key:e._id,cols:1},r.a.createElement("img",{src:e.profileImage?"/"+e.profileImage:"/images/blank.png",alt:e.name}),r.a.createElement(ht.a,{title:e.name}))})))))}var vt=Object(b.a)(function(e){return{postDescription:{"& p":{padding:e.spacing(0,2)},"& a":{textDecoration:"none",padding:"0 2px",color:"#385898","&:hover":{textDecoration:"underline",cursor:"pointer"}}},gridList:{transform:"translateZ(0)","& img":{backgroundPosition:"initial",cursor:"pointer"}},images:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},arrowTag:{content:" ",position:"absolute",left:"5%",bottom:"100%",borderWidth:"5px",borderStyle:"solid",borderColor:"transparent transparent black"},popperElement:{zIndex:50,maxWidth:"300px",minWidth:"192px"},popperContent:{transform:"translate3d(0, 11px, 0px)",background:"#000",color:"#fff","& p:hover":{color:"#fff",background:"#385898",cursor:"pointer"}}}});var yt=function(e){var t,a=vt(),n=r.a.useState(!1),o=Object(f.a)(n,2),i=o[0],l=o[1],c=r.a.useState(null),s=Object(f.a)(c,2),p=s[0],m=s[1],d=r.a.useState(null),u=Object(f.a)(d,2),h=u[0],g=u[1],b=e.post,E=b.images,x=b.tags,v=x.length-1,y=x.slice(1);t=1===E.length?E.map(function(e){return{_id:e._id,imageUrl:e.imageUrl,featured:!0}}):E.map(function(e){return{_id:e._id,imageUrl:e.imageUrl,featured:!1}});var N=Boolean(h);return r.a.createElement("div",{key:b._id,className:a.postDescription},r.a.createElement(D.a,{component:"div",style:{textAlign:"left"}},r.a.createElement("p",null,b.text),1===x.length?r.a.createElement("p",null,"- with ",r.a.createElement("a",{href:"#"},x[0].user.name)):x.length>1?r.a.createElement("p",null,"- with ",r.a.createElement("a",{href:"#"},x[0].user.name)," and ",r.a.createElement("a",{onClick:function(e){g(h?null:e.currentTarget)}},v," others")):null,r.a.createElement(se.a,{className:a.popperElement,anchorEl:h,open:N,placement:"bottom-start",disablePortal:!0,modifiers:{flip:{enabled:!1},preventOverflow:{enabled:!1,boundariesElement:"scrollParent"}}},r.a.createElement("div",{className:a.popperContent},r.a.createElement("div",{className:a.arrowTag}," "),y.map(function(e){return r.a.createElement(D.a,{key:e.user._id,className:a.typography}," ",e.user.name," ")})))),r.a.createElement("div",{className:a.images},r.a.createElement(Xe.a,{cellHeight:200,className:a.gridList},t.map(function(e){return r.a.createElement(Ve.a,{cols:e.featured?2:1,rows:e.featured?2:1,key:e._id},r.a.createElement("img",{onClick:function(){return function(e,t){var a;l(!0),e.images.find(function(n){n._id===t&&(a={_id:e._id,image:n.imageUrl,createdBy:e.createdBy,comments:e.comments,like:e.like,profileImage:e.profileImage,userName:e.userName})}),m(a)}(b,e._id)},src:"/"+e.imageUrl}))})),i?r.a.createElement(mt,{openPhoto:i,imageDetails:p,onclose:function(){l(!1)}}):null))},Nt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleLike=function(e){var t=a.props.auth.user.id;a.props.likePost(e,t)},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,a=this.props.auth.user,n=this.props.post.allPosts,o=this.props.profile.friends;return r.a.createElement("div",{className:t.pageDetails},r.a.createElement(g.a,{container:!0,spacing:0},r.a.createElement(g.a,{item:!0,xs:5},r.a.createElement("div",{className:t.leftContent},r.a.createElement("div",{className:t.userAbout},r.a.createElement(Ce,null)),r.a.createElement("div",{className:t.photoGrid},r.a.createElement(ut,{posts:n})),r.a.createElement("div",{className:t.friendGrid},r.a.createElement(xt,{friends:o})))),r.a.createElement(g.a,{item:!0,xs:7},r.a.createElement("div",{className:t.RightContent},r.a.createElement("div",{className:t.CreatePost},r.a.createElement(Ke,null)),n.length>0?n.map(function(n){return r.a.createElement(pe.a,{key:n._id,className:t.postItems},r.a.createElement(je.a,{className:t.list},r.a.createElement(Ie.a,{alignItems:"flex-start"},r.a.createElement(ae.a,null,r.a.createElement(ne.a,{alt:"Remy Sharp",src:"/"+n.createdBy.profileImage})),r.a.createElement(te.a,{primary:n.createdBy.name}))),r.a.createElement(yt,{post:n}),r.a.createElement("div",{className:t.actionsResult},r.a.createElement(D.a,{className:t.actionsResultItem},r.a.createElement(nt.a,{className:t.likeResultIcon,color:"primary"})),r.a.createElement(D.a,{className:t.actionsResultItem},n.like?n.like.length:0)),r.a.createElement("hr",{className:t.divider}),r.a.createElement("div",{className:t.actionsList},r.a.createElement(D.a,{onClick:function(){return e.handleLike(n._id)},className:t.actionItems},r.a.createElement(nt.a,{className:n.like&&n.like.find(function(e){return e.user===a.id})?t.actionIcons:t.takeAction}),"Like"),r.a.createElement(D.a,{className:t.actionItems},r.a.createElement(tt.a,{className:t.actionIcons}),"Comment"),r.a.createElement(D.a,{className:t.actionItems},r.a.createElement(ot.a,{className:t.actionIcons}),"Share")),r.a.createElement("hr",{className:t.divider}),r.a.createElement("div",{className:t.commentSection},r.a.createElement("div",{className:t.createComment},r.a.createElement(lt,{postId:n._id})),r.a.createElement("div",{className:t.comments},n.comments?n.comments.map(function(e){return r.a.createElement(st,{key:"timeline/".concat(n._id,"-").concat(e._id),comment:e})}):null)))}):null))))}}]),t}(n.Component),kt=Object(E.b)(function(e){return{auth:e.auth,post:e.post,profile:e.profile}},{setTimeLineUser:be,likePost:Ee,clearAllPosts:xe})(Object(h.a)(function(e){return Object(F.a)({timeline:{width:"85%",marginLeft:"5%"},timeLineCover:{borderRadius:"2px"},coverPhoto:{width:"100%",height:"auto","& > img":{width:"100%",height:"400px",border:"1px solid #888888",boxShadow:"1px 1px #888888"}},profilePicture:{transform:"translate(-35%,-80%)",position:"absolute",left:"10%","&  img":{padding:e.spacing(.25,.25),width:"200px",height:"200px",borderRadius:"50%",border:"2px solid #fff",background:"#fff",zIndex:100}},uploadPhotoDiv:{bottom:"10px",left:"5px",overflow:"hidden",width:"200px",position:"absolute"},updatePhoto:{background:"linear-gradient( transparent, rgba(0, 0, 0, .6) 0%, rgba(0, 0, 0, .6) 100% )",width:"100%",borderBottomLeftRadius:"90px",borderBottomRightRadius:"90px",height:"90px",textAlign:"center",color:"#fff",cursor:"pointer",transition:"0.3s"},uploadImageInput:{display:"none"},timeLineNav:{paddingLeft:"30%",borderRadius:"none",background:"#fff"},navList:{margin:0,padding:0,display:"flex",listStyleType:"none",borderLeft:"1px solid #e9eaed"},listItem:{borderRight:"1px solid #e9eaed",height:"43px",lineHeight:3.05,padding:"17px 17px",position:"relative",verticalAlign:"middle",whiteSpace:"nowrap",color:"#385898",cursor:"pointer",textDecoration:"none",fontSize:"16px",fontWeight:600},totalFriends:{color:"#89919c",fontSize:"11px",fontWeight:"normal",paddingLeft:"6px"},pageDetails:{marginTop:e.spacing(2)},RightContent:{marginLeft:"20px",width:"120%"},photoGrid:{marginTop:e.spacing(2)},friendGrid:{marginTop:e.spacing(2)},actionContainer:{width:"50%",position:"absolute"},interactingActions:{position:"absolute",display:"flex",padding:"0px 12px",bottom:"20px",left:"30%","& div a":{padding:"4px 16px",background:"#e9eaed",border:"1px solid #ccd0d5",cursor:"pointer"}},otherActions:{marginLeft:e.spacing(1),display:"flex"},typography:{padding:"8px 16px 4px 22px",fontSize:"14px"},arrowFriend:{content:" ",position:"absolute",left:"5%",bottom:"100%",borderWidth:"10px",borderStyle:"solid",borderColor:"transparent transparent white"},arrowFollow:{content:" ",position:"absolute",right:"5%",bottom:"100%",borderWidth:"10px",borderStyle:"solid",borderColor:"transparent transparent white"},popperElement:{zIndex:50,maxWidth:"300px",minWidth:"192px"},popperContent:{transform:"translate3d(0, 11px, 0px)","& p:hover":{color:"#fff",background:"#385898",cursor:"pointer"}},divider:{borderBottom:"1px solid #ddd",margin:"5px 7px 6px",paddingTop:"1px"},postItems:{marginTop:e.spacing(5),display:"block",width:"80%"},list:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},inline:{display:"inline"},post:{width:"100%"},actionsResult:{padding:e.spacing(1,0),display:"flex",maxWidth:"100%",backgroundColor:e.palette.background.paper},actionsResultItem:{justifyContent:"center",alignItems:"center",textAlign:"center",padding:0},actionsList:{padding:e.spacing(1,2),display:"flex",maxWidth:"100%",backgroundColor:e.palette.background.paper,justifyContent:"space-around"},actionItems:{justifyContent:"center",alignItems:"center",textAlign:"center",padding:e.spacing(0,2),"&:hover":{cursor:"pointer"}},actionIcons:{margin:e.spacing(-.5,.5),color:"#385898"},takeAction:{margin:e.spacing(-.5,.5),color:"#e9eaed"},likeResultIcon:{margin:e.spacing(-.5,.5)},commentSection:{marginTop:e.spacing(1)},createComment:{marginTop:e.spacing(2)},comments:{marginTop:e.spacing(1)}},"divider",{borderBottom:"1px solid #ddd",margin:"5px 7px 6px",paddingTop:"1px"})})(Object(u.g)(Nt))),Ot=a(243),jt=a.n(Ot),It=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.props.auth.user;return r.a.createElement("div",{className:e.about},r.a.createElement("div",{className:e.aboutHeader},r.a.createElement("h3",{className:e.headerContent},r.a.createElement(ge.a,null,r.a.createElement(jt.a,{className:e.personIcon})),r.a.createElement(d.b,{to:"/".concat(t.userName,"/about")},"About"))))}}]),t}(n.Component),wt=Object(E.b)(function(e){return{auth:e.auth,post:e.post,profile:e.profile}})(Object(h.a)(function(e){return{about:{marginTop:e.spacing(2),background:"#fff",border:"1px solid #ccd0d5",borderRadius:"3px",marginBottom:"10px"},aboutHeader:{background:"#f5f6f7",borderBottom:"1px solid #d3d6db",borderRadius:"2px 2px 0 0",marginBottom:"15px",paddingTop:"16px"},headerContent:{fontSize:"20px",fontWeight:"bold",height:"32px",margin:"0 12px 5px",lineHeight:1,"& a":{color:"#4b4f56",textDecoration:"none",verticalAlign:"text-top"}},personIcon:{color:"#969292"}}})(Object(u.g)(It))),Ct=a(245),St=a.n(Ct),Tt=a(244),Bt=a.n(Tt),Lt=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.props.auth.user,a=this.props.profile.friends.map(function(t){return r.a.createElement("li",{key:t._id,className:e.friendDetails},r.a.createElement("div",{className:e.friend},r.a.createElement("img",{src:t.profileImage?"/".concat(t.profileImage):"/images/blank.png",alt:""}),r.a.createElement("div",{className:e.friendWrapper},r.a.createElement("div",{className:e.friendStatusWrapper,style:{height:"35px"}}),r.a.createElement("div",{className:e.friendStatus},r.a.createElement("div",{className:e.friendButton},r.a.createElement("a",null,r.a.createElement("span",{className:e.checkIcon},r.a.createElement(ge.a,null,r.a.createElement(Bt.a,null))),r.a.createElement("span",null," Friends"))))),r.a.createElement("div",{className:e.nameWrapper},r.a.createElement("div",{className:e.friendStatusWrapper,style:{height:"35px"}}),r.a.createElement("div",{className:e.friendNameWrapper},r.a.createElement(d.b,{className:e.friendName,to:"/".concat(t.userName)},t.name)))))});return r.a.createElement("div",{className:e.friends},r.a.createElement("div",{className:e.friendsHeader},r.a.createElement("h3",{className:e.headerContent},r.a.createElement(ge.a,null,r.a.createElement(St.a,{className:e.personsIcon})),r.a.createElement(d.b,{to:"/".concat(t.userName,"/friends")}," Friends"))),r.a.createElement(g.a,{container:!0,spacing:0},r.a.createElement("ul",{className:e.friendsList},a)))}}]),t}(n.Component),Pt=Object(E.b)(function(e){return{auth:e.auth,post:e.post,profile:e.profile}})(Object(h.a)(function(e){return{friends:{marginTop:e.spacing(2),background:"#fff",border:"1px solid #ccd0d5",borderRadius:"3px",marginBottom:"10px"},friendsHeader:{background:"#f5f6f7",borderBottom:"1px solid #d3d6db",borderRadius:"2px 2px 0 0",marginBottom:"15px",paddingTop:"16px"},headerContent:{fontSize:"20px",fontWeight:"bold",height:"32px",margin:"0 12px 5px",lineHeight:1,"& a":{color:"#4b4f56",textDecoration:"none",verticalAlign:"text-top"}},personIcon:{color:"#969292"},friendsList:{listStyleType:"none",margin:0,padding:0},friendDetails:{border:"1px solid #e9ebee",display:"inline-block",margin:"0 0 13px 13px",padding:"0 10px 0 0",position:"relative",varticalAlign:"top",width:"390px"},friend:{"& img":{width:"100px",height:"100px",float:"left"}},friendWrapper:{display:"inline-block",float:"right"},friendStatusWrapper:{display:"inline-block",verticalAlign:"middle"},friendButton:{display:"inline-block",verticalAlign:"top","& a":{padding:"4px 12px",background:"#e9eaed",border:"1px solid #ccd0d5",cursor:"pointer"}},checkIcon:{verticalAlign:"sub","& svg":{color:"green",width:"0.9em"}},nameWrapper:{display:"inline-block"},friendName:{color:"#385898",cursor:"pointer",textDecoration:"none",fontWeight:"600",fontSize:"14px",marginLeft:"20px","&:hover":{textDecoration:"underline"}}}})(Object(u.g)(Lt))),Ft=a(246),Rt=a.n(Ft),At=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(s.a)(this,Object(p.a)(t).call(this))).onPhotoClick=function(t){e.setState({openPhoto:!0,imageDetails:t})},e.state={openPhoto:!1,imageDetails:null},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,a=this.props.auth.user,n=this.props.post.allPosts.filter(function(e){return e.images.length>0}).map(function(e){return e.images.map(function(t){return{_id:e._id,image:t.imageUrl,createdBy:e.createdBy,comments:e.comments,like:e.like,profileImage:e.profileImage,userName:e.userName}})}).flat(1);return r.a.createElement("div",{className:t.photos},r.a.createElement("div",{className:t.photosHeader},r.a.createElement("h3",{className:t.headerContent},r.a.createElement(ge.a,null,r.a.createElement(Rt.a,{className:t.cameraIcon})),r.a.createElement(d.b,{to:"/".concat(a.userName,"/photos")},"Photos"))),r.a.createElement("div",{className:t.pictureGrid},r.a.createElement(Xe.a,{className:t.gridList,cols:4},n.map(function(t){return r.a.createElement(Ve.a,{key:t._id,cols:1},r.a.createElement("img",{onClick:function(){return e.onPhotoClick(t)},src:"/"+t.image}))})),this.state.openPhoto?r.a.createElement(mt,{openPhoto:this.state.openPhoto,imageDetails:this.state.imageDetails,onclose:function(){return e.setState({openPhoto:!1})}}):null))}}]),t}(n.Component),_t=Object(E.b)(function(e){return{auth:e.auth,post:e.post,profile:e.profile}})(Object(h.a)(function(e){return{photos:{marginTop:e.spacing(2),background:"#fff",border:"1px solid #ccd0d5",borderRadius:"3px",marginBottom:"10px"},photosHeader:{background:"#f5f6f7",borderBottom:"1px solid #d3d6db",borderRadius:"2px 2px 0 0",marginBottom:"15px",paddingTop:"16px"},headerContent:{fontSize:"20px",fontWeight:"bold",height:"32px",margin:"0 12px 5px",lineHeight:1,"& a":{color:"#4b4f56",textDecoration:"none",verticalAlign:"text-top"}},cameraIcon:{color:"#969292"},pictureGrid:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},gridList:{height:450,"& img":{cursor:"pointer"}}}})(Object(u.g)(At))),Wt=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(s.a)(this,Object(p.a)(t).call(this))).handleFriendPopper=function(t){e.setState({anchorE1:e.state.anchorE1?null:t.currentTarget,anchorE2:null})},e.handleFollowPopper=function(t){e.setState({anchorE2:e.state.anchorE2?null:t.currentTarget,anchorE1:null})},e.handleMouseOutFriend=function(){e.setState({anchorE1:null,anchorE2:null})},e.handleMouseOutFollow=function(){e.setState({anchorE2:null,anchorE1:null})},e.uploadProfilePhoto=function(t){var a=e.props.auth.user,n=t.target.files[0],r=new FormData;r.append("userId",a.id),r.append("fileImages",n),e.props.uploadPhoto(r,a.userName)},e.state={isFriend:!1,isFollowing:!1,anchorE1:null,anchorE2:null,isUpload:!1,authUser:!0},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"sendFriendRequest",value:function(e,t,a){e.target.innerHTML="Friend Request Sent",v.a.post("/sendfriendrequest",{userId:t,tlUserId:a}).then(function(e){console.log(e)}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e,t=this,a=this.props.classes,n=this.props.auth.user,o=this.props.profile.timeLineUser,i=Boolean(this.state.anchorE1),l=Boolean(this.state.anchorE2),c=this.props.profile.friends;if(!o.authUser&&c.length>0){var s=c.find(function(e){return e.userName===n.userName});e=s?s.status:-1}return r.a.createElement("div",{className:a.timeline},r.a.createElement("div",{className:a.timeLineCover},r.a.createElement("div",{className:a.coverPhoto},r.a.createElement("img",{src:"/images/Batman.jpg"})),r.a.createElement("div",{onMouseEnter:function(){return t.setState({isUpload:!0})},onMouseLeave:function(){return t.setState({isUpload:!1})},className:a.profilePicture},r.a.createElement("a",{href:"#"},o.profileImage?r.a.createElement("img",{src:"/"+o.profileImage}):r.a.createElement("img",{src:"/images/blank.png"})),o.authUser&&this.state.isUpload?r.a.createElement("div",{className:a.uploadPhotoDiv},r.a.createElement("input",{onChange:this.uploadProfilePhoto,className:a.uploadImageInput,id:"icon-button-file",type:"file"}),r.a.createElement("label",{htmlFor:"icon-button-file"},r.a.createElement("div",{className:a.updatePhoto},r.a.createElement("div",{className:a.cameraIcon},r.a.createElement(ge.a,null,r.a.createElement(he.a,null))),"Upload"))):null),r.a.createElement("div",{className:a.timeLineNav},o.authUser?null:r.a.createElement("div",{className:a.actionContainer},r.a.createElement("div",{className:a.interactingActions},r.a.createElement("div",null,e&&1===e?r.a.createElement("a",{onClick:this.handleFriendPopper,variant:"contained",color:"default"}," Friends "):2===e?r.a.createElement("a",{variant:"contained",color:"default"},"Friend Request Sent"):r.a.createElement("a",{onClick:function(e){return t.sendFriendRequest(e,n.id,o._id)},variant:"contained",color:"default"},"Add Friend"),r.a.createElement(se.a,{className:a.popperElement,anchorEl:this.state.anchorE1,open:i,placement:"bottom-start",disablePortal:!0,modifiers:{flip:{enabled:!1},preventOverflow:{enabled:!1,boundariesElement:"scrollParent"}}},r.a.createElement(pe.a,{className:a.popperContent},r.a.createElement("div",{className:a.arrowFriend}," "),r.a.createElement(D.a,{className:a.typography}," Get Notifications "),r.a.createElement("hr",{className:a.divider}),r.a.createElement(D.a,{className:a.typography}," Close Friends "),r.a.createElement("hr",{className:a.divider}),r.a.createElement(D.a,{className:a.typography}," Unfriend ")))),r.a.createElement("div",{className:a.otherActions},r.a.createElement("div",null," ",this.state.isFollowing?r.a.createElement("a",{onClick:this.handleFollowPopper,variant:"contained",color:"default"}," Following "):r.a.createElement("a",{variant:"contained",color:"default"}," Follow "),r.a.createElement(se.a,{className:a.popperElement,anchorEl:this.state.anchorE2,open:l,placement:"bottom-end",disablePortal:!0,modifiers:{flip:{enabled:!1},preventOverflow:{enabled:!1,boundariesElement:"scrollParent"}}},r.a.createElement(pe.a,{className:a.popperContent},r.a.createElement("div",{className:a.arrowFollow}," "),r.a.createElement(D.a,{className:a.typography}," See First "),r.a.createElement("hr",{className:a.divider}),r.a.createElement(D.a,{className:a.typography}," Default "),r.a.createElement("hr",{className:a.divider}),r.a.createElement(D.a,{className:a.typography}," Unfollow ")))),r.a.createElement("div",null,r.a.createElement("a",{variant:"contained",color:"default"}," Message "),r.a.createElement("a",{variant:"contained",color:"default"}," ... "))))),r.a.createElement("ul",{className:a.navList},r.a.createElement("li",null," ",r.a.createElement(d.b,{to:"/".concat(o.userName),className:a.listItem}," TimeLine ")),r.a.createElement("li",null," ",r.a.createElement(d.b,{to:"/".concat(o.userName,"/about"),className:a.listItem}," About ")),r.a.createElement("li",null," ",r.a.createElement(d.b,{to:"/".concat(o.userName,"/friends"),className:a.listItem}," Friends ",r.a.createElement("span",{className:a.totalFriends}," ",c.length," "))),r.a.createElement("li",null," ",r.a.createElement(d.b,{to:"/".concat(o.userName,"/photos"),className:a.listItem}," Photos ")),r.a.createElement("li",null," ",r.a.createElement(d.b,{to:"#",className:a.listItem}," Archive ")),r.a.createElement("li",null," ",r.a.createElement(d.b,{to:"#",className:a.listItem}," More "))))),r.a.createElement(u.b,{exact:!0,path:"/".concat(o.userName,"/"),component:kt}),r.a.createElement(u.b,{exact:!0,path:"/".concat(o.userName,"/about"),component:wt}),r.a.createElement(u.b,{exact:!0,path:"/".concat(o.userName,"/friends"),component:Pt}),r.a.createElement(u.b,{exact:!0,path:"/".concat(o.userName,"/photos"),component:_t}))}}]),t}(n.Component),Dt=Object(E.b)(function(e){return{auth:e.auth,post:e.post,profile:e.profile}},{uploadPhoto:function(e,t){return function(a){v.a.post("/uploadphoto",e).then(function(e){var n={_id:e.data._id,name:e.data.name,userName:e.data.userName,profileImage:e.data.profileImage,authUser:e.data.userName===t};a({type:"SET_PROFILE_IMAGE",payload:e.data}),a({type:"SET_TIMELINE_USER",payload:n})}).catch(function(e){console.log(e)})}},setTimeLineUser:be,likePost:Ee,clearAllPosts:xe})(Object(h.a)(function(e){return Object(F.a)({timeline:{width:"85%",marginLeft:"5%"},timeLineCover:{borderRadius:"2px"},coverPhoto:{width:"100%",height:"auto","& > img":{width:"100%",height:"400px",border:"1px solid #888888",boxShadow:"1px 1px #888888"}},profilePicture:{transform:"translate(-35%,-80%)",position:"absolute",left:"10%","& img":{padding:e.spacing(.25,.25),width:"200px",height:"200px",borderRadius:"50%",border:"2px solid #fff",background:"#fff",zIndex:100}},uploadPhotoDiv:{bottom:"10px",left:"5px",overflow:"hidden",width:"200px",position:"absolute"},updatePhoto:{background:"linear-gradient( transparent, rgba(0, 0, 0, .6) 0%, rgba(0, 0, 0, .6) 100% )",width:"100%",borderBottomLeftRadius:"90px",borderBottomRightRadius:"90px",height:"90px",textAlign:"center",color:"#fff",cursor:"pointer",transition:"0.3s"},uploadImageInput:{display:"none"},timeLineNav:{paddingLeft:"30%",borderRadius:"none",background:"#fff"},navList:{margin:0,padding:0,display:"flex",listStyleType:"none",borderLeft:"1px solid #e9eaed"},listItem:{borderRight:"1px solid #e9eaed",height:"43px",lineHeight:3.05,padding:"17px 17px",position:"relative",verticalAlign:"middle",whiteSpace:"nowrap",color:"#385898",cursor:"pointer",textDecoration:"none",fontSize:"16px",fontWeight:600},totalFriends:{color:"#89919c",fontSize:"11px",fontWeight:"normal",paddingLeft:"6px"},pageDetails:{marginTop:e.spacing(2)},RightContent:{marginLeft:"20px",width:"120%"},photoGrid:{marginTop:e.spacing(2)},friendGrid:{marginTop:e.spacing(2)},actionContainer:{width:"50%",position:"absolute"},interactingActions:{position:"absolute",display:"flex",padding:"0px 12px",bottom:"20px",left:"30%","& div a":{padding:"4px 16px",background:"#e9eaed",border:"1px solid #ccd0d5",cursor:"pointer"}},otherActions:{marginLeft:e.spacing(1),display:"flex"},typography:{padding:"8px 16px 4px 22px",fontSize:"14px"},arrowFriend:{content:" ",position:"absolute",left:"5%",bottom:"100%",borderWidth:"10px",borderStyle:"solid",borderColor:"transparent transparent white"},arrowFollow:{content:" ",position:"absolute",right:"5%",bottom:"100%",borderWidth:"10px",borderStyle:"solid",borderColor:"transparent transparent white"},popperElement:{zIndex:50,maxWidth:"300px",minWidth:"192px"},popperContent:{transform:"translate3d(0, 11px, 0px)","& p:hover":{color:"#fff",background:"#385898",cursor:"pointer"}},divider:{borderBottom:"1px solid #ddd",margin:"5px 7px 6px",paddingTop:"1px"},postItems:{marginTop:e.spacing(5),display:"block",width:"80%"},list:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},inline:{display:"inline"},post:{width:"100%"},actionsResult:{padding:e.spacing(1,0),display:"flex",maxWidth:"100%",backgroundColor:e.palette.background.paper},actionsResultItem:{justifyContent:"center",alignItems:"center",textAlign:"center",padding:0},actionsList:{padding:e.spacing(1,2),display:"flex",maxWidth:"100%",backgroundColor:e.palette.background.paper,justifyContent:"space-around"},actionItems:{justifyContent:"center",alignItems:"center",textAlign:"center",padding:e.spacing(0,2),"&:hover":{cursor:"pointer"}},actionIcons:{margin:e.spacing(-.5,.5),color:"#385898"},takeAction:{margin:e.spacing(-.5,.5),color:"#e9eaed"},likeResultIcon:{margin:e.spacing(-.5,.5)},commentSection:{marginTop:e.spacing(1)},createComment:{marginTop:e.spacing(2)},comments:{marginTop:e.spacing(1)}},"divider",{borderBottom:"1px solid #ddd",margin:"5px 7px 6px",paddingTop:"1px"})})(Object(u.g)(Wt))),Mt=a(248),Ut=a.n(Mt),zt=a(147),Ht=a.n(zt),Gt=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(s.a)(this,Object(p.a)(t).call(this))).initSocket=function(){var t=Ht()("https://socialconnectapp.herokuapp.com");e.setState({socket:t})},e.handleOpen=function(){e.setState({open:!0})},e.sendMessage=function(t){var a=e.props.auth.user,n=e.props.friend.user;"Enter"===t.key&&e.state.chatMessage.length>0&&v.a.post("/sendmessage",{message:e.state.chatMessage,sender:a.id,reciever:n._id}).then(function(t){e.setState({chatMessage:""})}).catch(function(t){console.log(t),e.setState({chatMessage:""})})},e.state={open:!1,chatMessage:"",allMessages:[],socket:null},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.initSocket();var t=this.props.auth.user,a=this.props.friend.user;v.a.post("/getchat",{userId:t.id,friendId:a._id}).then(function(t){e.setState({allMessages:t.data})}).catch(function(e){console.log(e)})}},{key:"componentWillUpdate",value:function(e,t){var a=this;t.allMessages!==this.state.allMessages&&this.state.socket.once("chat message",function(e){var t=Object(fe.a)(a.state.allMessages);a.setState({allMessages:t.concat(e)})})}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.props.friend.user,n=this.props.auth.user.id,o=this.state.allMessages?this.state.allMessages.sort(function(e,t){return e.createdAt<t.createdAt?-1:1}):[];return r.a.createElement("div",{className:t.chatBoxMain},r.a.createElement("div",{className:t.topBar},r.a.createElement("div",{className:t.userInfo},r.a.createElement(ne.a,{alt:"Batman",src:a.profileImage?"/"+a.profileImage:"/images/blank.png"}),r.a.createElement(D.a,{component:"p"},a.name)),r.a.createElement("div",null,r.a.createElement(Ut.a,{className:t.close,onClick:this.props.click.bind(this)}))),r.a.createElement(pe.a,{className:t.chatBox},r.a.createElement("div",{className:t.chatWindow},o.map(function(e){return e.from._id===n?r.a.createElement("div",{key:e._id,className:t.msgRight},r.a.createElement(D.a,{component:"p"},e.message)):r.a.createElement("div",{key:e._id,className:t.msgLeft},r.a.createElement(D.a,{component:"p"},e.message))})),r.a.createElement("div",{className:t.sendMessageFooter},r.a.createElement(re.a,{className:t.textBox,placeholder:"Enter you message...",fullWidth:!0,disableUnderline:!0,onChange:function(t){return e.setState({chatMessage:t.target.value})},onKeyPress:this.sendMessage,value:this.state.chatMessage}))))}}]),t}(n.Component),qt=Object(E.b)(function(e){return{auth:e.auth,profile:e.profile}})(Object(h.a)(function(e){return{chatBoxMain:{position:"fixed",minWidth:"20%",transform:"translate(-100%)",bottom:0},chatBox:{padding:e.spacing(3,2),height:"300px",width:"100%"},topBar:{padding:e.spacing(1,2),display:"flex",width:"100%",height:"auto",background:"#fff",borderBottom:"1px solid #b2b9c9",boxShadow:"inset 2px 0 2px -2px #b2b9c9",justifyContent:"space-between"},userInfo:{display:"flex","& img, & p":{padding:"0 16px"}},close:{cursor:"pointer"},chatWindow:{display:"flex",flexDirection:"column",width:"100%",height:"250px",overflowY:"scroll"},sendMessageFooter:{width:"100%",marginTop:e.spacing(2),borderTop:"1px solid #e9ebee"},msgLeft:{position:"relative",minHeight:"10px",marginBottom:"15%",wordBreak:"break-all",textAlign:"left",maxWidth:"50%",fontSize:"11px","& p":{background:"#e2e2e2",borderRadius:"45px",padding:"0 16px",fontSize:"15px",lineHeight:"1.2em"}},msgRight:{position:"relative",minHeight:"10px",wordBreak:"break-all",marginBottom:"15%",marginLeft:"50%",textAlign:"left",maxWidth:"50%",color:"#fff",fontSize:"11px","& p":{background:"#2072f7",borderRadius:"45px",padding:"0 16px",fontSize:"15px",lineHeight:"1.2em"}}}})(Gt)),Jt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(p.a)(t).call(this,e))).openModal=function(e){a.setState({open:!0,friend:e})},a.closeModal=function(){a.setState({open:!1})},a.state={open:!1,friendsList:[],friend:null},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.auth.user.id;v.a.post("/getchatfriends",{userId:t}).then(function(t){e.setState({friendsList:t.data})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.friendsList;return r.a.createElement("div",null,r.a.createElement(pe.a,{className:t.userList},r.a.createElement(D.a,{className:t.contactsHeader},"Contacts"),r.a.createElement(je.a,{component:"nav","aria-label":"Secondary mailbox folders"},a?a.map(function(t){return r.a.createElement(Ie.a,{key:t.user._id,button:!0,onClick:function(){return e.openModal(t)}},r.a.createElement(ae.a,null,r.a.createElement(ne.a,{alt:"Remy Sharp",src:t.user.profileImage?"/"+t.user.profileImage:"/images/blank.png"})),r.a.createElement(te.a,{primary:t.user.name}))}):null)),this.state.open?r.a.createElement(qt,{friend:this.state.friend,click:this.closeModal}):null)}}]),t}(n.Component),Kt=Object(E.b)(function(e){return{auth:e.auth}})(Object(h.a)(function(e){return{userList:{width:"60%",padding:e.spacing(3,2),marginLeft:"30%",borderLeft:"1px solid #6b6c70",borderRadius:0,background:"url('/images/bgImage.png')",boxShadow:"inset 2px 0 2px -2px #b2b9c9",lineHeight:"16px"},contactsHeader:{textAlign:"left",fontWeight:"bold",fontSize:"14px",height:"16px",color:"#4a4a4a"},online:{color:"green"}}})(Jt)),Xt=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.auth,t=e.isAuthenticated,a=e.user;if(t){var n=this.props.match.params.userName;this.props.setTimeLineUser(n,a.userName)}else this.props.history.replace("/auth")}},{key:"componentDidUpdate",value:function(e){var t=this.props.auth,a=t.isAuthenticated,n=t.user;if(a!=e.auth.isAuthenticated)this.props.auth.isAuthenticated||this.props.history.replace("/auth");else if(e.match.params.userName!=this.props.match.params.userName){var r=this.props.match.params.userName;this.props.setTimeLineUser(r,n.userName)}}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{item:!0,xs:12},r.a.createElement(de,null)),r.a.createElement(g.a,{item:!0,xs:9},r.a.createElement(Dt,null)),r.a.createElement(g.a,{item:!0,xs:3},r.a.createElement(Kt,null)))}}]),t}(n.Component),Vt=Object(E.b)(function(e){return{auth:e.auth,post:e.post,profile:e.profile}},{setTimeLineUser:be})(Xt),$t=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleLike=function(e){var t=a.props.auth.user.id;a.props.likePost(e,t)},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.auth.user.id;this.props.getFeed(e)}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.props.post.allPosts,n=this.props.auth.user;return r.a.createElement("div",null,a?a.map(function(a){return r.a.createElement(pe.a,{key:a._id,className:t.root},r.a.createElement(je.a,{className:t.list},r.a.createElement(Ie.a,{alignItems:"flex-start"},r.a.createElement(ae.a,null,r.a.createElement(ne.a,{alt:"Remy Sharp",src:"/"+a.createdBy.profileImage})),r.a.createElement(te.a,{primary:a.createdBy.name}))),r.a.createElement(yt,{post:a}),r.a.createElement("div",{className:t.actionsResult},r.a.createElement(D.a,{className:t.actionsResultItem},r.a.createElement(nt.a,{className:t.likeResultIcon,color:"primary"})),r.a.createElement(D.a,{className:t.actionsResultItem},a.like?a.like.length:0)),r.a.createElement("hr",{className:t.divider}),r.a.createElement("div",{className:t.actionsList},r.a.createElement(D.a,{onClick:function(){return e.handleLike(a._id)},className:t.actionItems},r.a.createElement(nt.a,{className:a.like&&a.like.find(function(e){return e.user===n.id})?t.actionIcons:t.takeAction}),"Like"),r.a.createElement(D.a,{className:t.actionItems},r.a.createElement(tt.a,{className:t.actionIcons}),"Comment"),r.a.createElement(D.a,{className:t.actionItems},r.a.createElement(ot.a,{className:t.actionIcons}),"Share")),r.a.createElement("hr",{className:t.divider}),r.a.createElement("div",{className:t.commentSection},r.a.createElement("div",{className:t.createComment},r.a.createElement(lt,{postId:a._id})),r.a.createElement("div",{className:t.comments},a.comments?a.comments.map(function(e){return r.a.createElement(st,{key:e._id,comment:e})}):null)))}):null)}}]),t}(n.Component),Yt=Object(E.b)(function(e){return{auth:e.auth,post:e.post}},{getFeed:function(e){return function(t){v.a.post("/getfeed",{userId:e}).then(function(e){t({type:"GET_FEED",payload:e.data})}).catch(function(e){console.log(e)})}},likePost:Ee})(Object(h.a)(function(e){return{root:{marginTop:e.spacing(5),display:"block",width:"80%"},list:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},inline:{display:"inline"},post:{width:"100%"},actionsResult:{padding:e.spacing(1,0),display:"flex",maxWidth:"100%",backgroundColor:e.palette.background.paper},actionsResultItem:{justifyContent:"center",alignItems:"center",textAlign:"center",padding:0},actionsList:{padding:e.spacing(1,2),display:"flex",maxWidth:"100%",backgroundColor:e.palette.background.paper,justifyContent:"space-around"},actionItems:{justifyContent:"center",alignItems:"center",textAlign:"center",padding:e.spacing(0,2),"&:hover":{cursor:"pointer"}},actionIcons:{margin:e.spacing(-.5,.5),color:"#385898"},takeAction:{margin:e.spacing(-.5,.5),color:"#e9eaed"},likeResultIcon:{margin:e.spacing(-.5,.5)},commentSection:{marginTop:e.spacing(1)},createComment:{marginTop:e.spacing(2)},comments:{marginTop:e.spacing(1)},divider:{borderBottom:"1px solid #ddd",margin:"5px 7px 6px",paddingTop:"1px"}}})($t));function Zt(){return r.a.createElement("div",{style:{marginTop:"20px"}},r.a.createElement(Ke,null),r.a.createElement(Yt,null))}var Qt=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{item:!0,xs:12},r.a.createElement(de,null)),r.a.createElement(g.a,{item:!0,xs:3}),r.a.createElement(g.a,{item:!0,xs:6},r.a.createElement(Zt,null)),r.a.createElement(g.a,{item:!0,xs:3},r.a.createElement(Kt,null)))}}]),t}(n.Component),ea=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(d.a,null,r.a.createElement("div",{className:e.root},r.a.createElement(u.d,null,r.a.createElement(u.b,{path:"/auth",component:L}),r.a.createElement(g.a,{container:!0},r.a.createElement(P,{path:"/:userName",component:Vt}),r.a.createElement(P,{exact:!0,path:"/",component:Qt})))))}}]),t}(n.Component),ta=Object(h.a)(function(e){return{root:{background:"url('/images/bgImage.png')",height:"100%"}}})(ea);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var aa=a(71),na=a(249),ra={isAuthenticated:!1,user:{}},oa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ra,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTH_USER":return Object(Me.a)({},e,{isAuthenticated:!(0===Object.entries(t.payload).length&&t.payload.constructor===Object),user:t.payload});case"SET_PROFILE_IMAGE":var a=e.user;return a.profileImage=t.payload.profileImage,Object(Me.a)({},e,{user:a});default:return e}},ia={allPosts:[],timeLinePosts:[]},la=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ia,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_FEED":return Object(Me.a)({},e,{allPosts:t.payload});case"SUBMIT_POST":return Object(Me.a)({},e,{allPosts:[t.payload].concat(Object(fe.a)(e.allPosts))});case"GET_TIMELINE_FEED":return Object(Me.a)({},e,{timeLinePosts:t.payload});case"CREATE_COMMENT":var a=Object(fe.a)(e.allPosts),n=t.payload;return a.find(function(e){e._id===n.post&&e.comments.push(n)}),Object(Me.a)({},e,{allPosts:a});case"LIKE_COMMENT":var r=Object(fe.a)(e.allPosts);return r.find(function(e){e._id===t.payload._id&&(e.like=Object(fe.a)(t.payload.like))}),Object(Me.a)({},e,{allPosts:r});case"CLEAR_POSTS":return Object(Me.a)({},e,{allPosts:t.payload});default:return e}},ca={timeLineUser:[],friends:[],socket:null},sa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ca,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TIMELINE_USER":return Object(Me.a)({},e,{timeLineUser:t.payload});case"GET_FRIENDS":return Object(Me.a)({},e,{friends:t.payload});case"SOCKET_CONNECT":return Object(Me.a)({},e,{socket:t.payload});default:return e}},pa=[na.a],ma=Object(aa.c)({auth:oa,post:la,profile:sa}),da=Object(aa.e)(ma,{},Object(aa.d)(aa.a.apply(void 0,pa),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));if(localStorage.getItem("token")){var ua=localStorage.getItem("token");try{var ha=N.a.verify(ua.substring(7),"secret");da.dispatch(O(ha))}catch(fa){da.dispatch(j()),window.location.href="/auth"}}var ga=r.a.createElement(E.a,{store:da},r.a.createElement(ta,null));i.a.render(ga,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[262,1,2]]]);
//# sourceMappingURL=main.5e20ca69.chunk.js.map