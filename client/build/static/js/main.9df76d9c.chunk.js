(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{324:function(e,t,a){e.exports=a(532)},329:function(e,t,a){},353:function(e,t){},355:function(e,t){},369:function(e,t){},371:function(e,t){},399:function(e,t){},401:function(e,t){},402:function(e,t){},408:function(e,t){},410:function(e,t){},428:function(e,t){},431:function(e,t){},447:function(e,t){},450:function(e,t){},490:function(e,t){},532:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(18),o=a.n(i),l=(a(329),a(21)),c=a(22),s=a(24),m=a(23),p=a(26),d=a(61),u=a(5),g=a(594),h=a(7),f=a(574),b=a(13),E=a(14),x=a.n(E),v=a(123),k=a.n(v),y=function(e){e?(x.a.defaults.headers.common.Authorization=e,x.a.defaults.withCredentials=!0):delete x.a.defaults.headers.common.Authorization},N=a(286),O=a.n(N),I=function(e){return{type:"SET_AUTH_USER",payload:e}},j=function(){return{type:"SOCKET_INIT",payload:O()("/")}},w=function(){return function(e){localStorage.removeItem("token"),y(!1),e(I({}))}},C=a(576),S=a(597),T=Object(f.a)((function(e){return{topNavBar:{backgroundColor:"#3b5998",backgroundImage:"linear-gradient(#4e69a2, #3b5998 50%)",borderBottom:"1px solid #133783",minHeight:"42px",position:"relative",zIndex:1},menuBarContainer:{height:"82px",minWidth:"1100px"},loginNav:{display:"block",margin:"0 auto",width:"1100px"},floatLeft:{float:"left","& h1":{clip:"rect(1px, 1px, 1px, 1px)",height:"1px",left:"auto",whiteSpace:"nowrap",width:"1px",color:"#fff",fontSize:"36px"}},floatRight:{float:"right",paddingTop:"13px"},inputText:{borderColor:"#1d2a5b",margin:0,width:"180px",padding:"4px 8px","& input":{padding:"12px 10px"}},loginButton:{background:"#4267b2",borderColor:"#29487d",borderRadius:"2px",cursor:"pointer",display:"inline-block",fontSize:"12px",fontWeight:"bold",lineHeight:"18px",border:"1px solid #ccd0d5",padding:"4px 8px",marginTop:"2px",textAlign:"center",textDecoration:"none",textShadow:"none",verticalAlign:"top",whiteSpace:"nowrap","& input":{background:"none",border:0,cursor:"pointer",color:"#fff",display:"inline-block",fontWeight:"bold",lineHeight:"18px",marginTop:0,padding:0,whiteSpace:"nowrap"},"&:hover":{backgroundColor:"#365899",borderColor:"#29487d",textDecoration:"none"}},cssOutlinedInput:{"&$cssFocused $notchedOutline":{borderColor:"#000 !important"}},cssFocused:{color:""},textInput:{height:1,background:"#fff"}}}));var B=Object(b.b)((function(e){return{auth:e.auth,error:e.error}}),{login:function(e){return function(t){x.a.post("login",e).then((function(e){if(e.data.token){localStorage.setItem("token",e.data.token),y(e.data.token);var a=k.a.verify(e.data.token.substring(7),"secret");t(I(a)),t(j())}})).catch((function(e){var a={};Array.isArray(e.response.data)?e.response.data.map((function(e){e.nestedErrors?a[e.nestedErrors[0].param]=e.msg:a[e.param]=e.msg})):a=e.response.data,t({type:"GET_ERRORS",payload:a})}))}}})(Object(d.g)((function(e){var t=Object(n.useState)(""),a=Object(h.a)(t,2),i=a[0],o=a[1],l=Object(n.useState)(""),c=Object(h.a)(l,2),s=c[0],m=c[1],p=T();return Object(n.useEffect)((function(){e.auth.isAuthenticated?e.history.replace("/"):e.history.replace("/auth")}),[e.auth.isAuthenticated]),r.a.createElement("div",{className:p.topNavBar},r.a.createElement("div",{className:p.menuBarContainer},r.a.createElement("div",{className:p.loginNav},r.a.createElement("div",{className:p.floatLeft},r.a.createElement("h1",null,"SocialConnect")),r.a.createElement("div",{className:p.floatRight},r.a.createElement(C.a,{disabled:!0,color:"#fff",error:null!==e.error,value:e.error.message||"",disableUnderline:!0,inputProps:{style:{color:"red"}}}),r.a.createElement(S.a,{className:p.inputText,margin:"normal",variant:"outlined",placeholder:"Email or Phone",error:!!e.error.contactInfo,helperText:e.error.contactInfo,onChange:function(e){return o(e.target.value)},InputProps:{classes:{root:p.cssOutlinedInput,focused:p.cssFocused,input:p.textInput}},type:"email",name:"email"}),r.a.createElement(S.a,{className:p.inputText,margin:"normal",variant:"outlined",placeholder:"Password",error:!!e.error.password,helperText:e.error.password,onChange:function(e){return m(e.target.value)},InputProps:{classes:{root:p.cssOutlinedInput,focused:p.cssFocused,input:p.textInput}},type:"password",name:"password"}),r.a.createElement("label",{htmlFor:"login",className:p.loginButton},r.a.createElement("input",{type:"submit",onClick:function(t){t.preventDefault();var a={contactInfo:i,password:s};e.login(a)},value:"Log In"}))))))}))),F=a(578),P=Object(f.a)((function(e){return{contentClearFix:{margin:0,outline:"none",padding:0,width:"auto"},gradient:{backgroundImage:"linear-gradient(white, #D3D8E8)",minWidth:"980px"},signupContent:{display:"block",margin:"0 auto",width:"980px"},left:{float:"left"},leftContent:{marginRight:"15px",width:"565","& img":{width:"537px",height:"195px"}},leftContentText:{color:"#0e385f",fontSize:"20px",fontWeight:"bold",lineHeight:"29px",marginTop:"40px",width:"450px",wordSpacing:"-1px"},right:{float:"right"},rightContent:{maxWidth:"400px"},rightContentText:{padding:"20px 0","& span":{fontSize:"36px",fontWeight:600}},fullNameContainer:{display:"flex"},cssOutlinedInput:{"&$cssFocused $notchedOutline":{borderColor:"#000 !important"}},notchedOutline:{borderWidth:"1px"},cssFocused:{color:""},dayOfDOB:{padding:"5px",height:"30px",border:"1px solid #ccd0d5","& option":{whiteSpace:"pre",minHeight:"1.2em",padding:"0px 2px 1px"}},birthdayText:{color:"#90949c",fontSize:"18px",fontWeight:"bold",marginTop:"10px",marginBottom:"5px"},genderText:{color:"#90949c",fontSize:"18px",fontWeight:"bold",marginTop:"10px",marginBottom:"5px"},gender:{"& span":{borderRadius:"4px",borderWidth:"1px",display:"inline-block",padding:"5px 0 5px 4px"},"& input[type='radio']":{margin:"3px 3px 0px 5px",boxSizing:"border-box",padding:"initial",border:"initial"}},signupButton:{padding:"12px 48px",width:"50%"}}}));function R(){var e=P(),t=Object(n.useState)(""),a=Object(h.a)(t,2),i=a[0],o=a[1],l=Object(n.useState)(""),c=Object(h.a)(l,2),s=c[0],m=c[1],p=Object(n.useState)(""),d=Object(h.a)(p,2),u=d[0],g=d[1],f=Object(n.useState)(""),b=Object(h.a)(f,2),E=b[0],v=b[1],k=Object(n.useState)(""),y=Object(h.a)(k,2),N=y[0],O=y[1],I=Object(n.useState)(""),j=Object(h.a)(I,2),w=j[0],C=j[1],T=Object(n.useState)(""),B=Object(h.a)(T,2),R=B[0],L=B[1],A=Object(n.useState)(""),_=Object(h.a)(A,2),D=_[0],W=_[1],M=Object(n.useState)({}),U=Object(h.a)(M,2),z=U[0],H=U[1];return r.a.createElement("div",{className:e.contentClearFix},r.a.createElement("div",{className:e.gradient},r.a.createElement("div",{className:e.signupContent},r.a.createElement("div",{className:e.left},r.a.createElement("div",{className:e.leftContent},r.a.createElement("div",{className:e.leftContentText},"SocialConnect helps you connect and share with the people in your life."),r.a.createElement("img",{src:"/images/facebook-img.png",alt:""}))),r.a.createElement("div",{className:e.right},r.a.createElement("div",{className:e.rightContent},r.a.createElement("div",{className:e.rightContentText},r.a.createElement("span",null,"Create an account")),r.a.createElement("div",{className:e.registrationContainer},r.a.createElement("div",{className:e.fullNameContainer},r.a.createElement(S.a,{id:"outlined-with-placeholder",label:"First Name",error:!!z.firstName,helperText:z.firstName,placeholder:"Enter First Name",className:e.textField,margin:"normal",variant:"outlined",name:"firstName",InputProps:{classes:{root:e.cssOutlinedInput,focused:e.cssFocused,notchedOutline:e.notchedOutline}},onChange:function(e){return o(e.target.value)}}),r.a.createElement(S.a,{id:"outlined-with-placeholder",label:"Last Name",placeholder:"Enter Last Name",error:!!z.lastName,helperText:z.lastName,className:e.textField,margin:"normal",variant:"outlined",name:"lastName",InputProps:{classes:{root:e.cssOutlinedInput,focused:e.cssFocused,notchedOutline:e.notchedOutline}},onChange:function(e){return m(e.target.value)}})),r.a.createElement(S.a,{id:"outlined-with-placeholder",label:"Contact info",placeholder:"Mobile number or email address",error:!!z.contactInfo,helperText:z.contactInfo,className:e.textField,margin:"normal",variant:"outlined",fullWidth:!0,name:"contactInfo",InputProps:{classes:{root:e.cssOutlinedInput,focused:e.cssFocused,notchedOutline:e.notchedOutline}},onChange:function(e){return g(e.target.value)}}),r.a.createElement(S.a,{id:"outlined-with-placeholder",type:"password",label:"Password",placeholder:"Enter password",error:!!z.password,helperText:z.password,className:e.textField,margin:"normal",variant:"outlined",fullWidth:!0,name:"password",InputProps:{classes:{root:e.cssOutlinedInput,focused:e.cssFocused,notchedOutline:e.notchedOutline}},onChange:function(e){return v(e.target.value)}}),r.a.createElement("div",{className:e.birthday},r.a.createElement("div",{className:e.birthdayText},"Birthday"),r.a.createElement("select",{className:e.dayOfDOB,name:"dayOfDOB",id:"",onChange:function(e){return O(e.target.value)}},r.a.createElement("option",{value:"0"},"Day"),[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31].map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)}))),r.a.createElement("select",{className:e.dayOfDOB,name:"monthOfDOB",id:"",onChange:function(e){return C(e.target.value)}},r.a.createElement("option",{value:"0"},"Month"),["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map((function(e,t){return r.a.createElement("option",{key:t,value:t+1},e)}))),r.a.createElement("select",{className:e.dayOfDOB,name:"yearofDOB",id:"",onChange:function(e){return L(e.target.value)}},r.a.createElement("option",{value:"0"},"Year"),[2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2009,2008,2007,2006,2005,2004,2003,2002,2001,2e3,1999,1998,1997,1996,1995,1994,1993,1992,1991,1990,1989,1988,1987,1986,1985,1984,1983,1982,1981,1980,1979,1978,1977,1976,1975,1974,1973,1972,1971,1970,1969,1968,1967,1966,1965,1964,1963,1962,1961,1960,1959,1958,1957,1956,1955,1954,1953,1952,1951,1950,1949,1948,1947,1946,1945,1944,1943,1942,1941,1940,1939,1938,1937,1936,1935,1934,1933,1932,1931,1930,1929,1928,1927,1926,1925,1924,1923,1922,1921,1920,1919,1918,1917,1916,1915,1914,1913,1912,1911,1910,1909,1908,1907,1906,1905].map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)})))),r.a.createElement("div",{className:e.gender},r.a.createElement("div",{className:e.genderText},"Gender"),r.a.createElement("span",null,r.a.createElement("input",{type:"radio",name:"gender",value:"F",id:"femaleradio",onChange:function(e){return W(e.target.value)}}),r.a.createElement("label",{htmlFor:"femaleradio"},"Female")),r.a.createElement("span",null,r.a.createElement("input",{type:"radio",name:"gender",value:"M",id:"maleradio",onChange:function(e){return W(e.target.value)}}),r.a.createElement("label",{htmlFor:"maleradio"},"Male")),r.a.createElement("span",null,r.a.createElement("input",{type:"radio",name:"gender",value:"Ot",id:"otherRadio",onChange:function(e){return W(e.target.value)}}),r.a.createElement("label",{htmlFor:"femaleradio"},"Others"))))),r.a.createElement(F.a,{onClick:function(e){e.preventDefault();var t={firstName:i,lastName:s,contactInfo:u,password:E,dob:N+"/"+w+"/"+R,gender:D};x.a.post("/signup",t).then((function(e){console.log(e)})).catch((function(e){var t={};e.response.data.length>0&&e.response.data.map((function(e){e.nestedErrors?t[e.nestedErrors[0].param]=e.msg:t[e.param]=e.msg})),H(t)}))},variant:"contained",className:e.signupButton},"Sign Up")))))}var L=Object(d.g)((function(){return r.a.createElement("div",null,r.a.createElement(B,null),r.a.createElement(R,null))})),A=Object(b.b)((function(e){return{auth:e.auth}}))((function(e){return r.a.createElement(d.b,Object.assign({},e,{render:function(){return e.auth.isAuthenticated?e.component:r.a.createElement(d.a,{to:"/auth"})}}))})),_=a(17),D=a(12),W=a(583),M=a(584),U=a(536),z=a(141),H=a(582),G=a(579),q=a(312),K=a(289),$=a.n(K),J=a(185),V=a.n(J),X=a(183),Y=a.n(X),Z=a(184),Q=a.n(Z),ee=a(291),te=a.n(ee),ae=a(181),ne=a.n(ae),re=a(581),ie=a(580),oe=a(499),le=Object(f.a)((function(e){return{dropDown:{position:"relative",display:"inline-block",width:"100%",zIndex:100},dropDownContent:{position:"absolute",background:"rgba(255, 255, 255, 0.95)",width:"100%","& a":{color:"black",background:"rgba(255, 255, 255, 0.95)",padding:"12px 16px",textDecoration:"none",display:"block",margin:"auto"}},inputRoot:{color:Object(D.c)(e.palette.common.black,1)},inputInput:Object(_.a)({padding:e.spacing(1,1,1,6),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:500})}}));var ce=Object(b.b)((function(e){return{auth:e.auth}}))(Object(d.g)((function(e){var t=le(),a=Object(n.useState)(!1),i=Object(h.a)(a,2),o=i[0],l=i[1],c=Object(n.useState)([]),s=Object(h.a)(c,2),m=s[0],d=s[1],u=m?m.map((function(e,t){return r.a.createElement(p.b,{onClick:function(){return l(!1)},to:{pathname:"/"+e.userName},key:t},e.name)})):null;return r.a.createElement("div",{className:t.dropDown},r.a.createElement("div",null,r.a.createElement(C.a,{classes:{root:t.inputRoot,input:t.inputInput},placeholder:"Search...",disableUnderline:!0,onChange:function(e){var t={searchText:e.target.value};x.a.post("/getallusers",t).then((function(e){d(e.data)})).catch((function(e){console.log(e)}))},onFocus:function(){return l(!0)}})),o?r.a.createElement("div",{className:t.dropDownContent},u):null)}))),se=a(182),me=a.n(se),pe=a(585),de=a(314),ue=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).handleFriendNotificationPopper=function(t,a){t.preventDefault(),e.state.anchorFriend?e.setState({anchorFriend:null}):(e.setState({anchorFriend:t.currentTarget}),x.a.post("/getfriendrequests",{userId:a}).then((function(t){e.setState({friendRequests:t.data})})).catch((function(e){console.log(e)})))},e.confirmFriend=function(t,a){t.preventDefault();var n=e.props.auth.user;x.a.post("/acceptfriend",{userId:n.id,tlUserId:a}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},e.state={anchorEl:null,mobileMoreAnchorEl:null,userName:"",anchorFriend:null,friendRequests:[]},e}return Object(c.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.props.auth.isAuthenticated!=e.auth.isAuthenticated&&(e.auth.isAuthenticated||this.props.history.replace("/auth"))}},{key:"componentDidMount",value:function(){var e=this,t=this.props.auth,a=t.isAuthenticated,n=t.user;a?(this.setState({userName:n.name.split(" ")[0]}),x.a.post("/getfriendrequests",{userId:n.id}).then((function(t){e.setState({friendRequests:t.data})})).catch((function(e){}))):this.props.history.replace("/auth")}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.props.auth.user,n=Boolean(this.state.anchorFriend),i=Boolean(this.state.anchorEl),o=Boolean(this.state.mobileMoreAnchorEl),l=function(t){e.setState({anchorEl:t.currentTarget})},c=function(){e.setState({mobileMoreAnchorEl:null})},s=function(){e.setState({anchorEl:null}),c()},m=this.state.friendRequests,p="primary-search-account-menu",d=r.a.createElement(q.a,{anchorEl:this.state.anchorEl,anchorOrigin:{vertical:"top",horizontal:"right"},id:p,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:i,onClose:s},r.a.createElement(G.a,{onClick:s},"Profile"),r.a.createElement(G.a,{onClick:s},"My account"),r.a.createElement(G.a,{onClick:function(t){t.preventDefault(),e.props.logout()}},"Logout")),u=r.a.createElement(q.a,{anchorEl:this.state.mobileMoreAnchorEl,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu-mobile",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:o,onClose:c},r.a.createElement(G.a,{onClick:function(){return e.props.history.push({pathname:"/"+a.userName,state:{user:a}})}},r.a.createElement(ie.a,null,r.a.createElement(oe.a,{onError:function(e){e.target.src="images/404.png"},src:a.profileImage?a.profileImage:"images/blank.png"})),r.a.createElement(re.a,{primary:this.state.userName})),r.a.createElement(G.a,{onClick:function(){return e.props.history.push("/")}},r.a.createElement(U.a,{"aria-label":"Show 4 new mails",color:"inherit"},r.a.createElement(ne.a,null)),r.a.createElement("p",null,"Home")),r.a.createElement(G.a,null,r.a.createElement(U.a,{"aria-label":"Show friend requests",color:"inherit"},r.a.createElement(H.a,{badgeContent:10,color:"secondary"},r.a.createElement(me.a,null))),r.a.createElement("p",null,"Friend Requests")),r.a.createElement(G.a,null,r.a.createElement(U.a,{"aria-label":"Show new mails",color:"inherit"},r.a.createElement(H.a,{badgeContent:4,color:"secondary"},r.a.createElement(Y.a,null))),r.a.createElement("p",null,"Messages")),r.a.createElement(G.a,null,r.a.createElement(U.a,{"aria-label":"Show new notifications",color:"inherit"},r.a.createElement(H.a,{badgeContent:11,color:"secondary"},r.a.createElement(Q.a,null))),r.a.createElement("p",null,"Notifications")),r.a.createElement(G.a,{onClick:l},r.a.createElement(U.a,{"aria-label":"Account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit"},r.a.createElement(V.a,null)),r.a.createElement("p",null,"Profile")));return r.a.createElement("div",{className:t.grow},r.a.createElement(W.a,{className:t.headerBar,position:"fixed"},r.a.createElement(M.a,{className:t.appBar,style:{minHeight:"50px"}},r.a.createElement(z.a,{className:t.title,variant:"h6",noWrap:!0},"SocialConnect"),r.a.createElement("div",{className:t.search},r.a.createElement("div",{className:t.searchIcon},r.a.createElement($.a,null)),r.a.createElement(ce,null)),r.a.createElement("div",{className:t.sectionDesktop},r.a.createElement(G.a,{onClick:function(){return e.props.history.push({pathname:"/"+a.userName,state:{user:a}})}},r.a.createElement(ie.a,null,r.a.createElement(oe.a,{onError:function(e){e.target.src="images/404.png"},src:a.profileImage?a.profileImage:"images/blank.png"})),r.a.createElement(re.a,{primary:this.state.userName})),r.a.createElement(G.a,{onClick:function(){return e.props.history.push("/")}},r.a.createElement(U.a,{"aria-label":"Show 4 new mails",color:"inherit"},r.a.createElement(ne.a,null)),r.a.createElement("p",null,"Home")),r.a.createElement(U.a,{onClick:function(t){return e.handleFriendNotificationPopper(t,a.id)},"aria-label":"Show friend requests",color:"inherit"},r.a.createElement(H.a,{badgeContent:m.length,color:"secondary"},r.a.createElement(me.a,null)),m?r.a.createElement(pe.a,{className:t.popperElement,anchorEl:this.state.anchorFriend,open:n,placement:"bottom-end",disablePortal:!0,modifiers:{flip:{enabled:!1}}},r.a.createElement(de.a,{className:t.popperContent},r.a.createElement("div",{className:t.arrowFriend}," "),m.map((function(a){return r.a.createElement(r.a.Fragment,{key:a.user._id},r.a.createElement("div",{className:t.friendInfo},r.a.createElement(ie.a,null,r.a.createElement(oe.a,{onError:function(e){e.target.src="images/404.png"},alt:"Remy Sharp",src:a.user.profileImage?a.user.profileImage:"images/blank.png"})),r.a.createElement("div",{className:t.typography},r.a.createElement(z.a,null," ",a.user.name," ")),r.a.createElement("a",{onClick:function(t){return e.confirmFriend(t,a.user._id)},className:t.confirmButton},"Confirm"),r.a.createElement("a",{onClick:e.declineFriend,className:t.declineButton},"Decline")),r.a.createElement("hr",{className:t.divider}))})))):null),r.a.createElement(U.a,{"aria-label":"Show new mails",color:"inherit"},r.a.createElement(H.a,{badgeContent:4,color:"secondary"},r.a.createElement(Y.a,null))),r.a.createElement(U.a,{"aria-label":"Show new notifications",color:"inherit"},r.a.createElement(H.a,{badgeContent:17,color:"secondary"},r.a.createElement(Q.a,null))),r.a.createElement(U.a,{edge:"end","aria-label":"Account of current user","aria-controls":p,"aria-haspopup":"true",onClick:l,color:"inherit"},r.a.createElement(V.a,null))),r.a.createElement("div",{className:t.sectionMobile},r.a.createElement(U.a,{"aria-label":"Show more","aria-controls":"primary-search-account-menu-mobile","aria-haspopup":"true",onClick:function(t){e.setState({mobileMoreAnchorEl:t.currentTarget})},color:"inherit"},r.a.createElement(te.a,null))))),u,d)}}]),a}(n.Component),ge=Object(b.b)((function(e){return{auth:e.auth}}),{logout:w})(Object(u.a)((function(e){return{grow:{flexGrow:1},headerBar:{height:"55px"},appBar:{height:"50px"},menuButton:{marginRight:e.spacing(2)},title:Object(_.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(_.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(D.c)(e.palette.common.white,.95),"&:hover":{backgroundColor:e.palette.common.white},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("xs"),{marginLeft:e.spacing(3),width:"40%"}),searchIcon:{width:e.spacing(7),color:Object(D.c)(e.palette.common.black,.8),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:Object(D.c)(e.palette.common.black,1)},inputInput:Object(_.a)({padding:e.spacing(1,1,1,2),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:500}),sectionDesktop:Object(_.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(_.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"}),arrowFriend:{content:" ",position:"absolute",right:"5%",bottom:"100%",borderWidth:"10px",borderStyle:"solid",borderColor:"transparent transparent white"},popperElement:{zIndex:50,maxWidth:"600px",minWidth:"500px",overflow:"auto"},popperContent:{transform:"translate3d(0, 11px, 0px)",width:"100%","& p:hover":{color:"#385898",cursor:"pointer",textDecoration:"underline"}},friendInfo:{display:"flex"},typography:{width:"150px","& p":{textAlign:"left",padding:"8px 16px 4px 22px",fontSize:"14px"}},confirmButton:{width:e.spacing(3),marginTop:e.spacing(1),marginLeft:"15%",fontSize:"12px",fontWeight:"bold",justifyContent:"center",alignItems:"center",textAlign:"center",background:"#385898",color:"#fff",padding:"8px 32px 4px 16px"},declineButton:{marginTop:e.spacing(1),marginLeft:e.spacing(1),fontSize:"12px",fontWeight:"bold",justifyContent:"center",alignItems:"center",textAlign:"center",background:"#e9eaed",color:"#000",padding:"8px 16px 4px 16px"}}}))(Object(d.g)(ue))),he=a(305),fe=a.n(he),be=a(589),Ee=a(28),xe=function(e,t){return function(a){x.a.get("/getuser/"+e).then((function(n){var r=n.data[0],i={_id:r._id,name:r.name,userName:r.userName,profileImage:r.profileImage,authUser:e===t};a({type:"SET_TIMELINE_USER",payload:i});var o=Object(Ee.a)(r.posts).map((function(e){return e.createdBy={_id:r._id,name:r.name,profileImage:r.profileImage,userName:r.userName},e})),l=r.friends.filter((function(e){return e.posts.length>0})).map((function(e){return e.posts.map((function(t){return t.createdBy={_id:e.user._id,name:e.user.name,profileImage:e.user.profileImage,userName:e.user.userName},t}))})).flat(1),c=[].concat(Object(Ee.a)(o),Object(Ee.a)(l));a({type:"GET_FEED",payload:{data:c,hasMorePosts:!!n.data.length}});var s=r.friends.map((function(e){if(e.user)return{_id:e.user._id,name:e.user.name,userName:e.user.userName,profileImage:e.user.profileImage,status:e.status}}));s=s[0]?s:[],a({type:"GET_FRIENDS",payload:s})})).catch((function(e){console.log(e)}))}},ve=function(e,t,a){return function(n){x.a.post("/getfeed",{userId:e,start:t,count:a}).then((function(e){n({type:"GET_FEED",payload:{data:e.data,hasMorePosts:!!e.data.length}})})).catch((function(e){console.log(e)}))}},ke=function(e,t){return function(a){x.a.post("/likepost",{postId:e,userId:t}).then((function(e){a({type:"LIKE_COMMENT",payload:e.data})})).catch((function(e){console.log(e)}))}},ye=function(){return function(e){e({type:"CLEAR_POSTS",payload:[]})}},Ne=a(586),Oe=a(140),Ie=a.n(Oe),je=a(292),we=a.n(je),Ce=a(577),Se=a(535),Te=Object(f.a)((function(e){return{userInfo:{padding:e.spacing(3,2)},header:{textAlign:"left"},addBio:{marginTop:e.spacing(1),"& p":{fontSize:"14px",opacity:.7},"& a":{textDecoration:"none",color:"#385898","&:hover":{textDecoration:"underline",cursor:"pointer"}}},infoDetails:{marginTop:e.spacing(1),"& ul":{alignItems:"left",textAlign:"left",listStyleType:"none",transform:"translateX(-10%)"},"& ul li a":{color:"#385898","&:hover":{cursor:"pointer",textDecoration:"underline"}}},createBio:{height:e.spacing(20)},bioInput:{height:e.spacing(15),overflow:"auto","&  textarea":{alignItems:"center",justifyContent:"center",textAlign:"center"}},bioButtons:{background:"#e9eaed"},button:{margin:e.spacing(.5),width:e.spacing(3),fontSize:"11px",fontWeight:"bold",justifyContent:"center",alignItems:"center",textAlign:"center"},titleBar:{"& ul,& ul li":{margin:0,padding:0},"& ul li span":{fontSize:"20px"}},aboutAvatar:{margin:10,color:"#fff",background:"#385898"},inline:{display:"inline"}}}));function Be(){var e=r.a.useState(!1),t=Object(h.a)(e,2),a=t[0],n=t[1],i=Te();return r.a.createElement("div",null,r.a.createElement(de.a,{className:i.userInfo},r.a.createElement("div",{className:i.titleBar},r.a.createElement(Ce.a,null,r.a.createElement(Se.a,null,r.a.createElement(oe.a,{className:i.aboutAvatar},r.a.createElement(we.a,null)),r.a.createElement(re.a,{primary:"About"})))),r.a.createElement("div",{className:i.addBio},a?r.a.createElement("div",null,r.a.createElement(de.a,{className:i.createBio},r.a.createElement("div",null,r.a.createElement("div",{className:i.bioInput},r.a.createElement(C.a,{placeholder:"Write something about yourself",multiline:!0,fullWidth:!0,disableUnderline:!0})),r.a.createElement("div",{className:i.bioButtons},r.a.createElement(F.a,{variant:"contained",className:i.button,onClick:function(){return n(!1)}},"Cancel"),r.a.createElement(F.a,{variant:"contained",className:i.button,color:"primary"},"Save"))))):r.a.createElement("div",null,r.a.createElement(z.a,{component:"p"},"Add a short bio."),r.a.createElement("a",{onClick:function(){return n(!0)}},"Add Bio")),r.a.createElement(Ne.a,null)),r.a.createElement("div",{className:i.infoDetails},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("div",null,r.a.createElement(Ie.a,null)," Working in ",r.a.createElement("a",null,"Tata Consultancy Services"))),r.a.createElement("li",null,r.a.createElement("div",null,r.a.createElement(Ie.a,null)," Studied at ",r.a.createElement("a",null,"Shri Ram Murti Smarak College of Enginnering and Technology"))),r.a.createElement("li",null,r.a.createElement("div",null,r.a.createElement(Ie.a,null)," Went to ",r.a.createElement("a",null,"St. Lawrence School")))))))}var Fe=a(298),Pe=a.n(Fe),Re=a(600),Le=a(296),Ae=a.n(Le),_e=a(297),De=a.n(_e),We=a(587),Me=a(588),Ue=a(295),ze=a.n(Ue),He=a(15),Ge=a(186),qe=a(313),Ke=Object(f.a)((function(e){return{tag:{display:"flex"},with:{background:"#e9eaed",textAlign:"center",padding:"8px 6px 6px 8px"},container:{flexGrow:1,position:"relative"},paper:{position:"absolute",zIndex:1,marginTop:e.spacing(1),left:0,right:0},chip:{margin:e.spacing(.5,.25)},inputRoot:{flexWrap:"wrap"},inputInput:{width:"auto",flexGrow:1}}}));function $e(e){var t=e.classes,a=r.a.useState(""),n=Object(h.a)(a,2),i=n[0],o=n[1],l=r.a.useState([]),c=Object(h.a)(l,2),s=c[0],m=c[1],p=r.a.useState([]),d=Object(h.a)(p,2),u=d[0],g=d[1];function f(e){s.length&&!i.length&&"Backspace"===e.key&&m(s.slice(0,s.length-1))}var b=function(e){return function(){var t=Object(Ee.a)(s);t.splice(t.indexOf(e.id),1),m(t)}};return e.selected(s),r.a.createElement(qe.a,{id:"downshift-multiple",inputValue:i,onChange:function(e){var t=Object(Ee.a)(s);-1===t.indexOf(e.id)&&(t=[].concat(Object(Ee.a)(t),[e])),o(""),m(t)},selectedItem:s},(function(a){var n=a.getInputProps,i=a.getItemProps,l=a.getLabelProps,c=a.isOpen,m=a.inputValue,p=a.selectedItem,d=a.highlightedIndex,h=n({onKeyDown:f,placeholder:"Who are you with?"}),E=h.onBlur,v=h.onChange,k=h.onFocus,y=Object(Ge.a)(h,["onBlur","onChange","onFocus"]);return r.a.createElement("div",{className:t.container},function(e){var t=e.InputProps,a=e.classes,n=e.ref,i=Object(Ge.a)(e,["InputProps","classes","ref"]);return r.a.createElement(S.a,Object.assign({InputProps:Object(He.a)({inputRef:n,classes:{root:a.inputRoot,input:a.inputInput}},t)},i))}({fullWidth:!0,classes:t,InputLabelProps:l(),InputProps:{startAdornment:s.map((function(e){return r.a.createElement(Re.a,{key:e.id,tabIndex:-1,label:e.name,className:t.chip,onDelete:b(e)})})),onBlur:E,onChange:function(t){!function(t){var a=e.auth.user;o(t.target.value);var n={userId:a.id,searchText:t.target.value};x.a.post("/getfriends",n).then((function(e){g(e.data)})).catch((function(e){console.log(e)}))}(t),v(t)},onFocus:k},inputProps:y}),c?r.a.createElement(de.a,{className:t.paper,square:!0},function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=a.showEmpty,r=void 0!==n&&n,i=e.trim().toLowerCase(),o=i.length,l=0;return 0!==o||r?t.filter((function(e){var t=l<5&&e.user.name.slice(0,o).toLowerCase()===i;return t&&(l+=1),t})):[]}(m,u).map((function(e,t){return function(e){var t=e.suggestion,a=e.index,n=e.itemProps,i=e.highlightedIndex===a,o=(e.selectedItem||"").indexOf(t.user._id)>-1;return r.a.createElement(G.a,Object.assign({},n,{key:t.user._id,selected:i,component:"div",style:{fontWeight:o?500:400},value:t.user._id}),t.user.name)}({suggestion:e,index:t,itemProps:i({item:{name:e.user.name,id:e.user._id}}),highlightedIndex:d,selectedItem:p})}))):null)}))}var Je=Object(b.b)((function(e){return{auth:e.auth}}))((function(e){var t=Ke();return r.a.createElement("div",{className:t.tag},r.a.createElement("div",{className:t.with},"With"),r.a.createElement("div",null,r.a.createElement($e,{selected:e.taggedFriends,auth:e.auth,classes:t})))})),Ve=(a(500),a(311)),Xe=Object(f.a)((function(e){return{root:{display:"block",width:"80%"},postHeader:{padding:e.spacing(0,2),height:e.spacing(4),textAlign:"left",background:"#f5f6f7",borderRadius:"4px",lineHeight:"2rem"},paper:{padding:e.spacing(3,2),position:"relative"},footer:{display:"flex",justifyContent:"space-around"},chip:{marginTop:e.spacing(2),background:"#e9eaed",fontWeight:"bold",color:"#385898",height:e.spacing(5),transition:"0.5s all","&:hover":{cursor:"pointer",background:"#c4c5c7"}},postButton:{width:"50%",marginTop:e.spacing(2)},postIcon:{marginLeft:e.spacing(2),transition:"0.5s all"},input:{display:"none"},card:{width:"100%"},media_image:{paddingTop:"56.25%",backgroundPosition:"initial"},media_video:{width:"inherit","& video":{width:"inherit"}},imagePreviewBox:{display:"flex",width:"100%",padding:"8px 8px",overflowX:"auto"},imageBox:{minWidth:"100px",minHeight:"100px",marginLeft:"10px",maxWidth:"100px",maxHeight:"100px","& img":{width:"100%",height:"100%"},"& video":{width:"100%",height:"100%"}},uploadImageBox:{minWidth:"100px",minHeight:"100px",background:"#fff",border:"2px dashed #e9eaed",marginLeft:"10px",maxWidth:"100px",maxHeight:"100px","&:hover":{cursor:"pointer",background:"#e9eaed"},"& span svg":{marginTop:"50%",marginLeft:"50%",transform:"translate(-50%,-50%)"}},firstDivider:{marginTop:"24px",lineHeight:"1px"},secondDivider:{marginTop:"8px",lineHeight:"1px"},emojiPicker:{position:"absolute",zIndex:1e3,marginTop:"10px"}}}));var Ye=Object(b.b)((function(e){return{auth:e.auth,post:e.post}}),{submitPost:function(e){return function(t){x.a.post("/submitpost",e).then((function(e){t({type:"SUBMIT_POST",payload:e.data})})).catch((function(e){console.log(e)}))}}})((function(e){var t=Xe(),a=Object(n.useState)(""),i=Object(h.a)(a,2),o=i[0],l=i[1],c=Object(n.useState)([]),s=Object(h.a)(c,2),m=s[0],p=s[1],d=Object(n.useState)(null),u=Object(h.a)(d,2),g=u[0],f=u[1],b=Object(n.useState)(null),E=Object(h.a)(b,2),x=E[0],v=E[1],k=Object(n.useState)(""),y=Object(h.a)(k,2),N=y[0],O=y[1],I=Object(n.useState)([]),j=Object(h.a)(I,2),w=j[0],S=j[1],T=Object(n.useState)([]),B=Object(h.a)(T,2),P=B[0],R=B[1],L=Object(n.useState)(!1),A=Object(h.a)(L,2),_=A[0],D=A[1],W=Object(n.useState)([]),M=Object(h.a)(W,2),U=M[0],z=M[1],H=Object(n.useState)(""),G=Object(h.a)(H,2),q=(G[0],G[1],Object(n.useState)(!1)),K=Object(h.a)(q,2),$=K[0],J=K[1],V=function(e){var t=e.target.files[0];if(t){var a,n=t.type,r=Object(Ee.a)(m);if(r.push(t),p(r),n.includes("image"))(a=new FileReader).readAsDataURL(t),a.onloadend=function(e){v(null),f(a.result),O(t.name);var n={imageSrc:a.result,name:t.name},r=Object(Ee.a)(w);r.unshift(n),S(r)};if(n.includes("video"))(a=new FileReader).readAsDataURL(t),a.onloadend=function(e){f(null),v(a.result);var n={videoSrc:a.result,name:t.name},r=Object(Ee.a)(P);r.unshift(n),R(r)}}};return r.a.createElement("div",{className:t.root},r.a.createElement("div",{className:t.postHeader},"Create Post"),r.a.createElement(de.a,{className:t.paper},r.a.createElement(C.a,{placeholder:"Write something here...",multiline:!0,fullWidth:!0,disableUnderline:!0,onChange:function(e){return l(e.target.value)},value:o}),null!=g?r.a.createElement(We.a,{className:t.card},r.a.createElement(Me.a,{className:t.media_image,image:g,title:N})):null,null!=x?r.a.createElement(We.a,{className:t.card},r.a.createElement(Me.a,{className:t.media_video},r.a.createElement("video",{src:x,controls:!0}))):null,_?r.a.createElement(Ne.a,{className:t.firstDivider}):null,_?r.a.createElement(Je,{taggedFriends:function(e){z(e)}}):null,r.a.createElement(Ne.a,{className:t.secondDivider}),w.length>0?r.a.createElement("div",{className:t.imagePreviewBox},w.map((function(e,a){return r.a.createElement("div",{key:a,className:t.imageBox},r.a.createElement("img",{src:e.imageSrc,alt:e.name}))})),P.map((function(e,a){return r.a.createElement("div",{key:a,className:t.imageBox},r.a.createElement("video",{src:e.videoSrc}))})),r.a.createElement("input",{onChange:V,className:t.input,id:"icon-button-file",type:"file"}),r.a.createElement("label",{htmlFor:"icon-button-file"},r.a.createElement("div",{className:t.uploadImageBox},r.a.createElement(be.a,null,r.a.createElement(ze.a,null))))):null,r.a.createElement("div",{className:t.footer},r.a.createElement("input",{onChange:V,className:t.input,id:"icon-button-file",type:"file"}),r.a.createElement("label",{htmlFor:"icon-button-file"},r.a.createElement(Re.a,{icon:r.a.createElement(Ae.a,null),label:"Upload File",color:"primary",className:t.chip})),r.a.createElement("label",{onClick:function(){return D(!_)},htmlFor:""},r.a.createElement(Re.a,{icon:r.a.createElement(De.a,null),label:"Tag Friends",color:"primary",className:t.chip})),r.a.createElement("label",null,r.a.createElement(Re.a,{onClick:function(){return J(!$)},htmlFor:"",label:"\ud83d\ude00",color:"primary",className:t.chip}),$?r.a.createElement(Ve.a,{style:{position:"absolute",zIndex:1e3,transform:"translate(-50%,20%)"},onSelect:function(e){return function(e){var t=e.native,a=o?"".concat(o).concat(t):t;l(a)}(e)}}):null),r.a.createElement(F.a,{disabled:!(o||m.length>0),onClick:function(t){t.preventDefault();var a=e.auth.user,n=U?U.map((function(e){return e.id})):null,r=new FormData;r.append("postText",o),m.map((function(e){r.append("images",e)})),r.append("userId",a.id),r.append("taggedFriends",JSON.stringify(n)),e.submitPost(r),f(null),v(null),p([]),l(""),D(!1),z([]),O(""),S([]),R([])},className:t.postButton,variant:"contained",color:"primary"},"Post",r.a.createElement(Pe.a,{className:t.postIcon})))))})),Ze=a(591),Qe=a(592),et=a(299),tt=a.n(et),at=a(590),nt=a(599),rt=Object(f.a)((function(e){return{commentSection:{display:"flex",padding:"12px 16px 8px 8px"},commentBox:{width:"100%",padding:"4px 20px",border:"1px solid #ccc",borderRadius:"25px"}}}));var it=Object(b.b)((function(e){return{auth:e.auth}}),(function(e){return{onCreateComment:function(t,a,n){return e(function(e,t,a){return function(n){x.a.post("/createcomment",{userId:e,postId:t,text:a}).then((function(e){n({type:"CREATE_COMMENT",payload:e.data[0]})})).catch((function(e){console.log(e)}))}}(t,a,n))}}}))((function(e){var t=rt(),a=e.auth.user,i=e.postId,o=Object(n.useState)(""),l=Object(h.a)(o,2),c=l[0],s=l[1];return r.a.createElement("div",{className:t.commentSection},r.a.createElement("div",null,r.a.createElement(ie.a,null,r.a.createElement(oe.a,{alt:"Remy Sharp",src:"/"+a.profileImage}))),r.a.createElement("div",{className:t.commentBox},r.a.createElement(C.a,{fullWidth:!0,placeholder:"Write a comment...",disableUnderline:!0,onChange:function(e){return s(e.target.value)},onKeyPress:function(t){return function(t){"Enter"===t.key&&(s(""),e.onCreateComment(a.id,i,c))}(t)},value:c})))})),ot=Object(f.a)((function(e){return{commentSection:{padding:"0 8px"},message:{display:"flex",width:"100%",position:"relative",minHeight:"10px",wordBreak:"break-all",textAlign:"left",fontSize:"11px"},messageBody:{width:"100%",padding:"4px","& p a":{color:"#385898",fontWeight:"bold","&:hover":{cursor:"pointer",textDecoration:"underline"}},"& p":{background:"#f2f3f5",borderRadius:"45px",padding:"8px 16px",fontSize:"15px",lineHeight:"1.2em"}},actionsList:{padding:e.spacing(0,2),display:"flex",maxWidth:"100%","& a":{color:"#385898",fontSize:"14px",padding:"0 4px","&:hover":{cursor:"pointer",textDecoration:"underline"}}}}}));function lt(e){var t=ot(),a=e.comment;return r.a.createElement("div",null,r.a.createElement("div",{className:t.commentSection},r.a.createElement("div",{className:t.message},r.a.createElement(ie.a,null,r.a.createElement(oe.a,{onError:function(e){e.target.src="images/404.png"},alt:a.from.name,src:a.from.profileImage?a.from.profileImage:"images/blank.png"})),r.a.createElement("div",{className:t.messageBody},r.a.createElement(z.a,{component:"p"},r.a.createElement("a",null,a.from.name)," ",a.text),r.a.createElement("div",{className:t.actionsList},r.a.createElement("a",null,"Like"),r.a.createElement("a",null,"Reply"))))))}var ct=a(121),st=a.n(ct),mt=a(66),pt=a.n(mt),dt=a(176),ut=a.n(dt),gt=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props,t=e.actionItems,a=e.actionIcons,i=e.takeAction,o=e.postId,l=e.post,c=e.user,s=e.handleLike,m=e.checkUserLike;return r.a.createElement(n.Fragment,null,r.a.createElement(z.a,{onClick:function(){return s(o)},className:t},r.a.createElement(pt.a,{className:m(l,c)?a:i}),m(l,c)?"Unlike":"Like"),r.a.createElement(z.a,{className:t},r.a.createElement(st.a,{className:a}),"Comment"),r.a.createElement(z.a,{className:t},r.a.createElement(ut.a,{className:a}),"Share"))}}]),a}(n.Component),ht=function(e){var t=e.actionsResultItem,a=e.likeResultIcon,i=e.like;return r.a.createElement(n.Fragment,null,r.a.createElement(z.a,{className:t},r.a.createElement(pt.a,{className:a,color:"primary"})),r.a.createElement(z.a,{className:t},i?i.length:0))},ft=Object(f.a)((function(e){return{imageDetails:{width:"1200px",display:"flex",overflow:"hidden"},imageHolder:{width:"65%",background:"black",height:"inherit",display:"block"},image:{width:"100%",height:"100%"},list:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},aboutImage:{width:"35%",overflow:"auto"},actionsList:{padding:e.spacing(1,2),display:"flex",maxWidth:"100%",backgroundColor:e.palette.background.paper,justifyContent:"space-around"},actionItems:{justifyContent:"center",alignItems:"center",textAlign:"center",padding:e.spacing(0,2),transition:"all 0.5s","&:hover":{cursor:"pointer",transform:"scale(1.1)","& > *":{color:"#385898"}},"&:active":{transform:"scale(0.9)"}},actionIcons:{margin:e.spacing(-.5,.5),color:"#385898"},takeAction:{margin:e.spacing(-.5,.5),color:"#e9eaed"},actionsResult:{padding:e.spacing(1,0),display:"flex",maxWidth:"100%",backgroundColor:e.palette.background.paper},actionsResultItem:{justifyContent:"center",alignItems:"center",textAlign:"center",padding:0},divider:{borderBottom:"1px solid #ddd",margin:"5px 7px 6px",paddingTop:"1px"},likeResultIcon:{margin:e.spacing(-.5,.5)}}})),bt=Object(b.b)((function(e){return{auth:e.auth}}),{likePost:ke})((function(e){var t=ft(),a=r.a.useState(!1),n=Object(h.a)(a,2),i=n[0],o=n[1],l=r.a.useState(null),c=Object(h.a)(l,2),s=c[0],m=c[1],p=r.a.useState(""),d=Object(h.a)(p,2),u=d[0],g=d[1],f=e.imageDetails,b=e.openPhoto,E=e.isImage,x=e.auth.user;r.a.useEffect((function(){i!==b&&(o(b),m(f.image),g(f.createdBy.name))}));return r.a.createElement("div",null,r.a.createElement(nt.a,{maxWidth:"xl",open:i,onClose:function(){o(!1),e.onclose()}},r.a.createElement("div",{className:t.imageDetails},r.a.createElement("div",{className:t.imageHolder},E?r.a.createElement("img",{className:t.image,src:s}):r.a.createElement("video",{className:t.image,src:s,controls:!0})),r.a.createElement("div",{className:t.aboutImage},r.a.createElement(Se.a,{alignItems:"flex-start"},r.a.createElement(ie.a,null,r.a.createElement(oe.a,{onError:function(e){e.target.src="images/404.png"},alt:f.createdBy.name,src:f.createdBy.profileImage?f.createdBy.profileImage:"images/blank.png"})),r.a.createElement(re.a,{primary:u})),r.a.createElement("div",{className:t.actionsResult},r.a.createElement(ht,{actionsResultItem:t.actionsResultItem,likeResultIcon:t.likeResultIcon,like:f.like})),r.a.createElement("hr",{className:t.divider}),r.a.createElement(de.a,{className:t.actionsList},r.a.createElement(gt,{actionItems:t.actionItems,actionIcons:t.actionIcons,takeAction:t.takeAction,postId:f._id,post:f,user:x,handleLike:function(t){var a=e.auth.user.id;e.likePost(t,a)},checkUserLike:function(e,t){return e.like&&e.like.find((function(e){return e.user===t.id}))}})),f.comments?f.comments.map((function(e){return r.a.createElement(lt,{key:e._id,comment:e})})):null,r.a.createElement(it,{postId:f._id})))))})),Et=Object(f.a)((function(e){return{photoGrid:{padding:e.spacing(3,2)},titleBar:{"& ul,& ul li":{margin:0,padding:0},"& ul li span":{fontSize:"20px"}},pictureGrid:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},gridList:{height:450,"& img":{cursor:"pointer"},"& video":{cursor:"pointer",width:"100%",height:"100%"}},icon:{color:"rgba(255, 255, 255, 0.54)"},photoAvatar:{margin:10,color:"#fff",backgroundColor:at.a[500]}}}));function xt(e){var t=Et(),a=r.a.useState(!1),n=Object(h.a)(a,2),i=n[0],o=n[1],l=r.a.useState(!1),c=Object(h.a)(l,2),s=c[0],m=c[1],p=r.a.useState(null),d=Object(h.a)(p,2),u=d[0],g=d[1],f=e.posts,b=f.filter((function(e){return e.images&&e.images.length>0})).map((function(e){return e.images.map((function(t){return{_id:e._id,image:t.imageUrl,createdBy:e.createdBy,comments:e.comments,like:e.like,profileImage:e.profileImage,userName:e.userName}}))})).flat(1),E=f.filter((function(e){return e.videos&&e.videos.length>0})).map((function(e){return e.videos.map((function(t){return{_id:e._id,video:t.videoUrl,createdBy:e.createdBy,comments:e.comments,like:e.like,profileImage:e.profileImage,userName:e.userName}}))})).flat(1);return r.a.createElement("div",null,r.a.createElement(de.a,{className:t.photoGrid},r.a.createElement("div",{className:t.titleBar},r.a.createElement(Ce.a,null,r.a.createElement(Se.a,null,r.a.createElement(oe.a,{className:t.photoAvatar},r.a.createElement(tt.a,null)),r.a.createElement(re.a,{primary:"Photos"})))),r.a.createElement("div",{className:t.pictureGrid},r.a.createElement(Ze.a,{cellHeight:120,className:t.gridList,cols:3},b.map((function(e){return r.a.createElement(Qe.a,{key:e._id+"-"+e.image,cols:1},r.a.createElement("img",{onError:function(e){e.target.src="images/404.png"},onClick:function(){return t=e,m(!0),o(!0),void g(t);var t},src:e.image}))})),E.map((function(e){return r.a.createElement(Qe.a,{key:e._id+"-"+e.video,cols:1},r.a.createElement("video",{onClick:function(){return t=e,m(!0),o(!1),void g(t);var t},src:e.video}))}))),s?r.a.createElement(bt,{isImage:i,openPhoto:s,imageDetails:u,onclose:function(){m(!1)}}):null)))}var vt=a(593),kt=a(300),yt=a.n(kt),Nt=a(139),Ot=Object(f.a)((function(e){return{friendGrid:{padding:e.spacing(3,2)},titleBar:{"& ul,& ul li":{margin:0,padding:0},"& ul li span":{fontSize:"20px"}},pictureGrid:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},gridList:{height:450},icon:{color:"rgba(255, 255, 255, 0.54)"},friendAvatar:{margin:10,color:"#fff",backgroundColor:Nt.a[500]}}}));function It(e){var t=Ot(),a=e.friends;return r.a.createElement("div",null,r.a.createElement(de.a,{className:t.friendGrid},r.a.createElement("div",{className:t.titleBar},r.a.createElement(Ce.a,null,r.a.createElement(Se.a,null,r.a.createElement(oe.a,{className:t.friendAvatar},r.a.createElement(yt.a,null)),r.a.createElement(re.a,{primary:"Friends"})))),r.a.createElement("div",{className:t.pictureGrid},r.a.createElement(Ze.a,{cellHeight:120,className:t.gridList,cols:3},a.map((function(e){return r.a.createElement(Qe.a,{key:e._id,cols:1},r.a.createElement("img",{onError:function(e){e.target.src="images/404.png"},src:e.profileImage?e.profileImage:"images/blank.png",alt:e.name}),r.a.createElement(vt.a,{title:e.name}))}))))))}var jt=Object(f.a)((function(e){return{postDescription:{"& p":{padding:e.spacing(0,2)},"& a":{textDecoration:"none",padding:"0 2px",color:"#385898","&:hover":{textDecoration:"underline",cursor:"pointer"}}},gridList:{transform:"translateZ(0)",width:"100%","& img":{backgroundPosition:"initial",cursor:"pointer",width:"100%",height:"inherit"},"& video":{backgroundPosition:"initial",cursor:"pointer",width:"100%",height:"inherit"}},images:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},arrowTag:{content:" ",position:"absolute",left:"5%",bottom:"100%",borderWidth:"5px",borderStyle:"solid",borderColor:"transparent transparent black"},popperElement:{zIndex:50,maxWidth:"300px",minWidth:"192px"},popperContent:{transform:"translate3d(0, 11px, 0px)",background:"#000",color:"#fff","& p:hover":{color:"#fff",background:"#385898",cursor:"pointer"}}}}));var wt=function(e){var t=jt(),a=r.a.useState(!1),n=Object(h.a)(a,2),i=n[0],o=n[1],l=r.a.useState(!1),c=Object(h.a)(l,2),s=c[0],m=c[1],p=r.a.useState(null),d=Object(h.a)(p,2),u=d[0],g=d[1],f=r.a.useState(null),b=Object(h.a)(f,2),E=b[0],x=b[1],v=e.post,k=v.images,y=v.videos,N=v.tags,O=N.length-1,I=N.slice(1),j=function(e){return 1===e.length?e.map((function(e){return Object(He.a)(Object(He.a)({},e),{},{featured:!0})})):e.map((function(e){return Object(He.a)(Object(He.a)({},e),{},{featured:!1})}))},w=k?j(k):[],C=y?j(y):[],S=Boolean(E);return r.a.createElement("div",{key:v._id,className:t.postDescription},r.a.createElement(z.a,{component:"div",style:{textAlign:"left"}},r.a.createElement("p",null,v.text),1===N.length?r.a.createElement("p",null,"- with ",r.a.createElement("a",{href:"#"},N[0].user.name)):N.length>1?r.a.createElement("p",null,"- with ",r.a.createElement("a",{href:"#"},N[0].user.name)," and ",r.a.createElement("a",{onClick:function(e){x(E?null:e.currentTarget)}},O," others")):null,r.a.createElement(pe.a,{className:t.popperElement,anchorEl:E,open:S,placement:"bottom-start",disablePortal:!0,modifiers:{flip:{enabled:!1},preventOverflow:{enabled:!1,boundariesElement:"scrollParent"}}},r.a.createElement("div",{className:t.popperContent},r.a.createElement("div",{className:t.arrowTag}," "),I.map((function(e){return r.a.createElement(z.a,{key:e.user._id,className:t.typography}," ",e.user.name," ")}))))),r.a.createElement("div",{className:t.images},r.a.createElement(Ze.a,{className:t.gridList},w?w.map((function(e){return r.a.createElement(Qe.a,{cols:e.featured?2:1,rows:e.featured?2:1,key:e._id},r.a.createElement("img",{onError:function(e){e.target.src="images/404.png"},onClick:function(){return function(e,t){var a;o(!0),m(!0),e.images.find((function(n){n._id===t&&(a={_id:e._id,image:n.imageUrl,createdBy:e.createdBy,comments:e.comments,like:e.like,profileImage:e.profileImage,userName:e.userName})})),g(a)}(v,e._id)},src:e.imageUrl?"".concat(e.imageUrl):"images/404.png"}))})):null,C?C.map((function(e){return r.a.createElement(Qe.a,{cols:e.featured?2:1,rows:e.featured?2:1,key:e._id},r.a.createElement("video",{onError:function(e){e.target.src="images/404.png"},onClick:function(){return function(e,t){var a;o(!0),m(!1),e.videos.find((function(n){n._id===t&&(a={_id:e._id,image:n.videoUrl,createdBy:e.createdBy,comments:e.comments,like:e.like,profileImage:e.profileImage,userName:e.userName})})),g(a)}(v,e._id)},src:e.videoUrl?"".concat(e.videoUrl):"images/404.png"}))})):null),i?r.a.createElement(bt,{isImage:s,openPhoto:i,imageDetails:u,onclose:function(){o(!1)}}):null))},Ct=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleLike=function(t){var a=e.props.auth.user.id;e.props.likePost(t,a)},e.checkUserLike=function(e,t){return e.like&&e.like.find((function(e){return e.user===t.id}))},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.clearAllPosts(),this.props.getFeed()}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.props.auth.user,n=this.props.post.allPosts,i=this.props.profile.friends;return r.a.createElement("div",{className:t.pageDetails},r.a.createElement(g.a,{container:!0,spacing:0},r.a.createElement(g.a,{item:!0,xs:5},r.a.createElement("div",{className:t.leftContent},r.a.createElement("div",{className:t.userAbout},r.a.createElement(Be,null)),r.a.createElement("div",{className:t.photoGrid},r.a.createElement(xt,{posts:n})),r.a.createElement("div",{className:t.friendGrid},r.a.createElement(It,{friends:i})))),r.a.createElement(g.a,{item:!0,xs:7},r.a.createElement("div",{className:t.RightContent},r.a.createElement("div",{className:t.CreatePost},r.a.createElement(Ye,null)),n.length>0?n.map((function(n){return r.a.createElement(de.a,{key:n._id,className:t.postItems},r.a.createElement(Ce.a,{className:t.list},r.a.createElement(Se.a,{alignItems:"flex-start"},r.a.createElement(ie.a,null,r.a.createElement(oe.a,{onError:function(e){e.target.src="images/404.png"},alt:"Remy Sharp",src:n.createdBy.profileImage})),r.a.createElement(re.a,{primary:n.createdBy.name}))),r.a.createElement(wt,{post:n}),r.a.createElement("div",{className:t.actionsResult},r.a.createElement(z.a,{className:t.actionsResultItem},r.a.createElement(pt.a,{className:t.likeResultIcon,color:"primary"})),r.a.createElement(z.a,{className:t.actionsResultItem},n.like?n.like.length:0)),r.a.createElement("hr",{className:t.divider}),r.a.createElement("div",{className:t.actionsList},r.a.createElement(gt,{actionItems:t.actionItems,actionIcons:t.actionIcons,takeAction:t.takeAction,postId:n._id,post:n,user:a,handleLike:e.handleLike,checkUserLike:e.checkUserLike})),r.a.createElement("hr",{className:t.divider}),r.a.createElement("div",{className:t.commentSection},r.a.createElement("div",{className:t.createComment},r.a.createElement(it,{postId:n._id})),r.a.createElement("div",{className:t.comments},n.comments?n.comments.map((function(e){return r.a.createElement(lt,{key:"timeline/".concat(n._id,"-").concat(e._id),comment:e})})):null)))})):null))))}}]),a}(n.Component),St=Object(b.b)((function(e){return{auth:e.auth,post:e.post,profile:e.profile}}),{setTimeLineUser:xe,likePost:ke,getFeed:ve,clearAllPosts:ye})(Object(u.a)((function(e){return Object(_.a)({timeline:{width:"85%",marginLeft:"5%"},timeLineCover:{borderRadius:"2px"},coverPhoto:{width:"100%",height:"auto","& > img":{width:"100%",height:"400px",border:"1px solid #888888",boxShadow:"1px 1px #888888"}},profilePicture:{transform:"translate(-35%,-80%)",position:"absolute",left:"10%","&  img":{padding:e.spacing(.25,.25),width:"200px",height:"200px",borderRadius:"50%",border:"2px solid #fff",background:"#fff",zIndex:100}},uploadPhotoDiv:{bottom:"10px",left:"5px",overflow:"hidden",width:"200px",position:"absolute"},updatePhoto:{background:"linear-gradient( transparent, rgba(0, 0, 0, .6) 0%, rgba(0, 0, 0, .6) 100% )",width:"100%",borderBottomLeftRadius:"90px",borderBottomRightRadius:"90px",height:"90px",textAlign:"center",color:"#fff",cursor:"pointer",transition:"0.3s"},uploadImageInput:{display:"none"},timeLineNav:{paddingLeft:"30%",borderRadius:"none",background:"#fff"},navList:{margin:0,padding:0,display:"flex",listStyleType:"none",borderLeft:"1px solid #e9eaed"},listItem:{borderRight:"1px solid #e9eaed",height:"43px",lineHeight:3.05,padding:"17px 17px",position:"relative",verticalAlign:"middle",whiteSpace:"nowrap",color:"#385898",cursor:"pointer",textDecoration:"none",fontSize:"16px",fontWeight:600},totalFriends:{color:"#89919c",fontSize:"11px",fontWeight:"normal",paddingLeft:"6px"},pageDetails:{marginTop:e.spacing(2)},RightContent:{marginLeft:"20px",width:"120%"},photoGrid:{marginTop:e.spacing(2)},friendGrid:{marginTop:e.spacing(2)},actionContainer:{width:"50%",position:"absolute"},interactingActions:{position:"absolute",display:"flex",padding:"0px 12px",bottom:"20px",left:"30%","& div a":{padding:"4px 16px",background:"#e9eaed",border:"1px solid #ccd0d5",cursor:"pointer"}},otherActions:{marginLeft:e.spacing(1),display:"flex"},typography:{padding:"8px 16px 4px 22px",fontSize:"14px"},arrowFriend:{content:" ",position:"absolute",left:"5%",bottom:"100%",borderWidth:"10px",borderStyle:"solid",borderColor:"transparent transparent white"},arrowFollow:{content:" ",position:"absolute",right:"5%",bottom:"100%",borderWidth:"10px",borderStyle:"solid",borderColor:"transparent transparent white"},popperElement:{zIndex:50,maxWidth:"300px",minWidth:"192px"},popperContent:{transform:"translate3d(0, 11px, 0px)","& p:hover":{color:"#fff",background:"#385898",cursor:"pointer"}},divider:{borderBottom:"1px solid #ddd",margin:"5px 7px 6px",paddingTop:"1px"},postItems:{marginTop:e.spacing(5),display:"block",width:"80%"},list:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},inline:{display:"inline"},post:{width:"100%"},actionsResult:{padding:e.spacing(1,0),display:"flex",maxWidth:"100%",backgroundColor:e.palette.background.paper},actionsResultItem:{justifyContent:"center",alignItems:"center",textAlign:"center",padding:0},actionsList:{padding:e.spacing(1,2),display:"flex",maxWidth:"100%",backgroundColor:e.palette.background.paper,justifyContent:"space-around"},actionItems:{justifyContent:"center",alignItems:"center",textAlign:"center",padding:e.spacing(0,2),transition:"all 0.5s","&:hover":{cursor:"pointer",transform:"scale(1.1)","& > *":{color:"#385898"}},"&:active":{transform:"scale(0.9)"}},actionIcons:{margin:e.spacing(-.5,.5),color:"#385898"},takeAction:{margin:e.spacing(-.5,.5),color:"#e9eaed"},likeResultIcon:{margin:e.spacing(-.5,.5)},commentSection:{marginTop:e.spacing(1)},createComment:{marginTop:e.spacing(2)},comments:{marginTop:e.spacing(1)}},"divider",{borderBottom:"1px solid #ddd",margin:"5px 7px 6px",paddingTop:"1px"})}))(Object(d.g)(Ct))),Tt=a(301),Bt=a.n(Tt),Ft=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.classes,t=this.props.auth.user;return r.a.createElement("div",{className:e.about},r.a.createElement("div",{className:e.aboutHeader},r.a.createElement("h3",{className:e.headerContent},r.a.createElement(be.a,null,r.a.createElement(Bt.a,{className:e.personIcon})),r.a.createElement(p.b,{to:"/".concat(t.userName,"/about")},"About"))))}}]),a}(n.Component),Pt=Object(b.b)((function(e){return{auth:e.auth,post:e.post,profile:e.profile}}))(Object(u.a)((function(e){return{about:{marginTop:e.spacing(2),background:"#fff",border:"1px solid #ccd0d5",borderRadius:"3px",marginBottom:"10px"},aboutHeader:{background:"#f5f6f7",borderBottom:"1px solid #d3d6db",borderRadius:"2px 2px 0 0",marginBottom:"15px",paddingTop:"16px"},headerContent:{fontSize:"20px",fontWeight:"bold",height:"32px",margin:"0 12px 5px",lineHeight:1,"& a":{color:"#4b4f56",textDecoration:"none",verticalAlign:"text-top"}},personIcon:{color:"#969292"}}}))(Object(d.g)(Ft))),Rt=a(303),Lt=a.n(Rt),At=a(302),_t=a.n(At),Dt=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.classes,t=this.props.auth.user,a=this.props.profile.friends.map((function(t){return r.a.createElement("li",{key:t._id,className:e.friendDetails},r.a.createElement("div",{className:e.friend},r.a.createElement("img",{src:t.profileImage?"/".concat(t.profileImage):"/images/blank.png",alt:""}),r.a.createElement("div",{className:e.friendWrapper},r.a.createElement("div",{className:e.friendStatusWrapper,style:{height:"35px"}}),r.a.createElement("div",{className:e.friendStatus},r.a.createElement("div",{className:e.friendButton},r.a.createElement("a",null,r.a.createElement("span",{className:e.checkIcon},r.a.createElement(be.a,null,r.a.createElement(_t.a,null))),r.a.createElement("span",null," Friends"))))),r.a.createElement("div",{className:e.nameWrapper},r.a.createElement("div",{className:e.friendStatusWrapper,style:{height:"35px"}}),r.a.createElement("div",{className:e.friendNameWrapper},r.a.createElement(p.b,{className:e.friendName,to:"/".concat(t.userName)},t.name)))))}));return r.a.createElement("div",{className:e.friends},r.a.createElement("div",{className:e.friendsHeader},r.a.createElement("h3",{className:e.headerContent},r.a.createElement(be.a,null,r.a.createElement(Lt.a,{className:e.personsIcon})),r.a.createElement(p.b,{to:"/".concat(t.userName,"/friends")}," Friends"))),r.a.createElement(g.a,{container:!0,spacing:0},r.a.createElement("ul",{className:e.friendsList},a)))}}]),a}(n.Component),Wt=Object(b.b)((function(e){return{auth:e.auth,post:e.post,profile:e.profile}}))(Object(u.a)((function(e){return{friends:{marginTop:e.spacing(2),background:"#fff",border:"1px solid #ccd0d5",borderRadius:"3px",marginBottom:"10px"},friendsHeader:{background:"#f5f6f7",borderBottom:"1px solid #d3d6db",borderRadius:"2px 2px 0 0",marginBottom:"15px",paddingTop:"16px"},headerContent:{fontSize:"20px",fontWeight:"bold",height:"32px",margin:"0 12px 5px",lineHeight:1,"& a":{color:"#4b4f56",textDecoration:"none",verticalAlign:"text-top"}},personIcon:{color:"#969292"},friendsList:{listStyleType:"none",margin:0,padding:0},friendDetails:{border:"1px solid #e9ebee",display:"inline-block",margin:"0 0 13px 13px",padding:"0 10px 0 0",position:"relative",varticalAlign:"top",width:"390px"},friend:{"& img":{width:"100px",height:"100px",float:"left"}},friendWrapper:{display:"inline-block",float:"right"},friendStatusWrapper:{display:"inline-block",verticalAlign:"middle"},friendButton:{display:"inline-block",verticalAlign:"top","& a":{padding:"4px 12px",background:"#e9eaed",border:"1px solid #ccd0d5",cursor:"pointer"}},checkIcon:{verticalAlign:"sub","& svg":{color:"green",width:"0.9em"}},nameWrapper:{display:"inline-block"},friendName:{color:"#385898",cursor:"pointer",textDecoration:"none",fontWeight:"600",fontSize:"14px",marginLeft:"20px","&:hover":{textDecoration:"underline"}}}}))(Object(d.g)(Dt))),Mt=a(304),Ut=a.n(Mt),zt=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).onPhotoClick=function(t){e.setState({openPhoto:!0,imageDetails:t,isImage:!0})},e.onVideoClick=function(t){e.setState({openPhoto:!0,imageDetails:t,isImage:!1})},e.state={openPhoto:!1,isImage:!1,imageDetails:null},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.props.classes,a=this.props.auth.user,n=this.props.post.allPosts,i=n.filter((function(e){return e.images&&e.images.length>0})).map((function(e){return e.images.map((function(t){return{_id:e._id,image:t.imageUrl,createdBy:e.createdBy,comments:e.comments,like:e.like,profileImage:e.profileImage,userName:e.userName}}))})).flat(1),o=n.filter((function(e){return e.videos&&e.videos.length>0})).map((function(e){return e.videos.map((function(t){return{_id:e._id,video:t.videoUrl,createdBy:e.createdBy,comments:e.comments,like:e.like,profileImage:e.profileImage,userName:e.userName}}))})).flat(1);return r.a.createElement("div",{className:t.photos},r.a.createElement("div",{className:t.photosHeader},r.a.createElement("h3",{className:t.headerContent},r.a.createElement(be.a,null,r.a.createElement(Ut.a,{className:t.cameraIcon})),r.a.createElement(p.b,{to:"/".concat(a.userName,"/photos")},"Photos"))),r.a.createElement("div",{className:t.pictureGrid},r.a.createElement(Ze.a,{className:t.gridList,cols:4},i.map((function(t){return r.a.createElement(Qe.a,{key:t._id,cols:1},r.a.createElement("img",{onError:function(e){e.target.src="images/404.png"},onClick:function(){return e.onPhotoClick(t)},src:t.image}))})),o.map((function(t){return r.a.createElement(Qe.a,{key:t._id,cols:1},r.a.createElement("video",{onError:function(e){e.target.src="images/404.png"},onClick:function(){return e.onVideoClick(t)},src:t.video}))}))),this.state.openPhoto?r.a.createElement(bt,{isImage:this.state.isImage,openPhoto:this.state.openPhoto,imageDetails:this.state.imageDetails,onclose:function(){return e.setState({openPhoto:!1})}}):null))}}]),a}(n.Component),Ht=Object(b.b)((function(e){return{auth:e.auth,post:e.post,profile:e.profile}}))(Object(u.a)((function(e){return{photos:{marginTop:e.spacing(2),background:"#fff",border:"1px solid #ccd0d5",borderRadius:"3px",marginBottom:"10px"},photosHeader:{background:"#f5f6f7",borderBottom:"1px solid #d3d6db",borderRadius:"2px 2px 0 0",marginBottom:"15px",paddingTop:"16px"},headerContent:{fontSize:"20px",fontWeight:"bold",height:"32px",margin:"0 12px 5px",lineHeight:1,"& a":{color:"#4b4f56",textDecoration:"none",verticalAlign:"text-top"}},cameraIcon:{color:"#969292"},pictureGrid:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},gridList:{height:450,"& img":{cursor:"pointer"},"& video":{cursor:"pointer",width:"100%",height:"100%"}}}}))(Object(d.g)(zt))),Gt=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).handleFriendPopper=function(t){e.setState({anchorE1:e.state.anchorE1?null:t.currentTarget,anchorE2:null})},e.handleFollowPopper=function(t){e.setState({anchorE2:e.state.anchorE2?null:t.currentTarget,anchorE1:null})},e.handleMouseOutFriend=function(){e.setState({anchorE1:null,anchorE2:null})},e.handleMouseOutFollow=function(){e.setState({anchorE2:null,anchorE1:null})},e.uploadProfilePhoto=function(t){var a=e.props.auth.user,n=t.target.files[0],r=new FormData;r.append("userId",a.id),r.append("images",n),e.props.uploadPhoto(r,a.userName)},e.state={isFriend:!1,isFollowing:!1,anchorE1:null,anchorE2:null,isUpload:!1,authUser:!0},e}return Object(c.a)(a,[{key:"sendFriendRequest",value:function(e,t,a){e.target.innerHTML="Friend Request Sent",x.a.post("/sendfriendrequest",{userId:t,tlUserId:a}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e,t=this,a=this.props.classes,n=this.props.auth.user,i=this.props.profile.timeLineUser,o=Boolean(this.state.anchorE1),l=Boolean(this.state.anchorE2),c=this.props.profile.friends;if(!i.authUser&&c.length>0){var s=c.find((function(e){return e.userName===n.userName}));e=s?s.status:-1}return r.a.createElement("div",{className:a.timeline},r.a.createElement("div",{className:a.timeLineCover},r.a.createElement("div",{className:a.coverPhoto},r.a.createElement("img",{src:"images/Batman.jpg"})),r.a.createElement("div",{onMouseEnter:function(){return t.setState({isUpload:!0})},onMouseLeave:function(){return t.setState({isUpload:!1})},className:a.profilePicture},r.a.createElement("a",{href:"#"},i.profileImage?r.a.createElement("img",{onError:function(e){e.target.src="images/404.png"},src:i.profileImage}):r.a.createElement("img",{src:"images/blank.png"})),i.authUser&&this.state.isUpload?r.a.createElement("div",{className:a.uploadPhotoDiv},r.a.createElement("input",{onChange:this.uploadProfilePhoto,className:a.uploadImageInput,id:"icon-button-file",type:"file"}),r.a.createElement("label",{htmlFor:"icon-button-file"},r.a.createElement("div",{className:a.updatePhoto},r.a.createElement("div",{className:a.cameraIcon},r.a.createElement(be.a,null,r.a.createElement(fe.a,null))),"Upload"))):null),r.a.createElement("div",{className:a.timeLineNav},i.authUser?null:r.a.createElement("div",{className:a.actionContainer},r.a.createElement("div",{className:a.interactingActions},r.a.createElement("div",null,e&&1===e?r.a.createElement("a",{onClick:this.handleFriendPopper,variant:"contained",color:"default"}," Friends "):2===e?r.a.createElement("a",{variant:"contained",color:"default"},"Friend Request Sent"):r.a.createElement("a",{onClick:function(e){return t.sendFriendRequest(e,n.id,i._id)},variant:"contained",color:"default"},"Add Friend"),r.a.createElement(pe.a,{className:a.popperElement,anchorEl:this.state.anchorE1,open:o,placement:"bottom-start",disablePortal:!0,modifiers:{flip:{enabled:!1},preventOverflow:{enabled:!1,boundariesElement:"scrollParent"}}},r.a.createElement(de.a,{className:a.popperContent},r.a.createElement("div",{className:a.arrowFriend}," "),r.a.createElement(z.a,{className:a.typography}," Get Notifications "),r.a.createElement("hr",{className:a.divider}),r.a.createElement(z.a,{className:a.typography}," Close Friends "),r.a.createElement("hr",{className:a.divider}),r.a.createElement(z.a,{className:a.typography}," Unfriend ")))),r.a.createElement("div",{className:a.otherActions},r.a.createElement("div",null," ",this.state.isFollowing?r.a.createElement("a",{onClick:this.handleFollowPopper,variant:"contained",color:"default"}," Following "):r.a.createElement("a",{variant:"contained",color:"default"}," Follow "),r.a.createElement(pe.a,{className:a.popperElement,anchorEl:this.state.anchorE2,open:l,placement:"bottom-end",disablePortal:!0,modifiers:{flip:{enabled:!1},preventOverflow:{enabled:!1,boundariesElement:"scrollParent"}}},r.a.createElement(de.a,{className:a.popperContent},r.a.createElement("div",{className:a.arrowFollow}," "),r.a.createElement(z.a,{className:a.typography}," See First "),r.a.createElement("hr",{className:a.divider}),r.a.createElement(z.a,{className:a.typography}," Default "),r.a.createElement("hr",{className:a.divider}),r.a.createElement(z.a,{className:a.typography}," Unfollow ")))),r.a.createElement("div",null,r.a.createElement("a",{variant:"contained",color:"default"}," Message "),r.a.createElement("a",{variant:"contained",color:"default"}," ... "))))),r.a.createElement("ul",{className:a.navList},r.a.createElement("li",null," ",r.a.createElement(p.b,{to:"/".concat(i.userName),className:a.listItem}," TimeLine ")),r.a.createElement("li",null," ",r.a.createElement(p.b,{to:"/".concat(i.userName,"/about"),className:a.listItem}," About ")),r.a.createElement("li",null," ",r.a.createElement(p.b,{to:"/".concat(i.userName,"/friends"),className:a.listItem}," Friends ",r.a.createElement("span",{className:a.totalFriends}," ",c.length," "))),r.a.createElement("li",null," ",r.a.createElement(p.b,{to:"/".concat(i.userName,"/photos"),className:a.listItem}," Photos ")),r.a.createElement("li",null," ",r.a.createElement(p.b,{to:"#",className:a.listItem}," Archive ")),r.a.createElement("li",null," ",r.a.createElement(p.b,{to:"#",className:a.listItem}," More "))))),r.a.createElement(d.b,{exact:!0,path:"/".concat(i.userName,"/"),component:St}),r.a.createElement(d.b,{exact:!0,path:"/".concat(i.userName,"/about"),component:Pt}),r.a.createElement(d.b,{exact:!0,path:"/".concat(i.userName,"/friends"),component:Wt}),r.a.createElement(d.b,{exact:!0,path:"/".concat(i.userName,"/photos"),component:Ht}))}}]),a}(n.Component),qt=Object(b.b)((function(e){return{auth:e.auth,post:e.post,profile:e.profile}}),{uploadPhoto:function(e,t){return function(a){x.a.post("/uploadphoto",e).then((function(e){var n={_id:e.data._id,name:e.data.name,userName:e.data.userName,profileImage:e.data.profileImage,authUser:e.data.userName===t};a({type:"SET_PROFILE_IMAGE",payload:e.data}),a({type:"SET_TIMELINE_USER",payload:n})})).catch((function(e){console.log(e)}))}},setTimeLineUser:xe,likePost:ke,clearAllPosts:ye})(Object(u.a)((function(e){return Object(_.a)({timeline:{width:"85%",marginLeft:"5%",marginTop:"50px"},timeLineCover:{borderRadius:"2px"},coverPhoto:{width:"100%",height:"auto","& > img":{width:"100%",height:"400px",border:"1px solid #888888",boxShadow:"1px 1px #888888"}},profilePicture:{transform:"translate(-35%,-80%)",position:"absolute",left:"10%","& img":{padding:e.spacing(.25,.25),width:"200px",height:"200px",borderRadius:"50%",border:"2px solid #fff",background:"#fff",zIndex:100}},uploadPhotoDiv:{bottom:"10px",left:"5px",overflow:"hidden",width:"200px",position:"absolute"},updatePhoto:{background:"linear-gradient( transparent, rgba(0, 0, 0, .6) 0%, rgba(0, 0, 0, .6) 100% )",width:"100%",borderBottomLeftRadius:"90px",borderBottomRightRadius:"90px",height:"90px",textAlign:"center",color:"#fff",cursor:"pointer",transition:"0.3s"},uploadImageInput:{display:"none"},timeLineNav:{paddingLeft:"30%",borderRadius:"none",background:"#fff"},navList:{margin:0,padding:0,display:"flex",listStyleType:"none",borderLeft:"1px solid #e9eaed"},listItem:{borderRight:"1px solid #e9eaed",height:"43px",lineHeight:3.05,padding:"17px 17px",position:"relative",verticalAlign:"middle",whiteSpace:"nowrap",color:"#385898",cursor:"pointer",textDecoration:"none",fontSize:"16px",fontWeight:600},totalFriends:{color:"#89919c",fontSize:"11px",fontWeight:"normal",paddingLeft:"6px"},pageDetails:{marginTop:e.spacing(2)},RightContent:{marginLeft:"20px",width:"120%"},photoGrid:{marginTop:e.spacing(2)},friendGrid:{marginTop:e.spacing(2)},actionContainer:{width:"50%",position:"absolute"},interactingActions:{position:"absolute",display:"flex",padding:"0px 12px",bottom:"20px",left:"30%","& div a":{padding:"4px 16px",background:"#e9eaed",border:"1px solid #ccd0d5",cursor:"pointer"}},otherActions:{marginLeft:e.spacing(1),display:"flex"},typography:{padding:"8px 16px 4px 22px",fontSize:"14px"},arrowFriend:{content:" ",position:"absolute",left:"5%",bottom:"100%",borderWidth:"10px",borderStyle:"solid",borderColor:"transparent transparent white"},arrowFollow:{content:" ",position:"absolute",right:"5%",bottom:"100%",borderWidth:"10px",borderStyle:"solid",borderColor:"transparent transparent white"},popperElement:{zIndex:50,maxWidth:"300px",minWidth:"192px"},popperContent:{transform:"translate3d(0, 11px, 0px)","& p:hover":{color:"#fff",background:"#385898",cursor:"pointer"}},divider:{borderBottom:"1px solid #ddd",margin:"5px 7px 6px",paddingTop:"1px"},postItems:{marginTop:e.spacing(5),display:"block",width:"80%"},list:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},inline:{display:"inline"},post:{width:"100%"},actionsResult:{padding:e.spacing(1,0),display:"flex",maxWidth:"100%",backgroundColor:e.palette.background.paper},actionsResultItem:{justifyContent:"center",alignItems:"center",textAlign:"center",padding:0},actionsList:{padding:e.spacing(1,2),display:"flex",maxWidth:"100%",backgroundColor:e.palette.background.paper,justifyContent:"space-around"},actionItems:{justifyContent:"center",alignItems:"center",textAlign:"center",padding:e.spacing(0,2),"&:hover":{cursor:"pointer"}},actionIcons:{margin:e.spacing(-.5,.5),color:"#385898"},takeAction:{margin:e.spacing(-.5,.5),color:"#e9eaed"},likeResultIcon:{margin:e.spacing(-.5,.5)},commentSection:{marginTop:e.spacing(1)},createComment:{marginTop:e.spacing(2)},comments:{marginTop:e.spacing(1)}},"divider",{borderBottom:"1px solid #ddd",margin:"5px 7px 6px",paddingTop:"1px"})}))(Object(d.g)(Gt))),Kt=a(306),$t=a.n(Kt),Jt=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).scrollToBottom=function(){e.messagesEndRef.current.scrollIntoView({behaviour:"smooth"})},e.sendMessage=function(t){var a=e.props.auth.user,n=e.props.friend.user,r=a.id,i=n._id;"Enter"===t.key&&e.state.chatMessage.length>0&&(x.a.post("/sendmessage",{message:e.state.chatMessage,sender:r,reciever:i}).then((function(t){var a=t.data;e.state.socket.emit("check-message",{sender:r,reciever:i,result:a})})).catch((function(e){console.log(e)})),e.setState({chatMessage:""}))},e.state={open:!1,chatMessage:"",allMessages:[],socket:null},e.messagesEndRef=r.a.createRef(),e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.auth.socket;this.setState({socket:t});var a=this.props.auth.user,n=this.props.friend.user;this.scrollToBottom(),x.a.post("/getchat",{userId:a.id,friendId:n._id}).then((function(t){e.setState({allMessages:t.data})})).catch((function(e){console.log(e)}))}},{key:"componentWillUpdate",value:function(e,t){var a=this,n=e.auth.user,r=e.friend.user;t.allMessages!==this.state.allMessages&&(this.state.socket.once("PRIVATE_CHAT_MESSAGE",(function(e){var t=Object(Ee.a)(a.state.allMessages);a.setState({allMessages:t.concat(e)})})),this.scrollToBottom()),this.props.friend.user!==e.friend.user&&x.a.post("/getchat",{userId:n.id,friendId:r._id}).then((function(e){a.setState({allMessages:e.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.props.friend.user,n=this.props.auth.user.id,i=this.state.allMessages?this.state.allMessages.sort((function(e,t){return e.createdAt<t.createdAt?-1:1})):[];return r.a.createElement("div",{className:t.chatBoxMain},r.a.createElement("div",{className:t.topBar},r.a.createElement("div",{className:t.userInfo},r.a.createElement(oe.a,{onError:function(e){e.target.src="images/404.png"},alt:a.name,src:a.profileImage?a.profileImage:"images/blank.png"}),r.a.createElement(z.a,{component:"p"},a.name)),r.a.createElement("div",null,r.a.createElement($t.a,{className:t.close,onClick:this.props.click.bind(this)}))),r.a.createElement(de.a,{className:t.chatBox},r.a.createElement("div",{className:t.chatWindow},i.map((function(e){return e.from._id===n?r.a.createElement("div",{key:e._id,className:t.msgRight},r.a.createElement(z.a,{component:"p"},e.message)):r.a.createElement("div",{key:e._id,className:t.msgLeft},r.a.createElement(z.a,{component:"p"},e.message))})),r.a.createElement("div",{ref:this.messagesEndRef})),r.a.createElement("div",{className:t.sendMessageFooter},r.a.createElement(C.a,{className:t.textBox,placeholder:"Enter you message...",fullWidth:!0,disableUnderline:!0,onChange:function(t){return e.setState({chatMessage:t.target.value})},onKeyPress:this.sendMessage,value:this.state.chatMessage}))))}}]),a}(n.Component),Vt=Object(b.b)((function(e){return{auth:e.auth,profile:e.profile}}))(Object(u.a)((function(e){return{chatBoxMain:{position:"fixed",minWidth:"20%",transform:"translate(-100%)",bottom:0},chatBox:{padding:e.spacing(3,2),height:"300px",width:"100%"},topBar:{padding:e.spacing(1,2),display:"flex",width:"100%",height:"auto",background:"#fff",borderBottom:"1px solid #b2b9c9",boxShadow:"inset 2px 0 2px -2px #b2b9c9",justifyContent:"space-between"},userInfo:{display:"flex","& img, & p":{padding:"0 16px"}},close:{cursor:"pointer"},chatWindow:{display:"flex",flexDirection:"column",width:"100%",height:"250px",overflowY:"scroll"},sendMessageFooter:{width:"100%",marginTop:e.spacing(2),borderTop:"1px solid #e9ebee"},msgLeft:{position:"relative",minHeight:"10px",marginBottom:"15%",wordBreak:"break-all",textAlign:"left",maxWidth:"50%",fontSize:"11px","& p":{background:"#e2e2e2",borderRadius:"45px",padding:"0 16px",fontSize:"15px",lineHeight:"1.2em"}},msgRight:{position:"relative",minHeight:"10px",wordBreak:"break-all",marginBottom:"15%",marginLeft:"50%",textAlign:"left",maxWidth:"50%",color:"#fff",fontSize:"11px","& p":{background:"#2072f7",borderRadius:"45px",padding:"0 16px",fontSize:"15px",lineHeight:"1.2em"}}}}))(Jt)),Xt=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).openModal=function(e){n.setState({open:!0,friend:e})},n.closeModal=function(){n.setState({open:!1})},n.state={open:!1,friendsList:[],friend:null},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.auth.user.id;x.a.post("/getchatfriends",{userId:t}).then((function(t){e.setState({friendsList:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.friendsList;return r.a.createElement("div",{className:t.sideNav},r.a.createElement(de.a,{className:t.userList},r.a.createElement(z.a,{className:t.contactsHeader},"Contacts"),r.a.createElement(Ce.a,{component:"nav","aria-label":"Secondary mailbox folders"},a?a.map((function(t){var a;return r.a.createElement(Se.a,{key:t.user._id,button:!0,onClick:function(){return e.openModal(t)}},r.a.createElement(ie.a,null,r.a.createElement(oe.a,(a={onError:function(e){e.target.src="images/404.png"}},Object(_.a)(a,"onError",(function(e){e.target.src="images/404.png"})),Object(_.a)(a,"alt",t.user.name),Object(_.a)(a,"src",t.user.profileImage?t.user.profileImage:"images/blank.png"),a))),r.a.createElement(re.a,{primary:t.user.name}))})):null)),this.state.open?r.a.createElement(Vt,{friend:this.state.friend,click:this.closeModal}):null)}}]),a}(n.Component),Yt=Object(b.b)((function(e){return{auth:e.auth}}))(Object(u.a)((function(e){return{sideNav:{position:"fixed",marginTop:"50px"},userList:{width:"100%",padding:e.spacing(3,2),marginLeft:"30%",borderLeft:"1px solid #6b6c70",borderRadius:0,background:"url('images/bgImage.png')",boxShadow:"inset 2px 0 2px -2px #b2b9c9",lineHeight:"16px",height:"100vh"},contactsHeader:{textAlign:"left",fontWeight:"bold",fontSize:"14px",height:"16px",color:"#4a4a4a"},online:{color:"green"}}}))(Xt)),Zt=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.auth,t=e.isAuthenticated,a=e.user;if(t){var n=this.props.match.params.userName;this.props.setTimeLineUser(n,a.userName)}else this.props.history.replace("/auth")}},{key:"componentDidUpdate",value:function(e){var t=this.props.auth,a=t.isAuthenticated,n=t.user;if(a!=e.auth.isAuthenticated)this.props.auth.isAuthenticated||this.props.history.replace("/auth");else if(e.match.params.userName!=this.props.match.params.userName){var r=this.props.match.params.userName;this.props.setTimeLineUser(r,n.userName)}}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{item:!0,xs:12},r.a.createElement(ge,null)),r.a.createElement(g.a,{item:!0,xs:9},r.a.createElement(qt,null)),r.a.createElement(g.a,{item:!0,xs:3},r.a.createElement(Yt,null)))}}]),a}(n.Component),Qt=Object(b.b)((function(e){return{auth:e.auth,post:e.post,profile:e.profile}}),{setTimeLineUser:xe})(Zt),ea=a(307),ta=a(601),aa=a(596),na=a(595),ra=a(308),ia=a.n(ra),oa=Object(f.a)((function(e){return{expansion:{padding:0}}}));var la=function(e){var t=e.comments,a=oa(),n=t.map((function(e,t){return 0===t?r.a.createElement(na.a,{className:a.expansion,expandIcon:r.a.createElement(ia.a,null),"aria-controls":"panel1c-content",id:"panel1c-header"},r.a.createElement(lt,{key:e._id,comment:e})):r.a.createElement(aa.a,{className:a.expansion},r.a.createElement(lt,{key:e._id,comment:e}))}));return r.a.createElement(ta.a,null,n)},ca=Object(f.a)((function(e){var t,a,n;return{wrapper:{background:"#fff",height:"auto",display:"flex",flexDirection:"column",marginTop:e.spacing(5),width:"80%",justifyContent:"space-around"},wrapperCell:{display:"flex",padding:"10px"},"@keyframes placeHolderShimmer":{from:{backgroundPosition:"-300px 0"},to:{backgroundPosition:"300px 0"}},animatedBackground:(t={animationDuration:"1.25s",animationFillMode:"forwards",animationIterationCount:"infinite",animationName:"$placeHolderShimmer",animationTimingFunction:"linear",background:"#F6F6F6"},Object(_.a)(t,"background","linear-gradient(to right, #c7d1c9 8%, #e6ebe7 18%, #dfe6e0 33%)"),Object(_.a)(t,"backgroundSize","800px 104px"),Object(_.a)(t,"height","96px"),Object(_.a)(t,"position","relative"),t),image:(a={height:"50px",width:"50px",borderRadius:"50%",margin:"10px 10px",animationDuration:"1.25s",animationFillMode:"forwards",animationIterationCount:"infinite",animationName:"$placeHolderShimmer",animationTimingFunction:"linear",background:"#F6F6F6"},Object(_.a)(a,"background","linear-gradient(to right, #c7d1c9 8%, #e6ebe7 18%, #dfe6e0 33%)"),Object(_.a)(a,"backgroundSize","800px 104px"),Object(_.a)(a,"position","relative"),a),text:{width:"100%"},textLine:(n={height:"18px",width:"90%",margin:"10px 10px",animationDuration:"1.25s",animationFillMode:"forwards",animationIterationCount:"infinite",animationName:"$placeHolderShimmer",animationTimingFunction:"linear",background:"#F6F6F6"},Object(_.a)(n,"background","linear-gradient(to right, #c7d1c9 8%, #e6ebe7 18%, #dfe6e0 33%)"),Object(_.a)(n,"backgroundSize","800px 104px"),Object(_.a)(n,"position","relative"),n)}})),sa=function(e){var t=ca();return r.a.createElement("div",{className:t.wrapper},r.a.createElement("div",{className:t.wrapperCell},r.a.createElement("div",{className:t.image}),r.a.createElement("div",{className:t.text},r.a.createElement("div",{className:t.textLine}),r.a.createElement("div",{className:t.textLine}),r.a.createElement("div",{className:t.textLine}))),r.a.createElement("div",{className:t.text},r.a.createElement("div",{className:t.textLine}),r.a.createElement("div",{className:t.textLine})))},ma=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).handleLike=function(t){var a=e.props.auth.user.id;e.props.likePost(t,a)},e.fetchData=function(){var t=e.state,a=t.start,n=t.count;e.setState({start:a+Math.ceil(n/2)});var r=e.props.auth.user.id;e.props.getFeed(r,a+Math.ceil(n/2),n)},e.checkUserLike=function(e,t){return e.like&&e.like.find((function(e){return e.user===t.id}))},e.state={start:1,count:4},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.clearAllPosts();var e=this.state,t=e.start,a=e.count,n=this.props.auth.user.id;this.props.getFeed(n,t,a)}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.props.post,n=a.allPosts,i=a.hasMorePosts,o=this.props.auth.user;return r.a.createElement("div",null,r.a.createElement(ea.a,{dataLength:n.length,next:this.fetchData,hasMore:i,pullDownToRefresh:!0,refreshFunction:this.fetchData,loader:r.a.createElement(sa,null)},n?n.map((function(a){return r.a.createElement(de.a,{key:a._id,className:t.root},r.a.createElement(Ce.a,{className:t.list},r.a.createElement(Se.a,{alignItems:"flex-start"},r.a.createElement(ie.a,null,r.a.createElement(oe.a,{onError:function(e){e.target.src="images/404.png"},alt:"Remy Sharp",src:a.createdBy.profileImage?a.createdBy.profileImage:"images/blank.png"})),r.a.createElement(re.a,{primary:a.createdBy.name}))),r.a.createElement(wt,{post:a}),r.a.createElement("div",{className:t.actionsResult},r.a.createElement(ht,{actionsResultItem:t.actionsResultItem,likeResultIcon:t.likeResultIcon,like:a.like})),r.a.createElement("hr",{className:t.divider}),r.a.createElement("div",{className:t.actionsList},r.a.createElement(gt,{actionItems:t.actionItems,actionIcons:t.actionIcons,takeAction:t.takeAction,postId:a._id,post:a,user:o,handleLike:e.handleLike,checkUserLike:e.checkUserLike})),r.a.createElement("hr",{className:t.divider}),r.a.createElement("div",{className:t.commentSection},r.a.createElement("div",{className:t.createComment},r.a.createElement(it,{postId:a._id})),r.a.createElement("div",{className:t.comments},a.comments&&a.comments.length>0?r.a.createElement(la,{comments:a.comments}):r.a.createElement("p",null,"No comments to show"))))})):r.a.createElement(sa,null)))}}]),a}(n.Component),pa=Object(b.b)((function(e){return{auth:e.auth,post:e.post}}),{getFeed:ve,likePost:ke,clearAllPosts:ye})(Object(u.a)((function(e){return{root:{marginTop:e.spacing(5),display:"block",width:"80%"},list:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},inline:{display:"inline"},post:{width:"100%"},actionsResult:{padding:e.spacing(1,0),display:"flex",maxWidth:"100%",backgroundColor:e.palette.background.paper},actionsResultItem:{justifyContent:"center",alignItems:"center",textAlign:"center",padding:0},actionsList:{padding:e.spacing(1,2),display:"flex",maxWidth:"100%",backgroundColor:e.palette.background.paper,justifyContent:"space-around"},actionItems:{justifyContent:"center",alignItems:"center",textAlign:"center",padding:e.spacing(0,2),transition:"all 0.5s","&:hover":{cursor:"pointer",transform:"scale(1.1)","& > *":{color:"#385898"}},"&:active":{transform:"scale(0.9)"}},actionIcons:{margin:e.spacing(-.5,.5),color:"#385898"},takeAction:{margin:e.spacing(-.5,.5),color:"#e9eaed"},likeResultIcon:{margin:e.spacing(-.5,.5)},commentSection:{marginTop:e.spacing(1)},createComment:{marginTop:e.spacing(2)},comments:{marginTop:e.spacing(1)},divider:{borderBottom:"1px solid #ddd",margin:"5px 7px 6px",paddingTop:"1px"}}}))(ma)),da=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={hasError:!1},e}return Object(c.a)(a,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?r.a.createElement("div",null,r.a.createElement("h1",null,"Some Error Has Occurred")):this.props.children}}]),a}(n.Component),ua=Object(f.a)((function(e){return{root:{marginTop:"80px",minHeight:"100vh"}}}));var ga=function(){var e=ua();return r.a.createElement(da,null,r.a.createElement("div",{className:e.root},r.a.createElement(Ye,null),r.a.createElement(pa,null)))};var ha=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{item:!0,xs:12},r.a.createElement(ge,null)),r.a.createElement(g.a,{item:!0,xs:3}),r.a.createElement(g.a,{item:!0,xs:6},r.a.createElement(ga,null)),r.a.createElement(g.a,{item:!0,xs:2},r.a.createElement(Yt,null)))},fa=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(p.a,null,r.a.createElement("div",{className:e.root},r.a.createElement(d.d,null,r.a.createElement(d.b,{path:"/auth",component:L}),r.a.createElement(g.a,{container:!0},r.a.createElement(A,{path:"/:userName",component:Qt}),r.a.createElement(A,{exact:!0,path:"/",component:ha})))))}}]),a}(n.Component),ba=Object(u.a)((function(e){return{root:{background:"url('/images/bgImage.png') fixed",height:"100%"}}}))(fa);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ea=a(69),xa=a(310),va={isAuthenticated:!1,user:{},socket:null},ka=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:va,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTH_USER":return Object(He.a)(Object(He.a)({},e),{},{isAuthenticated:!(0===Object.entries(t.payload).length&&t.payload.constructor===Object),user:t.payload});case"SET_PROFILE_IMAGE":var a=e.user;return a.profileImage=t.payload.profileImage,Object(He.a)(Object(He.a)({},e),{},{user:a});case"SOCKET_INIT":return Object(He.a)(Object(He.a)({},e),{},{socket:t.payload});default:return e}},ya={allPosts:[],timeLinePosts:[],hasMorePosts:!0},Na=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ya,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_FEED":var a=Object(Ee.a)(e.allPosts),n=t.payload,r=n.data,i=n.hasMorePosts;return Object(He.a)(Object(He.a)({},e),{},{allPosts:a.concat(r),hasMorePosts:i});case"SUBMIT_POST":return Object(He.a)(Object(He.a)({},e),{},{allPosts:[t.payload].concat(Object(Ee.a)(e.allPosts))});case"GET_TIMELINE_FEED":return Object(He.a)(Object(He.a)({},e),{},{timeLinePosts:t.payload});case"CREATE_COMMENT":var o=Object(Ee.a)(e.allPosts),l=t.payload;return o.find((function(e){e._id===l.post&&e.comments.push(l)})),Object(He.a)(Object(He.a)({},e),{},{allPosts:o});case"LIKE_COMMENT":var c=Object(Ee.a)(e.allPosts);return c.find((function(e){e._id===t.payload._id&&(e.like=Object(Ee.a)(t.payload.like))})),Object(He.a)(Object(He.a)({},e),{},{allPosts:c});case"CLEAR_POSTS":return Object(He.a)(Object(He.a)({},e),{},{allPosts:t.payload});default:return e}},Oa={timeLineUser:[],friends:[],socket:null},Ia=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TIMELINE_USER":return Object(He.a)(Object(He.a)({},e),{},{timeLineUser:t.payload});case"GET_FRIENDS":return Object(He.a)(Object(He.a)({},e),{},{friends:t.payload});case"SOCKET_CONNECT":return Object(He.a)(Object(He.a)({},e),{},{socket:t.payload});default:return e}},ja={},wa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ja,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return t.payload;case"CLEAR_ERRORS":return{};default:return e}},Ca=[xa.a],Sa=Object(Ea.c)({auth:ka,post:Na,profile:Ia,error:wa}),Ta=Object(Ea.e)(Sa,{},Object(Ea.d)(Ea.a.apply(void 0,Ca)));if(localStorage.getItem("token")){var Ba=localStorage.getItem("token");try{var Fa=k.a.verify(Ba.substring(7),"secret");Ta.dispatch(I(Fa)),Ta.dispatch(j())}catch(Ra){Ta.dispatch(w()),window.location.href="/auth"}}var Pa=r.a.createElement(b.a,{store:Ta},r.a.createElement(ba,null));o.a.render(Pa,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[324,1,2]]]);
//# sourceMappingURL=main.9df76d9c.chunk.js.map