{"version":3,"sources":["setAuthToken.js","actions/authActions.js","actions/Types.js","components/auth/Login.js","components/auth/SuccessDialog.js","components/auth/Signup.js","components/auth/Auth.js","utils/PrivateRoute.js","common/SearchBox.js","common/Navigation.js","actions/profileActions.js","actions/postActions.js","components/timeline/about/UserAbout.js","components/posts/TagFriends.js","components/posts/CreatePost.js","common/constants/constant.js","components/posts/comments/CreateComment.js","components/posts/comments/Comments.js","common/PostActions.js","common/PostActionResult.js","components/timeline/photos/Photo.js","components/timeline/photos/PhotoGrid.js","components/timeline/friends/FriendGrid.js","components/posts/SinglePost.js","components/timeline/TimeLine.js","components/timeline/About.js","components/timeline/Friends.js","components/timeline/Photos.js","components/timeline/TimeLineContainer.js","components/chat/ChatBox.js","components/chat/UserList.js","components/timeline/TimeLinePage.js","components/posts/comments/CommentContainer.js","common/PresentationLoader.js","components/posts/Feed.js","common/ErrorBoundary.js","components/posts/DashBoard.js","components/HomePage.js","App.js","serviceWorker.js","reducers/authReducer.js","reducers/postReducer.js","reducers/profileReducer.js","reducers/errorReducer.js","index.js"],"names":["setAuthToken","token","axios","defaults","headers","common","withCredentials","setCurrentUser","decodedToken","type","payload","socketInit","io","logout","dispatch","localStorage","removeItem","useStyles","makeStyles","theme","topNavBar","backgroundColor","backgroundImage","borderBottom","minHeight","position","zIndex","menuBarContainer","height","minWidth","loginNav","display","margin","width","floatLeft","float","clip","left","whiteSpace","color","fontSize","floatRight","paddingTop","inputText","borderColor","padding","loginButton","background","borderRadius","cursor","fontWeight","lineHeight","border","marginTop","textAlign","textDecoration","textShadow","verticalAlign","cssOutlinedInput","cssFocused","textInput","connect","state","auth","error","login","userLogin","post","then","result","data","setItem","jwt","verify","substring","catch","err","errors","Array","isArray","response","map","er","nestedErrors","param","msg","withRouter","props","useState","contactInfo","setContactInfo","password","setPassword","classes","useEffect","isAuthenticated","history","replace","className","Input","disabled","value","message","disableUnderline","inputProps","style","TextField","variant","placeholder","helperText","onChange","e","target","InputProps","root","focused","input","name","htmlFor","onClick","preventDefault","SuccessDialog","open","signupResponse","onClose","handleClose","Dialog","aria-labelledby","DialogTitle","id","DialogActions","Button","autoFocus","contentClearFix","outline","gradient","signupContent","leftContent","marginRight","leftContentText","wordSpacing","right","rightContent","maxWidth","rightContentText","fullNameContainer","notchedOutline","borderWidth","dayOfDOB","birthdayText","marginBottom","genderText","gender","boxSizing","signupButton","Signup","firstName","setFirstName","lastName","setLastName","setDayOfDOB","monthOfDOB","setMonthOfDOB","yearOfDOB","setYearOfDOB","setGender","setErrors","modalOpen","setModalOpen","setSignupResponse","days","from","x","index","years","Date","now","getFullYear","clearFields","src","alt","registrationContainer","label","textField","fullWidth","birthday","day","key","month","year","newUser","dob","length","render","component","to","dropDown","dropDownContent","inputRoot","fade","palette","black","inputInput","spacing","transition","transitions","create","breakpoints","up","searchOn","setSearchOn","friends","setFriends","searchedFriends","search","pathname","userName","postData","searchText","console","log","onFocus","Navigation","handleFriendNotificationPopper","event","userId","anchorFriend","setState","currentTarget","friendRequests","confirmFriend","tlUserId","user","anchorEl","mobileMoreAnchorEl","nextProps","this","split","openFriend","Boolean","isMenuOpen","isMobileMenuOpen","handleProfileMenuOpen","handleMobileMenuClose","handleMenuClose","menuId","renderMenu","Menu","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","MenuItem","renderMobileMenu","push","ListItemAvatar","Avatar","onError","profileImage","ListItemText","primary","IconButton","aria-label","Badge","badgeContent","aria-controls","aria-haspopup","grow","AppBar","headerBar","Toolbar","appBar","Typography","title","noWrap","searchIcon","sectionDesktop","Popper","popperElement","placement","disablePortal","modifiers","flip","enabled","Paper","popperContent","arrowFriend","friend","Fragment","_id","friendInfo","typography","confirmButton","declineFriend","declineButton","divider","edge","sectionMobile","Component","withStyles","flexGrow","menuButton","shape","white","marginLeft","pointerEvents","alignItems","justifyContent","content","bottom","borderStyle","overflow","transform","setTimeLineUser","authUserName","get","resultData","timeLineUser","authUser","userPosts","posts","userPost","createdBy","friendsPosts","filter","friendPost","flat","allPosts","hasMorePosts","status","getFeed","start","count","likePost","postId","clearAllPosts","userInfo","header","addBio","opacity","infoDetails","listStyleType","createBio","bioInput","bioButtons","button","titleBar","aboutAvatar","inline","UserAbout","React","bioClicked","setBioClicked","List","ListItem","multiline","Divider","tag","with","container","paper","chip","flexWrap","DownshiftMultiple","inputValue","setInputValue","selectedItem","setSelectedItem","friendSuggestions","setFriendSuggestions","handleKeyDown","slice","handleDelete","item","newSelectedItem","splice","indexOf","selected","getInputProps","getItemProps","getLabelProps","isOpen","inputValue2","selectedItem2","highlightedIndex","onKeyDown","onBlur","ref","other","inputRef","renderInput","InputLabelProps","startAdornment","Chip","tabIndex","onDelete","searchFriends","handleInputChange","square","showEmpty","trim","toLowerCase","inputLength","suggestion","keep","getSuggestions","suggestionProps","itemProps","isHighlighted","isSelected","renderSuggestion","taggedFriends","postHeader","footer","postButton","postIcon","card","media_image","backgroundPosition","media_video","imagePreviewBox","overflowX","imageBox","maxHeight","uploadImageBox","firstDivider","secondDivider","emojiPicker","submitPost","newPost","postText","setPostText","postFiles","setPostFiles","imagePreview","setImagePreview","videoPreview","setVideoPreview","imageName","setImageName","uploadedImages","setUploadedImages","uploadedVideos","setUploadedVideos","tagFriends","setTagFriends","setTaggedFriends","showEmoji","setShowEmoji","onImageChange","file","files","reader","fileType","fileArr","includes","FileReader","readAsDataURL","onloadend","imageDetails","imageSrc","updatedImages","unshift","videoDetails","videoSrc","updatedVideos","Card","CardMedia","image","controls","selectedFriends","video","Icon","icon","onSelect","emoji","native","text","onEmojiClick","taggedFIds","tFriend","formData","FormData","append","fileStorageFolder","postFile","JSON","stringify","commentSection","commentBox","onCreateComment","createComment","commentText","setCommentText","onKeyPress","handleCommentText","wordBreak","messageBody","actionsList","Comments","comment","PostActions","actionItems","actionIcons","takeAction","handleLike","checkUserLike","PostActionResult","actionsResultItem","likeResultIcon","like","imageHolder","list","aboutImage","actionsResult","setOpen","setImage","setUserName","openPhoto","isImage","onclose","find","l","comments","photoGrid","pictureGrid","gridList","photoAvatar","green","PhotoGrid","setIsImage","setOpenPhoto","setImageDetails","picturePost","images","imageUrl","videoPost","videos","videoUrl","GridList","cellHeight","cols","GridListTile","friendGrid","friendAvatar","pink","FriendGrid","GridListTileBar","postDescription","arrowTag","SinglePost","anchorE1","setAnchorE1","tags","tagsCount","otherTags","getFileData","featured","imageUrls","videoUrls","openTag","href","preventOverflow","boundariesElement","oTag","rows","imagePost","imageId","picPost","onPhotoClick","videoId","vidPost","onVideoClick","TimeLine","profile","pageDetails","Grid","xs","userAbout","RightContent","CreatePost","postItems","timeline","timeLineCover","coverPhoto","boxShadow","profilePicture","uploadPhotoDiv","updatePhoto","borderBottomLeftRadius","borderBottomRightRadius","uploadImageInput","timeLineNav","paddingLeft","navList","borderLeft","listItem","borderRight","totalFriends","actionContainer","interactingActions","otherActions","arrowFollow","About","about","aboutHeader","headerContent","personIcon","Friends","friendList","friendDetails","friendWrapper","friendStatusWrapper","friendStatus","friendButton","checkIcon","nameWrapper","friendNameWrapper","friendName","friendsHeader","personsIcon","friendsList","varticalAlign","Photos","photos","photosHeader","cameraIcon","TimeLineContainer","handleFriendPopper","anchorE2","handleFollowPopper","handleMouseOutFriend","handleMouseOutFollow","uploadProfilePhoto","uploadPhoto","isFriend","isFollowing","isUpload","innerHTML","tlFriendStatus","openFollow","onMouseEnter","onMouseLeave","sendFriendRequest","exact","path","ChatBox","scrollToBottom","messagesEndRef","current","scrollIntoView","behaviour","sendMessage","sender","reciever","chatMessage","res","socket","emit","allMessages","createRef","friendId","prevProps","prevState","once","updatedMessages","concat","sortedMessages","sort","a","b","createdAt","chatBoxMain","topBar","close","click","bind","chatBox","chatWindow","msgRight","msgLeft","sendMessageFooter","textBox","flexDirection","overflowY","borderTop","UserList","openModal","closeModal","sideNav","userList","contactsHeader","online","TimeLinePage","match","params","expansion","CommentContainer","commentsInPanel","i","ExpansionPanelSummary","expandIcon","ExpansionPanelDetails","ExpansionPanel","wrapper","wrapperCell","animatedBackground","animationDuration","animationFillMode","animationIterationCount","animationName","animationTimingFunction","textLine","PresentationLoader","Feed","fetchData","Math","ceil","dataLength","next","hasMore","pullDownToRefresh","refreshFunction","loader","ErrorBoundary","hasError","errorInfo","children","DashBoard","HomePage","App","Auth","window","location","hostname","initialState","authReducer","action","Object","entries","constructor","userUpdated","timeLinePosts","postReducer","profileReducer","errorReducer","middleware","thunk","rootReducer","combineReducers","store","createStore","compose","applyMiddleware","getItem","app","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.4e1bddeb.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst setAuthToken=(token)=>{\r\n    if(token){\r\n        axios.defaults.headers.common['Authorization']=token;\r\n        axios.defaults.withCredentials=true;\r\n    }\r\n    else{\r\n        delete axios.defaults.headers.common['Authorization'];\r\n    }\r\n}\r\n\r\nexport default setAuthToken;","import { SET_AUTH_USER, GET_ERRORS, SOCKET_CONNECT_URL,SOCKET_INIT } from './Types';\r\nimport axios from 'axios';\r\nimport jwt from 'jsonwebtoken';\r\nimport setAuthToken from '../setAuthToken';\r\nimport io from 'socket.io-client';\r\n\r\nexport const login = (userLogin) => dispatch => {\r\n   axios.post('login', userLogin)\r\n      .then(result => {\r\n         if (result.data.token) {\r\n            localStorage.setItem('token', result.data.token);\r\n            setAuthToken(result.data.token);\r\n            const decodedToken = jwt.verify(result.data.token.substring(7), 'secret');\r\n            dispatch(setCurrentUser(decodedToken));\r\n            dispatch(socketInit());\r\n         }\r\n      })\r\n      .catch(err => {\r\n         let errors = {}\r\n         if (Array.isArray(err.response.data)) {\r\n            err.response.data.map(er => {\r\n               if (er.nestedErrors) {\r\n                  errors[er.nestedErrors[0].param] = er.msg;\r\n               }\r\n               else {\r\n                  errors[er.param] = er.msg;\r\n               }\r\n            })\r\n         }\r\n         else {\r\n            errors = err.response.data;\r\n         }\r\n         dispatch({\r\n            type: GET_ERRORS,\r\n            payload: errors\r\n         })\r\n      })\r\n}\r\n\r\nexport const setCurrentUser = (decodedToken) => {\r\n   return {\r\n      type: SET_AUTH_USER,\r\n      payload: decodedToken\r\n   }\r\n}\r\n\r\nexport const socketInit = () => {\r\n   return {\r\n      type: SOCKET_INIT,\r\n      payload: io(SOCKET_CONNECT_URL)\r\n   }\r\n}\r\n\r\nexport const logout = () => dispatch => {\r\n   localStorage.removeItem('token');\r\n   setAuthToken(false);\r\n   dispatch(setCurrentUser({}));\r\n}","// action types\r\nexport const SET_AUTH_USER=\"SET_AUTH_USER\";\r\nexport const SET_PROFILE_IMAGE=\"SET_PROFILE_IMAGE\";\r\nexport const GET_FEED=\"GET_FEED\";\r\nexport const GET_TIMELINE_FEED=\"GET_TIMELINE_FEED\";\r\nexport const SUBMIT_POST=\"SUBMIT_POST\";\r\nexport const CLEAR_POSTS=\"CLEAR_POSTS\";\r\nexport const GET_FRIENDS=\"GET_FRIENDS\";\r\nexport const SET_TIMELINE_USER=\"SET_TIMELINE_USER\";\r\nexport const CREATE_COMMENT=\"CREATE_COMMENT\";\r\nexport const LIKE_COMMENT=\"LIKE_COMMENT\";\r\nexport const GET_ERRORS=\"GET_ERRORS\";\r\nexport const CLEAR_ERRORS=\"CLEAR_ERRORS\";\r\nexport const SOCKET_INIT=\"SOCKET_INIT\";\r\n\r\n\r\n// socket url\r\nexport const SOCKET_CONNECT_URL='/';\r\n\r\n// socket event\r\nexport const SEND_MESSAGE=\"SEND_MESSAGE\";\r\nexport const PRIVATE_CHAT_MESSAGE=\"PRIVATE_CHAT_MESSAGE\";\r\n","import React, { useState, useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { connect } from 'react-redux';\r\nimport { login } from '../../actions/authActions';\r\nimport { withRouter } from 'react-router-dom';\r\nimport Input from '@material-ui/core/Input';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    topNavBar: {\r\n        backgroundColor: '#3b5998',\r\n        backgroundImage: 'linear-gradient(#4e69a2, #3b5998 50%)',\r\n        borderBottom: '1px solid #133783',\r\n        minHeight: '42px',\r\n        position: 'relative',\r\n        zIndex: 1,\r\n    },\r\n    menuBarContainer: {\r\n        height: '82px',\r\n        minWidth: '1100px',\r\n    },\r\n    loginNav: {\r\n        display: 'block',\r\n        margin: '0 auto',\r\n        width: '1100px',\r\n    },\r\n    floatLeft: {\r\n        float: 'left',\r\n        \"& h1\": {\r\n            clip: 'rect(1px, 1px, 1px, 1px)',\r\n            height: '1px',\r\n            left: 'auto',\r\n            whiteSpace: 'nowrap',\r\n            width: '1px',\r\n            color: '#fff',\r\n            fontSize:'36px'\r\n        }\r\n    },\r\n    floatRight: {\r\n        float: 'right',\r\n        paddingTop:'13px'\r\n    },\r\n    inputText: {\r\n        borderColor: '#1d2a5b',\r\n        margin: 0,\r\n        width: '180px',\r\n        padding:'4px 8px',\r\n        \"& input\": {\r\n            padding: '12px 10px'\r\n        }\r\n    },\r\n    loginButton: {\r\n        background: '#4267b2',\r\n        borderColor: '#29487d',\r\n        borderRadius: '2px',\r\n        cursor: 'pointer',\r\n        display: 'inline-block',\r\n        fontSize: '12px',\r\n        fontWeight: 'bold',\r\n        lineHeight: '18px',\r\n        border: '1px solid #ccd0d5',\r\n        padding: '4px 8px',\r\n        marginTop:'2px',\r\n        textAlign: 'center',\r\n        textDecoration: 'none',\r\n        textShadow: 'none',\r\n        verticalAlign: 'top',\r\n        whiteSpace: 'nowrap',\r\n        \"& input\": {\r\n            background: 'none',\r\n            border: 0,\r\n            cursor: 'pointer',\r\n            color: '#fff',\r\n            display: 'inline-block',\r\n            fontWeight: 'bold',\r\n            lineHeight: '18px',\r\n            marginTop: 0,\r\n            padding: 0,\r\n            whiteSpace: 'nowrap'\r\n        },\r\n        \"&:hover\":{\r\n            backgroundColor: '#365899',\r\n            borderColor: '#29487d',\r\n            textDecoration:'none'\r\n        }\r\n    },\r\n    cssOutlinedInput: {\r\n        '&$cssFocused $notchedOutline': {\r\n            borderColor: '#000 !important'\r\n        }\r\n    },\r\n    cssFocused: {\r\n        color: ''\r\n    },\r\n    textInput: {\r\n        height: 1,\r\n        background: '#fff'\r\n    }\r\n})\r\n)\r\n\r\nfunction Login(props) {\r\n\r\n    const [contactInfo, setContactInfo] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    const classes = useStyles();\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        const userLogin = {\r\n            contactInfo: contactInfo,\r\n            password: password\r\n        }\r\n        props.login(userLogin);\r\n    }\r\n\r\n    useEffect(() => {\r\n        const { isAuthenticated } = props.auth;\r\n        if (isAuthenticated) {\r\n            props.history.replace('/');\r\n        }\r\n        else {\r\n            props.history.replace('/auth');\r\n        }\r\n    }, [props.auth.isAuthenticated])\r\n\r\n    return (\r\n        <div className={classes.topNavBar}>\r\n            <div className={classes.menuBarContainer}>\r\n                <div className={classes.loginNav}>\r\n                    <div className={classes.floatLeft}>\r\n                        <h1>\r\n                            SocialConnect\r\n                        </h1>\r\n                    </div>\r\n                    <div className={classes.floatRight}>\r\n                        <Input\r\n                            disabled={true}\r\n                            color='#fff'\r\n                            error={props.error !== null}\r\n                            value={props.error.message || ''}\r\n                            disableUnderline={true}\r\n                            inputProps={{\r\n                                style:{color:'red'}\r\n                            }} />\r\n\r\n\r\n                        <TextField\r\n                            className={classes.inputText}\r\n                            margin=\"normal\"\r\n                            variant=\"outlined\"\r\n                            placeholder=\"Email or Phone\"\r\n                            error={props.error.contactInfo ? true : false}\r\n                            helperText={props.error.contactInfo}\r\n                            onChange={(e) => setContactInfo(e.target.value)}\r\n                            InputProps={{\r\n                                classes: {\r\n                                    root: classes.cssOutlinedInput,\r\n                                    focused: classes.cssFocused,\r\n                                    input: classes.textInput\r\n                                }\r\n                            }}\r\n                            type=\"email\" name=\"email\" />\r\n\r\n\r\n                        <TextField\r\n                            className={classes.inputText}\r\n                            margin=\"normal\"\r\n                            variant=\"outlined\"\r\n                            placeholder=\"Password\"\r\n                            error={props.error.password ? true : false}\r\n                            helperText={props.error.password}\r\n                            onChange={(e) => setPassword(e.target.value)}\r\n                            InputProps={{\r\n                                classes: {\r\n                                    root: classes.cssOutlinedInput,\r\n                                    focused: classes.cssFocused,\r\n                                    input: classes.textInput\r\n                                }\r\n                            }}\r\n                            type=\"password\" name=\"password\" />\r\n\r\n\r\n                        <label htmlFor=\"login\" className={classes.loginButton}>\r\n                            <input type=\"submit\"\r\n                                onClick={handleSubmit}\r\n                                value=\"Log In\"\r\n                            />\r\n                        </label>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth,\r\n    error: state.error\r\n})\r\n\r\nexport default connect(mapStateToProps, { login })(withRouter(Login));","import React from \"react\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nfunction SuccessDialog({ open, signupResponse, onClose }) {\r\n  const handleClose = () => {\r\n    onClose(false);\r\n  };\r\n  return (\r\n    <Dialog\r\n      onClose={handleClose}\r\n      aria-labelledby=\"simple-dialog-title\"\r\n      open={open}\r\n    >\r\n      <DialogTitle id=\"simple-dialog-title\">{signupResponse}</DialogTitle>\r\n      <DialogActions>\r\n        <Button autoFocus onClick={handleClose} color=\"primary\">\r\n          Ok\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nexport default SuccessDialog;\r\n","import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport SuccessDialog from \"./SuccessDialog\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  contentClearFix: {\r\n    margin: 0,\r\n    outline: \"none\",\r\n    padding: 0,\r\n    width: \"auto\",\r\n  },\r\n  gradient: {\r\n    backgroundImage: \"linear-gradient(white, #D3D8E8)\",\r\n    minWidth: \"980px\",\r\n  },\r\n  signupContent: {\r\n    display: \"block\",\r\n    margin: \"0 auto\",\r\n    width: \"980px\",\r\n  },\r\n  left: {\r\n    float: \"left\",\r\n  },\r\n  leftContent: {\r\n    marginRight: \"15px\",\r\n    width: \"565\",\r\n    \"& img\": {\r\n      width: \"537px\",\r\n      height: \"195px\",\r\n    },\r\n  },\r\n  leftContentText: {\r\n    color: \"#0e385f\",\r\n    fontSize: \"20px\",\r\n    fontWeight: \"bold\",\r\n    lineHeight: \"29px\",\r\n    marginTop: \"40px\",\r\n    width: \"450px\",\r\n    wordSpacing: \"-1px\",\r\n  },\r\n\r\n  right: {\r\n    float: \"right\",\r\n  },\r\n  rightContent: {\r\n    maxWidth: \"400px\",\r\n  },\r\n  rightContentText: {\r\n    padding: \"20px 0\",\r\n    \"& span\": {\r\n      fontSize: \"36px\",\r\n      fontWeight: 600,\r\n    },\r\n  },\r\n  fullNameContainer: {\r\n    display: \"flex\",\r\n  },\r\n  cssOutlinedInput: {\r\n    \"&$cssFocused $notchedOutline\": {\r\n      borderColor: \"#000 !important\",\r\n    },\r\n  },\r\n  notchedOutline: {\r\n    borderWidth: \"1px\",\r\n  },\r\n  cssFocused: {\r\n    color: \"\",\r\n  },\r\n  dayOfDOB: {\r\n    padding: \"5px\",\r\n    height: \"30px\",\r\n    border: \"1px solid #ccd0d5\",\r\n    \"& option\": {\r\n      whiteSpace: \"pre\",\r\n      minHeight: \"1.2em\",\r\n      padding: \"0px 2px 1px\",\r\n    },\r\n  },\r\n  birthdayText: {\r\n    color: \"#90949c\",\r\n    fontSize: \"18px\",\r\n    fontWeight: \"bold\",\r\n    marginTop: \"10px\",\r\n    marginBottom: \"5px\",\r\n  },\r\n  genderText: {\r\n    color: \"#90949c\",\r\n    fontSize: \"18px\",\r\n    fontWeight: \"bold\",\r\n    marginTop: \"10px\",\r\n    marginBottom: \"5px\",\r\n  },\r\n  gender: {\r\n    \"& span\": {\r\n      borderRadius: \"4px\",\r\n      borderWidth: \"1px\",\r\n      display: \"inline-block\",\r\n      padding: \"5px 0 5px 4px\",\r\n    },\r\n    \"& input[type='radio']\": {\r\n      margin: \"3px 3px 0px 5px\",\r\n      boxSizing: \"border-box\",\r\n      padding: \"initial\",\r\n      border: \"initial\",\r\n    },\r\n  },\r\n  signupButton: {\r\n    marginTop: \"5px\",\r\n    padding: \"12px 48px\",\r\n    width: \"50%\",\r\n    background:\r\n      \"linear-gradient(to right , rgba(19, 54, 131,.9),rgba(19, 54, 131,.9))\",\r\n    color: \"#fff\",\r\n  },\r\n}));\r\n\r\nexport default function Signup() {\r\n  const classes = useStyles();\r\n\r\n  const [firstName, setFirstName] = useState(\"\");\r\n  const [lastName, setLastName] = useState(\"\");\r\n  const [contactInfo, setContactInfo] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [dayOfDOB, setDayOfDOB] = useState(\"\");\r\n  const [monthOfDOB, setMonthOfDOB] = useState(\"\");\r\n  const [yearOfDOB, setYearOfDOB] = useState(\"\");\r\n  const [gender, setGender] = useState(\"\");\r\n  const [errors, setErrors] = useState({});\r\n  const [modalOpen, setModalOpen] = useState(false);\r\n  const [signupResponse, setSignupResponse] = useState(\"\");\r\n\r\n  const days = Array.from(Array(31), (x, index) => index + 1);\r\n  const months = [\r\n    \"Jan\",\r\n    \"Feb\",\r\n    \"Mar\",\r\n    \"Apr\",\r\n    \"May\",\r\n    \"Jun\",\r\n    \"Jul\",\r\n    \"Aug\",\r\n    \"Sep\",\r\n    \"Oct\",\r\n    \"Nov\",\r\n    \"Dec\",\r\n  ];\r\n  const years = Array.from(\r\n    Array(100),\r\n    (x, index) => new Date(Date.now()).getFullYear() - index\r\n  );\r\n\r\n  const clearFields = () => {\r\n    setFirstName(\"\");\r\n    setLastName(\"\");\r\n    setContactInfo(\"\");\r\n    setPassword(\"\");\r\n    setDayOfDOB(\"\");\r\n    setMonthOfDOB(\"\");\r\n    setYearOfDOB(\"\");\r\n    setGender(\"\");\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setModalOpen(false);\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const newUser = {\r\n      firstName: firstName,\r\n      lastName: lastName,\r\n      contactInfo: contactInfo,\r\n      password: password,\r\n      dob: dayOfDOB + \"/\" + monthOfDOB + \"/\" + yearOfDOB,\r\n      gender: gender,\r\n    };\r\n\r\n    axios\r\n      .post(\"/signup\", newUser)\r\n      .then((result) => {\r\n        clearFields();\r\n        setSignupResponse(result.data.message);\r\n        setModalOpen(true);\r\n      })\r\n      .catch((err) => {\r\n        let errors = {};\r\n        if (err.response.data.message) {\r\n          clearFields();\r\n          setSignupResponse(err.response.data.message);\r\n          setModalOpen(true);\r\n        }\r\n        if (err.response.data.length > 0) {\r\n          err.response.data.map((er) => {\r\n            if (er.nestedErrors) {\r\n              errors[er.nestedErrors[0].param] = er.msg;\r\n            } else {\r\n              errors[er.param] = er.msg;\r\n            }\r\n          });\r\n        }\r\n        setErrors(errors);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className={classes.contentClearFix}>\r\n      <div className={classes.gradient}>\r\n        <div className={classes.signupContent}>\r\n          <div className={classes.left}>\r\n            <div className={classes.leftContent}>\r\n              <div className={classes.leftContentText}>\r\n                SocialConnect helps you connect and share with the people in\r\n                your life.\r\n              </div>\r\n              <img src=\"/images/socialconnect.jpg\" alt=\"\" />\r\n            </div>\r\n          </div>\r\n          <div className={classes.right}>\r\n            <div className={classes.rightContent}>\r\n              <div className={classes.rightContentText}>\r\n                <span>Create an account</span>\r\n              </div>\r\n              <div className={classes.registrationContainer}>\r\n                <div className={classes.fullNameContainer}>\r\n                  <TextField\r\n                    id=\"outlined-with-placeholder\"\r\n                    label=\"First Name\"\r\n                    error={errors.firstName ? true : false}\r\n                    helperText={errors.firstName}\r\n                    placeholder=\"Enter First Name\"\r\n                    className={classes.textField}\r\n                    margin=\"normal\"\r\n                    variant=\"outlined\"\r\n                    name=\"firstName\"\r\n                    InputProps={{\r\n                      classes: {\r\n                        root: classes.cssOutlinedInput,\r\n                        focused: classes.cssFocused,\r\n                        notchedOutline: classes.notchedOutline,\r\n                      },\r\n                    }}\r\n                    onChange={(e) => setFirstName(e.target.value)}\r\n                    value={firstName}\r\n                  />\r\n                  <TextField\r\n                    id=\"outlined-with-placeholder\"\r\n                    label=\"Last Name\"\r\n                    placeholder=\"Enter Last Name\"\r\n                    error={errors.lastName ? true : false}\r\n                    helperText={errors.lastName}\r\n                    className={classes.textField}\r\n                    margin=\"normal\"\r\n                    variant=\"outlined\"\r\n                    name=\"lastName\"\r\n                    InputProps={{\r\n                      classes: {\r\n                        root: classes.cssOutlinedInput,\r\n                        focused: classes.cssFocused,\r\n                        notchedOutline: classes.notchedOutline,\r\n                      },\r\n                    }}\r\n                    onChange={(e) => setLastName(e.target.value)}\r\n                    value={lastName}\r\n                  />\r\n                </div>\r\n                <TextField\r\n                  id=\"outlined-with-placeholder\"\r\n                  label=\"Contact info\"\r\n                  placeholder=\"Mobile number or email address\"\r\n                  error={errors.contactInfo ? true : false}\r\n                  helperText={errors.contactInfo}\r\n                  className={classes.textField}\r\n                  margin=\"normal\"\r\n                  variant=\"outlined\"\r\n                  fullWidth\r\n                  name=\"contactInfo\"\r\n                  InputProps={{\r\n                    classes: {\r\n                      root: classes.cssOutlinedInput,\r\n                      focused: classes.cssFocused,\r\n                      notchedOutline: classes.notchedOutline,\r\n                    },\r\n                  }}\r\n                  onChange={(e) => setContactInfo(e.target.value)}\r\n                  value={contactInfo}\r\n                />\r\n                <TextField\r\n                  id=\"outlined-with-placeholder\"\r\n                  type=\"password\"\r\n                  label=\"Password\"\r\n                  placeholder=\"Enter password\"\r\n                  error={errors.password ? true : false}\r\n                  helperText={errors.password}\r\n                  className={classes.textField}\r\n                  margin=\"normal\"\r\n                  variant=\"outlined\"\r\n                  fullWidth\r\n                  name=\"password\"\r\n                  InputProps={{\r\n                    classes: {\r\n                      root: classes.cssOutlinedInput,\r\n                      focused: classes.cssFocused,\r\n                      notchedOutline: classes.notchedOutline,\r\n                    },\r\n                  }}\r\n                  onChange={(e) => setPassword(e.target.value)}\r\n                  value={password}\r\n                />\r\n\r\n                <div className={classes.birthday}>\r\n                  <div className={classes.birthdayText}>Birthday</div>\r\n                  <select\r\n                    className={classes.dayOfDOB}\r\n                    name=\"dayOfDOB\"\r\n                    id=\"\"\r\n                    onChange={(e) => setDayOfDOB(e.target.value)}\r\n                  >\r\n                    <option value=\"0\">Day</option>\r\n                    {days.map((day, index) => (\r\n                      <option key={index} value={day}>\r\n                        {day}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                  <select\r\n                    className={classes.dayOfDOB}\r\n                    name=\"monthOfDOB\"\r\n                    id=\"\"\r\n                    onChange={(e) => setMonthOfDOB(e.target.value)}\r\n                  >\r\n                    <option value=\"0\">Month</option>\r\n                    {months.map((month, index) => (\r\n                      <option key={index} value={index + 1}>\r\n                        {month}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                  <select\r\n                    className={classes.dayOfDOB}\r\n                    name=\"yearofDOB\"\r\n                    id=\"\"\r\n                    onChange={(e) => setYearOfDOB(e.target.value)}\r\n                  >\r\n                    <option value=\"0\">Year</option>\r\n                    {years.map((year, index) => (\r\n                      <option key={index} value={year}>\r\n                        {year}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n                <div className={classes.gender}>\r\n                  <div className={classes.genderText}>Gender</div>\r\n                  <span>\r\n                    <input\r\n                      type=\"radio\"\r\n                      name=\"gender\"\r\n                      value=\"F\"\r\n                      id=\"femaleradio\"\r\n                      onChange={(e) => setGender(e.target.value)}\r\n                    />\r\n                    <label htmlFor=\"femaleradio\">Female</label>\r\n                  </span>\r\n\r\n                  <span>\r\n                    <input\r\n                      type=\"radio\"\r\n                      name=\"gender\"\r\n                      value=\"M\"\r\n                      id=\"maleradio\"\r\n                      onChange={(e) => setGender(e.target.value)}\r\n                    />\r\n                    <label htmlFor=\"maleradio\">Male</label>\r\n                  </span>\r\n\r\n                  <span>\r\n                    <input\r\n                      type=\"radio\"\r\n                      name=\"gender\"\r\n                      value=\"Ot\"\r\n                      id=\"otherRadio\"\r\n                      onChange={(e) => setGender(e.target.value)}\r\n                    />\r\n                    <label htmlFor=\"femaleradio\">Others</label>\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <Button\r\n              onClick={handleSubmit}\r\n              variant=\"contained\"\r\n              className={classes.signupButton}\r\n            >\r\n              Sign Up\r\n            </Button>\r\n            <SuccessDialog\r\n              open={modalOpen}\r\n              signupResponse={signupResponse}\r\n              onClose={handleClose}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport {withRouter} from 'react-router-dom';\r\nimport Login from './Login';\r\nimport SignUp from './Signup';\r\n\r\nfunction Auth() {\r\n    return (\r\n        <div>\r\n            <Login/>\r\n            <SignUp/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(Auth);\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nconst PrivateRoute = (props)=> (\r\n        <Route\r\n        {...props}\r\n            render={() =>\r\n                props.auth.isAuthenticated ?\r\n                    (props.component) :\r\n                    (<Redirect to=\"/auth\" />)}\r\n        />\r\n    )\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth\r\n})\r\n\r\nexport default connect(mapStateToProps)(PrivateRoute);\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport { fade, makeStyles } from '@material-ui/core/styles';\r\nimport Input from '@material-ui/core/Input';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { connect } from 'react-redux';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    dropDown: {\r\n        position: 'relative',\r\n        display: 'inline-block',\r\n        width: '100%',\r\n        zIndex: 100,\r\n    },\r\n    dropDownContent: {\r\n        position: 'absolute',\r\n        background: 'rgba(255, 255, 255, 0.95)',\r\n        width: '100%',\r\n        \"& a\": {\r\n            color: 'black',\r\n            background: 'rgba(255, 255, 255, 0.95)',\r\n            padding: '12px 16px',\r\n            textDecoration: 'none',\r\n            display: 'block',\r\n            margin: 'auto',\r\n        }\r\n    },\r\n    inputRoot: {\r\n        color: fade(theme.palette.common.black, 1),\r\n    },\r\n    inputInput: {\r\n        padding: theme.spacing(1, 1, 1, 6),\r\n        transition: theme.transitions.create('width'),\r\n        width: '100%',\r\n        [theme.breakpoints.up('md')]: {\r\n            width: 500,\r\n        },\r\n    },\r\n})\r\n);\r\n\r\n\r\nfunction SearchBox(props) {\r\n    const classes = useStyles();\r\n    const [searchOn, setSearchOn] = useState(false);\r\n    const [friends, setFriends] = useState([]);\r\n\r\n    const searchFriends = (e) => {\r\n        const postData = { searchText: e.target.value };\r\n        axios.post('/getallusers', postData)\r\n            .then(result => {\r\n                setFriends(result.data);\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            })\r\n    }\r\n\r\n    let searchedFriends = (friends) ? friends.map((search, index) => (\r\n        <Link onClick={() => setSearchOn(false)} to={{\r\n            pathname: '/' + search.userName\r\n        }} key={index}>\r\n            {search.name}\r\n        </Link>\r\n    )) : null\r\n\r\n\r\n\r\n    return (\r\n        <div className={classes.dropDown}>\r\n            <div>\r\n                <Input\r\n                    classes={{\r\n                        root: classes.inputRoot,\r\n                        input: classes.inputInput\r\n                    }}\r\n                    placeholder='Search...'\r\n                    disableUnderline={true}\r\n                    onChange={searchFriends}\r\n                    onFocus={() => setSearchOn(true)} />\r\n            </div>\r\n            {(searchOn) ? <div className={classes.dropDownContent}>\r\n                {searchedFriends}\r\n            </div>\r\n                : null}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth\r\n})\r\n\r\nexport default connect(mapStateToProps)(withRouter(SearchBox));\r\n","import React, { Component } from 'react';\r\nimport { fade, withStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\nimport MailIcon from '@material-ui/icons/Mail';\r\nimport NotificationsIcon from '@material-ui/icons/Notifications';\r\nimport MoreIcon from '@material-ui/icons/MoreVert';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { logout } from '../actions/authActions';\r\nimport SearchBox from './SearchBox';\r\nimport PersonIcon from '@material-ui/icons/PersonRounded';\r\nimport { Popper, Paper } from '@material-ui/core';\r\nimport axios from 'axios';\r\n\r\nconst useStyles = theme => ({\r\n    grow: {\r\n        flexGrow: 1,\r\n    },\r\n    headerBar: {\r\n        height: '55px'\r\n    },\r\n    appBar: {\r\n        height: '50px'\r\n    },\r\n    menuButton: {\r\n        marginRight: theme.spacing(2),\r\n    },\r\n    title: {\r\n        display: 'none',\r\n        [theme.breakpoints.up('sm')]: {\r\n            display: 'block',\r\n        },\r\n    },\r\n    search: {\r\n        position: 'relative',\r\n        borderRadius: theme.shape.borderRadius,\r\n        backgroundColor: fade(theme.palette.common.white, 0.95),\r\n        '&:hover': {\r\n            backgroundColor: theme.palette.common.white,\r\n        },\r\n        marginRight: theme.spacing(2),\r\n        marginLeft: 0,\r\n        width: '100%',\r\n        [theme.breakpoints.up('xs')]: {\r\n            marginLeft: theme.spacing(3),\r\n            width: '40%',\r\n        },\r\n    },\r\n    searchIcon: {\r\n        width: theme.spacing(7),\r\n        color: fade(theme.palette.common.black, 0.8),\r\n        height: '100%',\r\n        position: 'absolute',\r\n        pointerEvents: 'none',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    },\r\n    inputRoot: {\r\n        color: fade(theme.palette.common.black, 1),\r\n    },\r\n    inputInput: {\r\n        padding: theme.spacing(1, 1, 1, 2),\r\n        transition: theme.transitions.create('width'),\r\n        width: '100%',\r\n        [theme.breakpoints.up('md')]: {\r\n            width: 500,\r\n        },\r\n    },\r\n    sectionDesktop: {\r\n        display: 'none',\r\n        [theme.breakpoints.up('md')]: {\r\n            display: 'flex',\r\n        },\r\n    },\r\n    sectionMobile: {\r\n        display: 'flex',\r\n        [theme.breakpoints.up('md')]: {\r\n            display: 'none',\r\n        },\r\n    },\r\n    arrowFriend: {\r\n        content: \" \",\r\n        position: 'absolute',\r\n        right: '5%',\r\n        bottom: '100%',\r\n        borderWidth: '10px',\r\n        borderStyle: 'solid',\r\n        borderColor: 'transparent transparent white'\r\n    },\r\n    popperElement: {\r\n        zIndex: 50,\r\n        maxWidth: '600px',\r\n        minWidth: '500px',\r\n        overflow:'auto'\r\n    },\r\n    popperContent: {\r\n        transform: 'translate3d(0, 11px, 0px)',\r\n        width: '100%',\r\n        \"& p:hover\": {\r\n            color: '#385898',\r\n            cursor: 'pointer',\r\n            textDecoration: 'underline'\r\n        }\r\n    },\r\n    friendInfo: {\r\n        display: 'flex'\r\n    },\r\n    typography: {\r\n        width:'150px',\r\n        \"& p\": {\r\n            textAlign:'left',\r\n            padding: '8px 16px 4px 22px',\r\n            fontSize: '14px',\r\n        }\r\n    },\r\n    confirmButton: {\r\n        width: theme.spacing(3),\r\n        marginTop: theme.spacing(1),\r\n        marginLeft: '15%',\r\n        fontSize: '12px',\r\n        fontWeight: 'bold',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        textAlign: 'center',\r\n        background: '#385898',\r\n        color: '#fff',\r\n        padding: '8px 32px 4px 16px'\r\n    },\r\n    declineButton: {\r\n        marginTop: theme.spacing(1),\r\n        marginLeft: theme.spacing(1),\r\n        fontSize: '12px',\r\n        fontWeight: 'bold',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        textAlign: 'center',\r\n        background: '#e9eaed',\r\n        color: '#000',\r\n        padding: '8px 16px 4px 16px'\r\n    }\r\n});\r\n\r\n\r\nclass Navigation extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            anchorEl: null,\r\n            mobileMoreAnchorEl: null,\r\n            userName: '',\r\n            anchorFriend: null,\r\n            friendRequests: []\r\n        }\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        if (this.props.auth.isAuthenticated != nextProps.auth.isAuthenticated) {\r\n            if (!nextProps.auth.isAuthenticated) {\r\n                this.props.history.replace('/auth');\r\n            }\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { isAuthenticated, user } = this.props.auth;\r\n        if (!isAuthenticated) {\r\n            this.props.history.replace('/auth');\r\n        }\r\n        else {\r\n            this.setState({ userName: user.name.split(\" \")[0] });\r\n            axios.post('/getfriendrequests', {\r\n                userId: user.id\r\n            })\r\n                .then(result => {\r\n                    this.setState({\r\n                        friendRequests: result.data\r\n                    })\r\n                })\r\n                .catch(err => {\r\n                })\r\n        }\r\n    }\r\n\r\n\r\n    handleFriendNotificationPopper = (event, userId) => {\r\n        event.preventDefault();\r\n        if (this.state.anchorFriend) {\r\n            this.setState({\r\n                anchorFriend: null\r\n            })\r\n        }\r\n        else {\r\n            this.setState({\r\n                anchorFriend: event.currentTarget,\r\n            });\r\n            axios.post('/getfriendrequests', {\r\n                userId: userId\r\n            })\r\n                .then(result => {\r\n                    this.setState({\r\n                        friendRequests: result.data\r\n                    })\r\n                })\r\n                .catch(err => {\r\n                    console.log(err);\r\n                })\r\n        }\r\n    }\r\n\r\n    confirmFriend=(event,tlUserId)=>{\r\n        event.preventDefault();\r\n        const {user} = this.props.auth;\r\n        axios.post('/acceptfriend',{\r\n            userId:user.id,\r\n            tlUserId:tlUserId\r\n        })\r\n        .then(result=>{\r\n            console.log(result)\r\n        })\r\n        .catch(err=>{\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n        const { user } = this.props.auth;\r\n        var openFriend = Boolean(this.state.anchorFriend);\r\n\r\n        const isMenuOpen = Boolean(this.state.anchorEl);\r\n        const isMobileMenuOpen = Boolean(this.state.mobileMoreAnchorEl);\r\n\r\n        const handleProfileMenuOpen = (event) => {\r\n            this.setState({ anchorEl: event.currentTarget });\r\n        }\r\n\r\n        const handleMobileMenuClose = () => {\r\n            this.setState({ mobileMoreAnchorEl: null })\r\n        }\r\n\r\n        const handleMenuClose = () => {\r\n            this.setState({ anchorEl: null });\r\n            handleMobileMenuClose();\r\n        }\r\n\r\n        const handleLogout = (e) => {\r\n            e.preventDefault();\r\n            this.props.logout();\r\n        }\r\n\r\n        const handleMobileMenuOpen = (event) => {\r\n            this.setState({ mobileMoreAnchorEl: event.currentTarget });\r\n        }\r\n\r\n        const { friendRequests } = this.state;\r\n\r\n\r\n        const menuId = 'primary-search-account-menu';\r\n        const renderMenu = (\r\n            <Menu\r\n                anchorEl={this.state.anchorEl}\r\n                anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n                id={menuId}\r\n                keepMounted\r\n                transformOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n                open={isMenuOpen}\r\n                onClose={handleMenuClose}\r\n            >\r\n                <MenuItem onClick={handleMenuClose}>Profile</MenuItem>\r\n                <MenuItem onClick={handleMenuClose}>My account</MenuItem>\r\n                <MenuItem onClick={handleLogout}>Logout</MenuItem>\r\n            </Menu>\r\n        );\r\n\r\n        const mobileMenuId = 'primary-search-account-menu-mobile';\r\n        const renderMobileMenu = (\r\n            <Menu\r\n                anchorEl={this.state.mobileMoreAnchorEl}\r\n                anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n                id={mobileMenuId}\r\n                keepMounted\r\n                transformOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n                open={isMobileMenuOpen}\r\n                onClose={handleMobileMenuClose}\r\n            >\r\n                <MenuItem onClick={() => this.props.history.push({\r\n                    pathname: '/' + user.userName,\r\n                    state: {\r\n                        user: user\r\n                    }\r\n                })}>\r\n                    <ListItemAvatar>\r\n                        <Avatar onError={(e) => { e.target.src = 'images/404.png' }} src={(user.profileImage)?user.profileImage:'images/blank.png'} />\r\n                    </ListItemAvatar>\r\n                    <ListItemText primary={this.state.userName} />\r\n                </MenuItem>\r\n                <MenuItem onClick={() => this.props.history.push('/')}>\r\n                    <IconButton aria-label=\"Show 4 new mails\" color=\"inherit\">\r\n                        <HomeIcon />\r\n                    </IconButton>\r\n                    <p>Home</p>\r\n                </MenuItem>\r\n                <MenuItem>\r\n                    <IconButton aria-label=\"Show friend requests\" color=\"inherit\">\r\n                        <Badge badgeContent={10} color=\"secondary\">\r\n                            <PersonIcon />\r\n                        </Badge>\r\n                    </IconButton>\r\n                    <p>Friend Requests</p>\r\n                </MenuItem>\r\n                <MenuItem>\r\n                    <IconButton aria-label=\"Show new mails\" color=\"inherit\">\r\n                        <Badge badgeContent={4} color=\"secondary\">\r\n                            <MailIcon />\r\n                        </Badge>\r\n                    </IconButton>\r\n                    <p>Messages</p>\r\n                </MenuItem>\r\n                <MenuItem>\r\n                    <IconButton aria-label=\"Show new notifications\" color=\"inherit\">\r\n                        <Badge badgeContent={11} color=\"secondary\">\r\n                            <NotificationsIcon />\r\n                        </Badge>\r\n                    </IconButton>\r\n                    <p>Notifications</p>\r\n                </MenuItem>\r\n                <MenuItem onClick={handleProfileMenuOpen}>\r\n                    <IconButton\r\n                        aria-label=\"Account of current user\"\r\n                        aria-controls=\"primary-search-account-menu\"\r\n                        aria-haspopup=\"true\"\r\n                        color=\"inherit\"\r\n                    >\r\n                        <AccountCircle />\r\n                    </IconButton>\r\n                    <p>Profile</p>\r\n                </MenuItem>\r\n            </Menu>\r\n        );\r\n\r\n        return (\r\n            <div className={classes.grow}>\r\n                <AppBar className={classes.headerBar} position=\"fixed\">\r\n                    <Toolbar className={classes.appBar} style={{minHeight:'50px'}}>\r\n                        <Typography className={classes.title} variant=\"h6\" noWrap>\r\n                            SocialConnect\r\n                            </Typography>\r\n                        <div className={classes.search}>\r\n                            <div className={classes.searchIcon}>\r\n                                <SearchIcon />\r\n                            </div>\r\n                            <SearchBox />\r\n                        </div>\r\n                        <div className={classes.sectionDesktop}>\r\n                            <MenuItem onClick={() => this.props.history.push({\r\n                                pathname: '/' + user.userName,\r\n                                state: {\r\n                                    user: user\r\n                                }\r\n                            })}>\r\n                                <ListItemAvatar>\r\n                                    <Avatar onError={(e) => { e.target.src='images/404.png' }} src={(user.profileImage)? user.profileImage:'images/blank.png'} />\r\n                                </ListItemAvatar>\r\n                                <ListItemText primary={this.state.userName} />\r\n                            </MenuItem>\r\n                            <MenuItem onClick={() => this.props.history.push('/')}>\r\n                                <IconButton aria-label=\"Show 4 new mails\" color=\"inherit\">\r\n                                    <HomeIcon />\r\n                                </IconButton>\r\n                                <p>Home</p>\r\n                            </MenuItem>\r\n\r\n                            <IconButton onClick={(e) => this.handleFriendNotificationPopper(e, user.id)} aria-label=\"Show friend requests\" color=\"inherit\">\r\n                                <Badge badgeContent={friendRequests.length} color=\"secondary\">\r\n                                    <PersonIcon />\r\n                                </Badge>\r\n\r\n\r\n                                {(friendRequests) ?\r\n                                    <Popper className={classes.popperElement}\r\n                                        anchorEl={this.state.anchorFriend}\r\n                                        open={openFriend}\r\n                                        placement='bottom-end'\r\n                                        disablePortal={true}\r\n                                        modifiers={\r\n                                            {\r\n                                                flip: {\r\n                                                    enabled: false,\r\n                                                },\r\n                                                // preventOverflow: {\r\n                                                //     enabled: false,\r\n                                                //     boundariesElement: 'scrollParent',\r\n                                                // },\r\n                                            }\r\n                                        } >\r\n                                        <Paper className={classes.popperContent} >\r\n                                            <div className={classes.arrowFriend} > </div>\r\n                                            {friendRequests.map(friend => (\r\n                                                <React.Fragment key={friend.user._id}>\r\n                                                    <div className={classes.friendInfo} >\r\n                                                        <ListItemAvatar>\r\n                                                            <Avatar onError={(e) => { e.target.src='images/404.png' }} alt=\"Remy Sharp\" src={(friend.user.profileImage) ? friend.user.profileImage : 'images/blank.png'} />\r\n                                                        </ListItemAvatar>\r\n                                                        <div className={classes.typography}>\r\n                                                            <Typography > {friend.user.name} </Typography>\r\n                                                        </div>\r\n                                                        <a onClick={(e)=>this.confirmFriend(e,friend.user._id)} className={classes.confirmButton}>\r\n                                                            Confirm\r\n                                                        </a>\r\n                                                        <a onClick={this.declineFriend} className={classes.declineButton}>\r\n                                                            Decline\r\n                                                        </a>\r\n                                                    </div>\r\n                                                    <hr className={classes.divider} />\r\n                                                </React.Fragment>\r\n                                            ))}\r\n                                        </Paper>\r\n                                    </Popper>\r\n                                    : null}\r\n                            </IconButton>\r\n                            <IconButton aria-label=\"Show new mails\" color=\"inherit\">\r\n                                <Badge badgeContent={4} color=\"secondary\">\r\n                                    <MailIcon />\r\n                                </Badge>\r\n                            </IconButton>\r\n                            <IconButton aria-label=\"Show new notifications\" color=\"inherit\">\r\n                                <Badge badgeContent={17} color=\"secondary\">\r\n                                    <NotificationsIcon />\r\n                                </Badge>\r\n                            </IconButton>\r\n                            <IconButton\r\n                                edge=\"end\"\r\n                                aria-label=\"Account of current user\"\r\n                                aria-controls={menuId}\r\n                                aria-haspopup=\"true\"\r\n                                onClick={handleProfileMenuOpen}\r\n                                color=\"inherit\"\r\n                            >\r\n                                <AccountCircle />\r\n                            </IconButton>\r\n\r\n                        </div>\r\n                        <div className={classes.sectionMobile}>\r\n                            <IconButton\r\n                                aria-label=\"Show more\"\r\n                                aria-controls={mobileMenuId}\r\n                                aria-haspopup=\"true\"\r\n                                onClick={handleMobileMenuOpen}\r\n                                color=\"inherit\"\r\n                            >\r\n                                <MoreIcon />\r\n                            </IconButton>\r\n                        </div>\r\n                    </Toolbar>\r\n                </AppBar>\r\n\r\n                {renderMobileMenu}\r\n                {renderMenu}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth\r\n})\r\n\r\nexport default connect(mapStateToProps, { logout })(withStyles(useStyles)(withRouter(Navigation)));\r\n","import { SET_PROFILE_IMAGE, SET_TIMELINE_USER, GET_FEED, GET_FRIENDS, GET_TIMELINE_FEED } from './Types';\r\nimport axios from 'axios';\r\n\r\nexport const uploadPhoto = (formData, userName) => dispatch => {\r\n    axios.post('/uploadphoto', formData)\r\n        .then(result => {\r\n            const timeLineUser = {\r\n                _id: result.data._id,\r\n                name: result.data.name,\r\n                userName: result.data.userName,\r\n                profileImage: result.data.profileImage,\r\n                authUser: (result.data.userName === userName) ? true : false\r\n            }\r\n            dispatch({\r\n                type: SET_PROFILE_IMAGE,\r\n                payload: result.data\r\n            })\r\n            dispatch({\r\n                type: SET_TIMELINE_USER,\r\n                payload: timeLineUser\r\n            })\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        })\r\n}\r\n\r\nexport const setTimeLineUser = (userName, authUserName) => dispatch => {\r\n    axios.get('/getuser/' + userName)\r\n        .then(result => {\r\n            const resultData = result.data[0];\r\n            const timeLineUser = {\r\n                _id: resultData._id,\r\n                name: resultData.name,\r\n                userName: resultData.userName,\r\n                profileImage: resultData.profileImage,\r\n                authUser: (userName === authUserName) ? true : false\r\n            }\r\n            dispatch({\r\n                type: SET_TIMELINE_USER,\r\n                payload: timeLineUser\r\n            });\r\n            const posts = [...resultData.posts];\r\n            const userPosts = posts.map(userPost => {\r\n                userPost.createdBy = {\r\n                    _id: resultData._id,\r\n                    name: resultData.name,\r\n                    profileImage: resultData.profileImage,\r\n                    userName: resultData.userName\r\n                };\r\n                return userPost;\r\n            })\r\n            const friendsWithPosts = resultData.friends.filter(friend => friend.posts.length > 0);\r\n            const friendsPosts = friendsWithPosts.map(friendPost => {\r\n                return friendPost.posts.map(post => {\r\n                    post.createdBy = {\r\n                        _id: friendPost.user._id,\r\n                        name: friendPost.user.name,\r\n                        profileImage: friendPost.user.profileImage,\r\n                        userName: friendPost.user.userName\r\n                    };\r\n                    return post;\r\n                })\r\n            }).flat(1);\r\n            const allPosts = [...userPosts, ...friendsPosts];\r\n            dispatch({\r\n                type: GET_FEED,\r\n                payload: {\r\n                    data: allPosts,\r\n                    hasMorePosts: (result.data.length) ? true : false\r\n                }\r\n            });\r\n\r\n            var friends = resultData.friends.map(friend => {\r\n                if (friend.user)\r\n                    return {\r\n                        _id: friend.user._id,\r\n                        name: friend.user.name,\r\n                        userName: friend.user.userName,\r\n                        profileImage: friend.user.profileImage,\r\n                        status: friend.status\r\n                    }\r\n            });\r\n            friends = (friends[0]) ? friends : [];\r\n\r\n            dispatch({\r\n                type: GET_FRIENDS,\r\n                payload: friends\r\n            })\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n        })\r\n}","import { GET_FEED, SUBMIT_POST, CLEAR_POSTS, CREATE_COMMENT, LIKE_COMMENT } from './Types';\r\nimport axios from 'axios';\r\n\r\n\r\nexport const getFeed = (id, start, count) => dispatch => {\r\n    axios.post('/getfeed', { userId: id, start, count })\r\n        .then(result => {\r\n            dispatch({\r\n                type: GET_FEED,\r\n                payload: {\r\n                    data: result.data,\r\n                    hasMorePosts: (result.data.length) ? true : false\r\n                }\r\n            })\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n        })\r\n}\r\n\r\nexport const submitPost = (newPost) => dispatch => {\r\n    axios.post('/submitpost', newPost)\r\n        .then(result => {\r\n            dispatch({\r\n                type: SUBMIT_POST,\r\n                payload: result.data\r\n            })\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n        })\r\n}\r\n\r\nexport const likePost = (postId, id) => dispatch => {\r\n    axios.post('/likepost', {\r\n        postId: postId,\r\n        userId: id\r\n    })\r\n        .then(result => {\r\n            dispatch({\r\n                type: LIKE_COMMENT,\r\n                payload: result.data\r\n            })\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        })\r\n}\r\n\r\nexport const createComment = (userId, postId, text) => {\r\n    return dispatch => {\r\n        axios.post('/createcomment', {\r\n            userId: userId,\r\n            postId: postId,\r\n            text: text\r\n        })\r\n            .then(result => {\r\n                dispatch({\r\n                    type: CREATE_COMMENT,\r\n                    payload: result.data[0]\r\n                })\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            })\r\n    }\r\n\r\n}\r\n\r\nexport const clearAllPosts = () => dispatch => {\r\n    dispatch({\r\n        type: CLEAR_POSTS,\r\n        payload: []\r\n    })\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Input from '@material-ui/core/Input';\r\nimport Button from '@material-ui/core/Button';\r\nimport SchoolIcon from '@material-ui/icons/School';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Avatar from '@material-ui/core/Avatar';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    userInfo: {\r\n        padding: theme.spacing(3, 2),\r\n    },\r\n    header: {\r\n        textAlign: 'left'\r\n    },\r\n    addBio: {\r\n        marginTop: theme.spacing(1),\r\n        \"& p\": {\r\n            fontSize: '14px',\r\n            opacity: 0.7,\r\n        },\r\n        \"& a\": {\r\n            textDecoration: 'none',\r\n            color: '#385898',\r\n            \"&:hover\": {\r\n                textDecoration: 'underline',\r\n                cursor: 'pointer'\r\n            }\r\n        }\r\n    },\r\n    infoDetails: {\r\n        marginTop: theme.spacing(1),\r\n        \"& ul\": {\r\n            alignItems:'left',\r\n            textAlign:'left',\r\n            listStyleType: 'none',\r\n            transform:'translateX(-10%)',\r\n        },\r\n        \"& ul li a\": {\r\n            color: '#385898',\r\n            \"&:hover\": {\r\n                cursor: 'pointer',\r\n                textDecoration: 'underline'\r\n            }\r\n        }\r\n    },\r\n    createBio: {\r\n        height: theme.spacing(20),\r\n    },\r\n    bioInput: {\r\n        height: theme.spacing(15),\r\n        overflow: 'auto',\r\n        \"&  textarea\": {\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            textAlign: 'center',\r\n        },\r\n    },\r\n    bioButtons: {\r\n        background: '#e9eaed'\r\n    },\r\n    button: {\r\n        margin: theme.spacing(0.5),\r\n        width: theme.spacing(3),\r\n        fontSize: '11px',\r\n        fontWeight: 'bold',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        textAlign: 'center'\r\n    },\r\n    titleBar: {\r\n        \"& ul,& ul li\": {\r\n            margin: 0,\r\n            padding: 0\r\n        },\r\n        \"& ul li span\": {\r\n            fontSize: '20px'\r\n        }\r\n    },\r\n    aboutAvatar: {\r\n        margin: 10,\r\n        color: '#fff',\r\n        background: '#385898'\r\n    },\r\n    inline: {\r\n        display: 'inline',\r\n    },\r\n}));\r\n\r\nexport default function UserAbout() {\r\n    const [bioClicked, setBioClicked] = React.useState(false);\r\n    const classes = useStyles();\r\n    return (\r\n        <div>\r\n            <Paper className={classes.userInfo}>\r\n                <div className={classes.titleBar}>\r\n                    <List>\r\n                        <ListItem>\r\n                            <Avatar className={classes.aboutAvatar}>\r\n                                <InfoIcon />\r\n                            </Avatar>\r\n                            <ListItemText primary=\"About\" />\r\n                        </ListItem>\r\n                    </List>\r\n                </div>\r\n                <div className={classes.addBio}>\r\n\r\n                    {(!bioClicked) ? <div>\r\n                        <Typography component=\"p\">\r\n                            Add a short bio.\r\n                        </Typography>\r\n                        <a onClick={() => setBioClicked(true)}>Add Bio</a>\r\n                    </div> :\r\n                        <div>\r\n                            <Paper className={classes.createBio}>\r\n                                <div>\r\n                                    <div className={classes.bioInput}>\r\n                                        <Input\r\n                                            placeholder=\"Write something about yourself\"\r\n                                            multiline={true}\r\n                                            fullWidth\r\n                                            disableUnderline={true}\r\n                                        />\r\n                                    </div>\r\n                                    <div className={classes.bioButtons}>\r\n                                        <Button variant=\"contained\" className={classes.button} onClick={() => setBioClicked(false)}>Cancel</Button>\r\n                                        <Button variant=\"contained\" className={classes.button} color=\"primary\">Save</Button>\r\n                                    </div>\r\n                                </div>\r\n                            </Paper>\r\n                        </div>\r\n                    }\r\n\r\n                    <Divider />\r\n\r\n                </div>\r\n                <div className={classes.infoDetails}>\r\n                    {/* <List>\r\n                        <ListItem>\r\n                            <SchoolIcon className={classes.schoolIcon} />\r\n                            <ListItemText primary=\"Went to\"> <a>St. Lawrence School</a> </ListItemText>\r\n                        </ListItem>\r\n                    </List> */}\r\n                    <ul>\r\n                        <li><div><SchoolIcon /> Working in <a>Tata Consultancy Services</a></div></li>\r\n                        <li><div><SchoolIcon /> Studied at <a>Shri Ram Murti Smarak College of Enginnering and Technology</a></div></li>\r\n                        <li><div><SchoolIcon /> Went to <a>St. Lawrence School</a></div></li>\r\n                    </ul>\r\n                </div>\r\n            </Paper>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Chip from '@material-ui/core/Chip';\r\nimport Downshift from 'downshift';\r\nimport {connect} from 'react-redux';\r\nimport axios from 'axios';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    tag: {\r\n        display: 'flex',\r\n    },\r\n    with: {\r\n        background: '#e9eaed',\r\n        textAlign:'center',\r\n        padding:'8px 6px 6px 8px'\r\n    },\r\n    container: {\r\n        flexGrow: 1,\r\n        position: 'relative',\r\n    },\r\n    paper: {\r\n        position: 'absolute',\r\n        zIndex: 1,\r\n        marginTop: theme.spacing(1),\r\n        left: 0,\r\n        right: 0,\r\n    },\r\n    chip: {\r\n        margin: theme.spacing(0.5, 0.25),\r\n    },\r\n    inputRoot: {\r\n        flexWrap: 'wrap',\r\n    },\r\n    inputInput: {\r\n        width: 'auto',\r\n        flexGrow: 1,\r\n    },\r\n})\r\n)\r\n\r\nfunction renderInput(inputProps) {\r\n    const { InputProps, classes, ref, ...other } = inputProps;\r\n  \r\n    return (\r\n      <TextField\r\n        InputProps={{\r\n          inputRef: ref,\r\n          classes: {\r\n            root: classes.inputRoot,\r\n            input: classes.inputInput,\r\n          },\r\n          ...InputProps,\r\n        }}\r\n        {...other}\r\n      />\r\n    );\r\n  }\r\n\r\n  function renderSuggestion(suggestionProps) {\r\n    const { suggestion, index, itemProps, highlightedIndex, selectedItem } = suggestionProps;\r\n    const isHighlighted = highlightedIndex === index;\r\n    const isSelected = (selectedItem || '').indexOf(suggestion.user._id) > -1;\r\n  \r\n    return (\r\n      <MenuItem\r\n        {...itemProps}\r\n        key={suggestion.user._id}\r\n        selected={isHighlighted}\r\n        component=\"div\"\r\n        style={{\r\n          fontWeight: isSelected ? 500 : 400,\r\n        }}\r\n        value={suggestion.user._id}\r\n      >\r\n        {suggestion.user.name}\r\n      </MenuItem>\r\n    );\r\n  }\r\n  \r\n  function getSuggestions(value,friendSuggestions, { showEmpty = false } = {}) {\r\n    const inputValue = value.trim().toLowerCase();\r\n    const inputLength = inputValue.length;\r\n    let count = 0;\r\n\r\n  \r\n    return inputLength === 0 && !showEmpty\r\n      ? []\r\n      : friendSuggestions.filter(suggestion => {\r\n          const keep =\r\n            count < 5 && suggestion.user.name.slice(0, inputLength).toLowerCase() === inputValue;\r\n  \r\n          if (keep) {\r\n            count += 1;\r\n          }\r\n  \r\n          return keep;\r\n        });\r\n  }\r\n\r\n  function DownshiftMultiple(props) {\r\n    const { classes } = props;\r\n    const [inputValue, setInputValue] = React.useState('');\r\n    const [selectedItem, setSelectedItem] = React.useState([]);\r\n    const [friendSuggestions,setFriendSuggestions]=React.useState([]);\r\n  \r\n    function handleKeyDown(event) {\r\n      if (selectedItem.length && !inputValue.length && event.key === 'Backspace') {\r\n        setSelectedItem(selectedItem.slice(0, selectedItem.length - 1));\r\n      }\r\n    }\r\n  \r\n    function handleInputChange(event) {\r\n      const {user} = props.auth;\r\n      setInputValue(event.target.value);\r\n      const searchFriends={\r\n        userId:user.id,\r\n        searchText:event.target.value\r\n      };\r\n      axios.post('/getfriends',searchFriends)\r\n      .then(result=>{\r\n        setFriendSuggestions(result.data);\r\n      })\r\n      .catch(err=>{\r\n        console.log(err)\r\n      })\r\n\r\n    }\r\n  \r\n    function handleChange(item) {\r\n      let newSelectedItem = [...selectedItem];\r\n      if (newSelectedItem.indexOf(item.id) === -1) {\r\n        newSelectedItem = [...newSelectedItem, item];\r\n      }\r\n      setInputValue('');\r\n      setSelectedItem(newSelectedItem);\r\n    }\r\n\r\n  \r\n    const handleDelete = item => () => {\r\n      const newSelectedItem = [...selectedItem];\r\n      newSelectedItem.splice(newSelectedItem.indexOf(item.id), 1);\r\n      setSelectedItem(newSelectedItem);\r\n    };\r\n\r\n    props.selected(selectedItem);\r\n  \r\n    return (\r\n      <Downshift\r\n        id=\"downshift-multiple\"\r\n        inputValue={inputValue}\r\n        onChange={handleChange}\r\n        selectedItem={selectedItem}\r\n      >\r\n        {({\r\n          getInputProps,\r\n          getItemProps,\r\n          getLabelProps,\r\n          isOpen,\r\n          inputValue: inputValue2,\r\n          selectedItem: selectedItem2,\r\n          highlightedIndex,\r\n        }) => {\r\n          const { onBlur, onChange, onFocus, ...inputProps } = getInputProps({\r\n            onKeyDown: handleKeyDown,\r\n            placeholder: 'Who are you with?',\r\n          });\r\n  \r\n          return (\r\n            <div className={classes.container}>\r\n              {renderInput({\r\n                fullWidth: true,\r\n                classes,\r\n                InputLabelProps: getLabelProps(),\r\n                InputProps: {\r\n                  startAdornment: selectedItem.map(item => (\r\n                    <Chip\r\n                      key={item.id}\r\n                      tabIndex={-1}\r\n                      label={item.name}\r\n                      className={classes.chip}\r\n                      onDelete={handleDelete(item)}\r\n                    />\r\n                  )),\r\n                  onBlur,\r\n                  onChange: event => {\r\n                    handleInputChange(event);\r\n                    onChange(event);\r\n                  },\r\n                  onFocus,\r\n                },\r\n                inputProps,\r\n              })}\r\n  \r\n              {isOpen ? (\r\n                <Paper className={classes.paper} square>\r\n                  {getSuggestions(inputValue2,friendSuggestions).map((suggestion, index) =>\r\n                    renderSuggestion({\r\n                      suggestion,\r\n                      index,\r\n                      itemProps: getItemProps({ item: {name:suggestion.user.name,id:suggestion.user._id} }),\r\n                      highlightedIndex,\r\n                      selectedItem: selectedItem2,\r\n                    }),\r\n                  )}\r\n                </Paper>\r\n              ) : null}\r\n            </div>\r\n          );\r\n        }}\r\n      </Downshift>\r\n    );\r\n  }\r\n\r\n\r\n\r\n\r\nfunction TagFriends(props) {\r\n    const classes = useStyles();\r\n    return (\r\n        <div className={classes.tag}>\r\n            <div className={classes.with}>\r\n                With\r\n            </div>\r\n            <div>\r\n                <DownshiftMultiple selected={props.taggedFriends} auth={props.auth} classes={classes} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps=state=>({\r\n  auth:state.auth\r\n})\r\n\r\nexport default connect(mapStateToProps)(TagFriends);","import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Input from '@material-ui/core/Input';\r\nimport PostIcon from '@material-ui/icons/LocalPostOffice';\r\nimport Button from '@material-ui/core/Button';\r\nimport Chip from '@material-ui/core/Chip';\r\nimport PhotoCamera from '@material-ui/icons/CloudUpload';\r\nimport PeopleIcon from '@material-ui/icons/PeopleTwoTone';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport PlusIcon from '@material-ui/icons/Add';\r\nimport { Icon } from '@material-ui/core';\r\nimport { connect } from 'react-redux';\r\nimport TagFriends from './TagFriends';\r\nimport { submitPost } from '../../actions/postActions';\r\nimport 'emoji-mart/css/emoji-mart.css';\r\nimport { Picker } from 'emoji-mart';\r\nimport * as constant from '../../common/constants/constant';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        display: 'block',\r\n        width: '80%',\r\n    },\r\n    postHeader: {\r\n        padding: theme.spacing(0, 2),\r\n        height: theme.spacing(4),\r\n        textAlign: 'left',\r\n        background: '#f5f6f7',\r\n        borderRadius: '4px',\r\n        lineHeight: '2rem'\r\n    },\r\n    paper: {\r\n        padding: theme.spacing(3, 2),\r\n        position: 'relative'\r\n    },\r\n    footer: {\r\n        display: 'flex',\r\n        justifyContent: 'space-around'\r\n    },\r\n    chip: {\r\n        marginTop: theme.spacing(2),\r\n        background: '#e9eaed',\r\n        fontWeight: 'bold',\r\n        color: '#385898',\r\n        height: theme.spacing(5),\r\n        transition: '0.5s all',\r\n        \"&:hover\": {\r\n            cursor: 'pointer',\r\n            background: '#c4c5c7',\r\n        }\r\n    },\r\n    postButton: {\r\n        width: '50%',\r\n        marginTop: theme.spacing(2)\r\n    },\r\n    postIcon: {\r\n        marginLeft: theme.spacing(2),\r\n        transition: '0.5s all'\r\n    },\r\n    input: {\r\n        display: 'none',\r\n    },\r\n    card: {\r\n        width: '100%',\r\n    },\r\n    media_image: {\r\n        paddingTop: '56.25%', // 16:9\r\n        backgroundPosition: 'initial'\r\n    },\r\n    media_video: {\r\n        width: 'inherit',\r\n        \"& video\": {\r\n            width: 'inherit'\r\n        }\r\n    },\r\n    imagePreviewBox: {\r\n        display: 'flex',\r\n        width: '100%',\r\n        padding: '8px 8px',\r\n        overflowX: 'auto'\r\n    },\r\n    imageBox: {\r\n        minWidth: '100px',\r\n        minHeight: '100px',\r\n        marginLeft: '10px',\r\n        maxWidth: '100px',\r\n        maxHeight: '100px',\r\n        \"& img\": {\r\n            width: '100%',\r\n            height: '100%'\r\n        },\r\n        \"& video\": {\r\n            width: '100%',\r\n            height: '100%'\r\n        }\r\n    },\r\n    uploadImageBox: {\r\n        minWidth: '100px',\r\n        minHeight: '100px',\r\n        background: '#fff',\r\n        border: '2px dashed #e9eaed',\r\n        marginLeft: '10px',\r\n        maxWidth: '100px',\r\n        maxHeight: '100px',\r\n        \"&:hover\": {\r\n            cursor: 'pointer',\r\n            background: '#e9eaed'\r\n        },\r\n        \"& span svg\": {\r\n            marginTop: '50%',\r\n            marginLeft: '50%',\r\n            transform: 'translate(-50%,-50%)'\r\n        }\r\n    },\r\n    firstDivider: {\r\n        marginTop: '24px',\r\n        lineHeight: '1px'\r\n    },\r\n    secondDivider: {\r\n        marginTop: '8px',\r\n        lineHeight: '1px'\r\n    },\r\n    emojiPicker: {\r\n        position: 'absolute',\r\n        zIndex: 1000,\r\n        marginTop: '10px'\r\n    }\r\n}));\r\n\r\nfunction CreatePost(props) {\r\n    const classes = useStyles();\r\n    const [postText, setPostText] = useState('');\r\n    const [postFiles, setPostFiles] = useState([]);\r\n    const [imagePreview, setImagePreview] = useState(null);\r\n    const [videoPreview, setVideoPreview] = useState(null);\r\n    const [imageName, setImageName] = useState('');\r\n    const [uploadedImages, setUploadedImages] = useState([]);\r\n    const [uploadedVideos, setUploadedVideos] = useState([]);\r\n    const [tagFriends, setTagFriends] = useState(false);\r\n    const [taggedFriends, setTaggedFriends] = useState([]);\r\n    const [chosenEmoji, setChosenEmoji] = useState('');\r\n    const [showEmoji, setShowEmoji] = useState(false);\r\n\r\n    const onImageChange = (event) => {\r\n        var file = event.target.files[0];\r\n        if (file) {\r\n            const fileType = file.type;\r\n            const fileArr = [...postFiles];\r\n            fileArr.push(file);\r\n            setPostFiles(fileArr);\r\n            if (fileType.includes('image')) {\r\n                var reader = new FileReader();\r\n                reader.readAsDataURL(file);\r\n                reader.onloadend = (event) => {\r\n                    setVideoPreview(null)\r\n                    setImagePreview(reader.result);\r\n                    setImageName(file.name);\r\n                    const imageDetails = {\r\n                        imageSrc: reader.result,\r\n                        name: file.name\r\n                    }\r\n                    const updatedImages = [...uploadedImages];\r\n                    updatedImages.unshift(imageDetails);\r\n                    setUploadedImages(updatedImages);\r\n                }\r\n            }\r\n            if (fileType.includes('video')) {\r\n                var reader = new FileReader();\r\n                reader.readAsDataURL(file);\r\n                reader.onloadend = (event) => {\r\n                    setImagePreview(null)\r\n                    setVideoPreview(reader.result);\r\n                    const videoDetails = {\r\n                        videoSrc: reader.result,\r\n                        name: file.name\r\n                    }\r\n                    const updatedVideos = [...uploadedVideos];\r\n                    updatedVideos.unshift(videoDetails);\r\n                    setUploadedVideos(updatedVideos);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    const submitPost = (e) => {\r\n        e.preventDefault();\r\n        const { user } = props.auth;\r\n        const taggedFIds = (taggedFriends) ? taggedFriends.map(tFriend => tFriend.id) : null;\r\n        let formData = new FormData();\r\n        formData.append('postText', postText);\r\n        let fileStorageFolder = constant.IMAGEUPLOADSERVER;\r\n        if(process.env.NODE_ENV === 'production'){\r\n            fileStorageFolder = constant.IMAGEUPLOADS3\r\n        }\r\n        postFiles.map(postFile => {\r\n            formData.append(fileStorageFolder, postFile);\r\n        })\r\n        formData.append('userId', user.id);\r\n        formData.append('taggedFriends', JSON.stringify(taggedFIds));\r\n        props.submitPost(formData);\r\n        setImagePreview(null);\r\n        setVideoPreview(null);\r\n        setPostFiles([]);\r\n        setPostText('');\r\n        setTagFriends(false);\r\n        setTaggedFriends([]);\r\n        setImageName('');\r\n        setUploadedImages([]);\r\n        setUploadedVideos([]);\r\n    }\r\n\r\n    const handleTagging = (selectedFriends) => {\r\n        setTaggedFriends(selectedFriends);\r\n    }\r\n\r\n    const onEmojiClick = (event) => {\r\n        const emoji = event.native;\r\n        const text = (postText) ? `${postText}${emoji}` : emoji;\r\n        setPostText(text);\r\n    }\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <div className={classes.postHeader}>\r\n                Create Post\r\n            </div>\r\n            <Paper className={classes.paper}>\r\n                <Input\r\n                    placeholder=\"Write something here...\"\r\n                    multiline={true}\r\n                    fullWidth\r\n                    disableUnderline={true}\r\n                    onChange={(e) => setPostText(e.target.value)}\r\n                    value={postText}\r\n                />\r\n                {\r\n                    (imagePreview != null) ?\r\n                        <Card className={classes.card}>\r\n                            <CardMedia\r\n                                className={classes.media_image}\r\n                                image={imagePreview}\r\n                                title={imageName}\r\n                            />\r\n                        </Card> :\r\n                        null\r\n                }\r\n\r\n                {\r\n                    (videoPreview != null) ?\r\n                        <Card className={classes.card}>\r\n                            <CardMedia className={classes.media_video}>\r\n                                <video src={videoPreview} controls></video>\r\n                            </CardMedia>\r\n                        </Card> :\r\n                        null\r\n                }\r\n\r\n                {(tagFriends) ? <Divider className={classes.firstDivider} /> : null}\r\n\r\n                {(tagFriends) ? <TagFriends taggedFriends={handleTagging} /> : null}\r\n\r\n                <Divider className={classes.secondDivider} />\r\n                {(uploadedImages.length > 0) ?\r\n                    <div className={classes.imagePreviewBox}>\r\n                        {uploadedImages.map((image, index) => (\r\n                            <div key={index} className={classes.imageBox}>\r\n                                <img src={image.imageSrc} alt={image.name} />\r\n                            </div>\r\n                        ))}\r\n                        {uploadedVideos.map((video, index) => (\r\n                            <div key={index} className={classes.imageBox}>\r\n                                <video src={video.videoSrc} />\r\n                            </div>\r\n                        ))}\r\n\r\n                        <input onChange={onImageChange} className={classes.input} id=\"icon-button-file\" type=\"file\" />\r\n                        <label htmlFor=\"icon-button-file\">\r\n                            <div className={classes.uploadImageBox}>\r\n                                <Icon><PlusIcon /></Icon>\r\n                            </div>\r\n                        </label>\r\n                    </div>\r\n                    :\r\n                    null\r\n                }\r\n                <div className={classes.footer}>\r\n                    <input onChange={onImageChange} className={classes.input} id=\"icon-button-file\" type=\"file\" />\r\n                    <label htmlFor=\"icon-button-file\">\r\n\r\n                        <Chip\r\n                            icon={<PhotoCamera />}\r\n                            label=\"Upload File\"\r\n                            color=\"primary\"\r\n                            className={classes.chip}\r\n                        />\r\n\r\n                    </label>\r\n                    <label onClick={() => setTagFriends(!tagFriends)} htmlFor=\"\">\r\n                        <Chip\r\n                            icon={<PeopleIcon />}\r\n                            label=\"Tag Friends\"\r\n                            color=\"primary\"\r\n                            className={classes.chip}\r\n\r\n                        />\r\n                    </label>\r\n\r\n                    <label>\r\n                        <Chip\r\n                            onClick={() => setShowEmoji(!showEmoji)} htmlFor=\"\"\r\n                            label=\"😀\"\r\n                            color=\"primary\"\r\n                            className={classes.chip}\r\n                        />\r\n                        {(showEmoji) ? <Picker style={{ position: 'absolute', zIndex: 1000, transform: 'translate(-50%,20%)' }} onSelect={(e) => onEmojiClick(e)} /> : null}\r\n                    </label>\r\n                    <Button\r\n                        disabled={(postText || postFiles.length > 0) ? false : true}\r\n                        onClick={submitPost}\r\n                        className={classes.postButton} variant=\"contained\" color=\"primary\">\r\n                        Post<PostIcon className={classes.postIcon} />\r\n                    </Button>\r\n                </div>\r\n            </Paper>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth,\r\n    post: state.post\r\n})\r\n\r\nexport default connect(mapStateToProps, { submitPost })(CreatePost);\r\n","export const IMAGEUPLOADS3 = 'fileImages';\r\nexport const IMAGEUPLOADSERVER = 'images';","import React, { useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Input from '@material-ui/core/Input';\r\nimport { connect } from 'react-redux';\r\nimport axios from 'axios';\r\nimport {createComment} from '../../../actions/postActions';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    commentSection: {\r\n        display: 'flex',\r\n        padding: '12px 16px 8px 8px'\r\n    },\r\n    commentBox: {\r\n        width: '100%',\r\n        padding: '4px 20px',\r\n        border: '1px solid #ccc',\r\n        borderRadius: '25px'\r\n    }\r\n}));\r\n\r\nfunction CreateComment(props) {\r\n    const classes = useStyles();\r\n    const { user } = props.auth;\r\n    const { postId } = props;\r\n    const [commentText, setCommentText] = useState('');\r\n    const handleCommentText = (e) => {\r\n        if (e.key === 'Enter') {\r\n            setCommentText('');\r\n            props.onCreateComment(user.id,postId,commentText)\r\n        }\r\n    }\r\n    \r\n    return (\r\n        <div className={classes.commentSection}>\r\n            <div>\r\n                <ListItemAvatar>\r\n                    <Avatar alt=\"Remy Sharp\" src={user.profileImage} />\r\n                </ListItemAvatar>\r\n            </div>\r\n            <div className={classes.commentBox}>\r\n                <Input\r\n                    fullWidth={true}\r\n                    placeholder=\"Write a comment...\"\r\n                    disableUnderline={true}\r\n                    onChange={(e) => setCommentText(e.target.value)}\r\n                    onKeyPress={(e) => handleCommentText(e)}\r\n                    value={commentText}\r\n                />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth\r\n})\r\n\r\nconst mapDispatchToProps = dispatch =>({\r\n    onCreateComment:(userId,postId,text)=>dispatch(createComment(userId,postId,text))\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CreateComment);\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CommentIcon from '@material-ui/icons/Comment';\r\nimport LikeIcon from '@material-ui/icons/ThumbUp';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    commentSection: {\r\n        padding: '0 8px'\r\n    },\r\n    message: {\r\n        display: 'flex',\r\n        width: '100%',\r\n        position: 'relative',\r\n        minHeight: '10px',\r\n        wordBreak: 'break-all',\r\n        textAlign: 'left',\r\n        fontSize: '11px',\r\n\r\n    },\r\n    messageBody: {\r\n        width: '100%',\r\n        padding: '4px',\r\n        \"& p a\": {\r\n            color: '#385898',\r\n            fontWeight: 'bold',\r\n            \"&:hover\": {\r\n                cursor: 'pointer',\r\n                textDecoration: 'underline'\r\n            }\r\n        },\r\n        \"& p\": {\r\n            background: '#f2f3f5',\r\n            borderRadius: '45px',\r\n            padding: '8px 16px',\r\n            fontSize: '15px',\r\n            lineHeight: '1.2em'\r\n        }\r\n    },\r\n    actionsList: {\r\n        padding: theme.spacing(0, 2),\r\n        display: 'flex',\r\n        maxWidth: '100%',\r\n        \"& a\": {\r\n            color: '#385898',\r\n            fontSize: '14px',\r\n            padding: '0 4px',\r\n            \"&:hover\": {\r\n                cursor: 'pointer',\r\n                textDecoration: 'underline'\r\n            }\r\n        }\r\n    },\r\n}));\r\n\r\nexport default function Comments(props) {\r\n    const classes = useStyles();\r\n    const { comment } = props;\r\n    return (\r\n        <div>\r\n            <div className={classes.commentSection}>\r\n                <div className={classes.message}>\r\n                    <ListItemAvatar>\r\n                        <Avatar onError={(e) => { e.target.src = 'images/404.png' }} alt={comment.from.name} src={(comment.from.profileImage) ? comment.from.profileImage : 'images/blank.png'} />\r\n                    </ListItemAvatar>\r\n                    <div className={classes.messageBody}>\r\n                        <Typography component=\"p\"><a>{comment.from.name}</a> {comment.text}</Typography>\r\n                        <div className={classes.actionsList}>\r\n                            <a>Like</a>\r\n                            <a>Reply</a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { Component, Fragment } from 'react';\r\nimport CommentIcon from '@material-ui/icons/Comment';\r\nimport LikeIcon from '@material-ui/icons/ThumbUp';\r\nimport ShareIcon from '@material-ui/icons/Share';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nclass PostActions extends Component {\r\n    render() {\r\n        const { actionItems, actionIcons, takeAction, postId, post, user, handleLike, checkUserLike } = this.props;\r\n        return (\r\n            <Fragment>\r\n                <Typography\r\n                    onClick={() => handleLike(postId)}\r\n                    className={actionItems}>\r\n                    <LikeIcon className={(checkUserLike(post, user)) ? actionIcons : takeAction} />\r\n                    {checkUserLike(post, user) ? 'Unlike' : 'Like'}\r\n                </Typography>\r\n                <Typography className={actionItems}><CommentIcon className={actionIcons} />Comment</Typography>\r\n                <Typography className={actionItems}><ShareIcon className={actionIcons} />Share</Typography>\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default PostActions;\r\n","import React, { Fragment } from 'react';\r\nimport LikeIcon from '@material-ui/icons/ThumbUp';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nconst PostActionResult = (props) => {\r\n    const {actionsResultItem,likeResultIcon,like} = props;\r\n    return (\r\n        <Fragment>\r\n            <Typography className={actionsResultItem}><LikeIcon className={likeResultIcon} color=\"primary\" /></Typography>\r\n            <Typography className={actionsResultItem}>{(like) ? like.length : 0}</Typography>\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default PostActionResult;","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport CreateComment from '../../posts/comments/CreateComment';\r\nimport Comments from '../../posts/comments/Comments';\r\nimport PostActions from '../../../common/PostActions';\r\nimport { connect } from 'react-redux';\r\nimport { likePost } from '../../../actions/postActions';\r\nimport PostActionResult from '../../../common/PostActionResult';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    imageDetails: {\r\n        width: '1200px',\r\n        display: 'flex',\r\n        overflow: 'hidden'\r\n    },\r\n    imageHolder: {\r\n        width: '65%',\r\n        background: 'black',\r\n        height: 'inherit',\r\n        display: 'block',\r\n    },\r\n    image: {\r\n        width: '100%',\r\n        height: '100%',\r\n    },\r\n    list: {\r\n        width: '100%',\r\n        maxWidth: 360,\r\n        backgroundColor: theme.palette.background.paper,\r\n    },\r\n    aboutImage: {\r\n        width: '35%',\r\n        overflow: 'auto'\r\n    },\r\n    actionsList: {\r\n        padding: theme.spacing(1, 2),\r\n        display: 'flex',\r\n        maxWidth: '100%',\r\n        backgroundColor: theme.palette.background.paper,\r\n        justifyContent: 'space-around'\r\n    },\r\n    actionItems: {\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        textAlign: 'center',\r\n        padding: theme.spacing(0, 2),\r\n        transition: 'all 0.5s',\r\n        '&:hover': {\r\n            cursor: 'pointer',\r\n            transform: 'scale(1.1)',\r\n            '& > *': {\r\n                color: '#385898',\r\n            }\r\n        },\r\n        '&:active': {\r\n            transform: 'scale(0.9)'\r\n        }\r\n    },\r\n    actionIcons: {\r\n        margin: theme.spacing(-0.5, 0.5),\r\n        color: '#385898'\r\n    },\r\n    takeAction: {\r\n        margin: theme.spacing(-0.5, 0.5),\r\n        color: '#e9eaed'\r\n    },\r\n    actionsResult: {\r\n        padding: theme.spacing(1, 0),\r\n        display: 'flex',\r\n        maxWidth: '100%',\r\n        backgroundColor: theme.palette.background.paper,\r\n    },\r\n    actionsResultItem: {\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        textAlign: 'center',\r\n        padding: 0,\r\n    },\r\n    divider: {\r\n        borderBottom: '1px solid #ddd',\r\n        margin: '5px 7px 6px',\r\n        paddingTop: '1px'\r\n    },\r\n    likeResultIcon: {\r\n        margin: theme.spacing(-0.5, 0.5),\r\n    },\r\n}));\r\n\r\nconst Photo = (props) => {\r\n    const classes = useStyles();\r\n    const [open, setOpen] = React.useState(false);\r\n    const [image, setImage] = React.useState(null);\r\n    const [userName, setUserName] = React.useState('');\r\n    const { imageDetails, openPhoto, isImage } = props;\r\n    const { user } = props.auth;\r\n\r\n    React.useEffect(() => {\r\n        if (open !== openPhoto) {\r\n            setOpen(openPhoto);\r\n            setImage(imageDetails.image);\r\n            setUserName(imageDetails.createdBy.name);\r\n        }\r\n    })\r\n\r\n    const handleClose = () => {\r\n        setOpen(false)\r\n        props.onclose();\r\n    }\r\n\r\n    const handleLike = (postId) => {\r\n        const { id } = props.auth.user;\r\n        props.likePost(postId, id);\r\n    }\r\n\r\n    const checkUserLike = (post, user) => {\r\n        return post.like && post.like.find(l => l.user === user.id);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Dialog\r\n                maxWidth=\"xl\"\r\n                open={open}\r\n                onClose={handleClose}\r\n            >\r\n                <div className={classes.imageDetails}>\r\n\r\n                    <div className={classes.imageHolder}>\r\n                        {(isImage) ? <img\r\n                            className={classes.image}\r\n                            src={image}\r\n                        /> :\r\n                            <video\r\n                                className={classes.image}\r\n                                src={image}\r\n                                controls />}\r\n                    </div>\r\n\r\n                    <div className={classes.aboutImage}>\r\n                        <ListItem alignItems=\"flex-start\">\r\n                            <ListItemAvatar>\r\n                                <Avatar onError={(e) => { e.target.src = 'images/404.png' }} alt={imageDetails.createdBy.name} src={(imageDetails.createdBy.profileImage) ? imageDetails.createdBy.profileImage : 'images/blank.png'} />\r\n                            </ListItemAvatar>\r\n                            <ListItemText\r\n                                primary={userName}\r\n                            />\r\n                        </ListItem >\r\n                        <div className={classes.actionsResult}>\r\n                            <PostActionResult\r\n                                actionsResultItem={classes.actionsResultItem}\r\n                                likeResultIcon={classes.likeResultIcon}\r\n                                like={imageDetails.like} />\r\n                        </div>\r\n                        <hr className={classes.divider} />\r\n                        <Paper className={classes.actionsList}>\r\n                            <PostActions\r\n                                actionItems={classes.actionItems}\r\n                                actionIcons={classes.actionIcons}\r\n                                takeAction={classes.takeAction}\r\n                                postId={imageDetails._id}\r\n                                post={imageDetails}\r\n                                user={user}\r\n                                handleLike={handleLike}\r\n                                checkUserLike={checkUserLike}\r\n                            />\r\n                        </Paper>\r\n                        {(imageDetails.comments) ? imageDetails.comments.map(comment => (\r\n                            <Comments key={comment._id} comment={comment} />\r\n                        )) : null}\r\n                        <CreateComment postId={imageDetails._id} />\r\n                    </div>\r\n                </div>\r\n            </Dialog>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth\r\n})\r\n\r\nexport default connect(mapStateToProps, { likePost })(Photo);","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport GridList from '@material-ui/core/GridList';\r\nimport GridListTile from '@material-ui/core/GridListTile';\r\nimport ImageIcon from '@material-ui/icons/Image';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport { green } from '@material-ui/core/colors';\r\nimport Photo from './Photo';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    photoGrid: {\r\n        padding: theme.spacing(3, 2),\r\n    },\r\n    titleBar: {\r\n        \"& ul,& ul li\": {\r\n            margin: 0,\r\n            padding: 0\r\n        },\r\n        \"& ul li span\": {\r\n            fontSize: '20px'\r\n        }\r\n    },\r\n    pictureGrid: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        justifyContent: 'space-around',\r\n        overflow: 'hidden',\r\n        backgroundColor: theme.palette.background.paper,\r\n    },\r\n    gridList: {\r\n        height: 450,\r\n        \"& img\": {\r\n            cursor: 'pointer'\r\n        },\r\n        \"& video\": {\r\n            cursor: 'pointer',\r\n            width: '100%',\r\n            height: '100%'\r\n        }\r\n    },\r\n    icon: {\r\n        color: 'rgba(255, 255, 255, 0.54)',\r\n    },\r\n    photoAvatar: {\r\n        margin: 10,\r\n        color: '#fff',\r\n        backgroundColor: green[500],\r\n    }\r\n}))\r\n\r\nexport default function PhotoGrid(props) {\r\n    const classes = useStyles();\r\n    const [isImage, setIsImage] = React.useState(false);\r\n    const [openPhoto, setOpenPhoto] = React.useState(false);\r\n    const [imageDetails, setImageDetails] = React.useState(null);\r\n    const { posts } = props;\r\n\r\n    const onPhotoClick = (image) => {\r\n        setOpenPhoto(true);\r\n        setIsImage(true);\r\n        setImageDetails(image);\r\n    }\r\n\r\n    const onVideoClick = (video) => {\r\n        setOpenPhoto(true);\r\n        setIsImage(false);\r\n        setImageDetails(video);\r\n    }\r\n\r\n    const picturePost = posts.filter(post => post.images && post.images.length > 0)\r\n        .map(post => {\r\n            return post.images.map(image => {\r\n                return {\r\n                    _id: post._id,\r\n                    image: image.imageUrl,\r\n                    createdBy: post.createdBy,\r\n                    comments: post.comments,\r\n                    like: post.like,\r\n                    profileImage: post.profileImage,\r\n                    userName: post.userName\r\n                }\r\n            })\r\n        }).flat(1);\r\n\r\n    const videoPost = posts.filter(post => post.videos && post.videos.length > 0)\r\n        .map(post => {\r\n            return post.videos.map(image => {\r\n                return {\r\n                    _id: post._id,\r\n                    video: image.videoUrl,\r\n                    createdBy: post.createdBy,\r\n                    comments: post.comments,\r\n                    like: post.like,\r\n                    profileImage: post.profileImage,\r\n                    userName: post.userName\r\n                }\r\n            })\r\n        }).flat(1);\r\n\r\n    return (\r\n        <div>\r\n            <Paper className={classes.photoGrid}>\r\n                <div className={classes.titleBar}>\r\n                    <List>\r\n                        <ListItem>\r\n                            <Avatar className={classes.photoAvatar}>\r\n                                <ImageIcon />\r\n                            </Avatar>\r\n                            <ListItemText primary=\"Photos\" />\r\n                        </ListItem>\r\n                    </List>\r\n                </div>\r\n                <div className={classes.pictureGrid}>\r\n                    <GridList cellHeight={120} className={classes.gridList} cols={3}>\r\n                        {picturePost.map(post => (\r\n                            <GridListTile key={post._id + '-' + post.image} cols={1}>\r\n                                <img onError={(e) => { e.target.src='images/404.png' }} onClick={() => onPhotoClick(post)} src={post.image} />\r\n                            </GridListTile>\r\n                        ))}\r\n                        {videoPost.map(post => (\r\n                            <GridListTile key={post._id + '-' + post.video} cols={1}>\r\n                                <video onClick={() => onVideoClick(post)} src={post.video} />\r\n                            </GridListTile>\r\n                        ))}\r\n                    </GridList>\r\n                    {(openPhoto) ? <Photo isImage={isImage} openPhoto={openPhoto} imageDetails={imageDetails} onclose={() => {\r\n                        setOpenPhoto(false)\r\n                    }} /> : null}\r\n                </div>\r\n            </Paper>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core'\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport GridList from '@material-ui/core/GridList';\r\nimport GridListTile from '@material-ui/core/GridListTile';\r\nimport GridListTileBar from '@material-ui/core/GridListTileBar';\r\nimport FriendIcon from '@material-ui/icons/People';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport { pink } from '@material-ui/core/colors';\r\nimport tileData from './tileData';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    friendGrid: {\r\n        padding: theme.spacing(3, 2),\r\n    },\r\n    titleBar: {\r\n        \"& ul,& ul li\":{\r\n            margin:0,\r\n            padding:0\r\n        },\r\n        \"& ul li span\":{\r\n            fontSize:'20px'\r\n        }\r\n    },\r\n    pictureGrid: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        justifyContent: 'space-around',\r\n        overflow: 'hidden',\r\n        backgroundColor: theme.palette.background.paper,\r\n    },\r\n    gridList: {\r\n        height: 450,\r\n    },\r\n    icon: {\r\n        color: 'rgba(255, 255, 255, 0.54)',\r\n    },\r\n    friendAvatar:{\r\n        margin: 10,\r\n        color: '#fff',\r\n        backgroundColor: pink[500],\r\n    }\r\n}))\r\n\r\nexport default function FriendGrid(props) {\r\n    const classes = useStyles();\r\n    const {friends} = props;\r\n    return (\r\n        <div>\r\n            <Paper className={classes.friendGrid}>\r\n                <div className={classes.titleBar}>\r\n                    <List>\r\n                        <ListItem>\r\n                            <Avatar className={classes.friendAvatar}>\r\n                                <FriendIcon />\r\n                            </Avatar>\r\n                            <ListItemText primary=\"Friends\" />\r\n                        </ListItem>\r\n                    </List>\r\n                </div>\r\n                <div className={classes.pictureGrid}>\r\n                    <GridList cellHeight={120} className={classes.gridList} cols={3}>\r\n                        {friends.map(friend => (\r\n                            <GridListTile key={friend._id} cols={1}>\r\n                                <img onError={(e) => { e.target.src='images/404.png' }} src={(friend.profileImage)?friend.profileImage:'images/blank.png'} alt={friend.name} />\r\n                                <GridListTileBar\r\n                                    title={friend.name}\r\n                                />\r\n                            </GridListTile>\r\n                        ))}\r\n                    </GridList>\r\n                </div>\r\n            </Paper>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport GridList from '@material-ui/core/GridList';\r\nimport GridListTile from '@material-ui/core/GridListTile';\r\nimport Photo from '../timeline/photos/Photo';\r\nimport Popper from '@material-ui/core/Popper';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    postDescription: {\r\n        \"& p\": {\r\n            padding: theme.spacing(0, 2)\r\n        },\r\n        \"& a\": {\r\n            textDecoration: 'none',\r\n            padding: '0 2px',\r\n            color: '#385898',\r\n            \"&:hover\": {\r\n                textDecoration: 'underline',\r\n                cursor: 'pointer',\r\n            }\r\n        }\r\n    },\r\n    gridList: {\r\n        // Promote the list into his own layer on Chrome. This cost memory but helps keeping high FPS.\r\n        transform: 'translateZ(0)',\r\n        width: '100%',\r\n        \"& img\": {\r\n            backgroundPosition: 'initial',\r\n            cursor: 'pointer',\r\n            width: '100%',\r\n            height: 'inherit'\r\n        },\r\n        \"& video\": {\r\n            backgroundPosition: 'initial',\r\n            cursor: 'pointer',\r\n            width: '100%',\r\n            height: 'inherit'\r\n        }\r\n    },\r\n    images: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        justifyContent: 'space-around',\r\n        overflow: 'hidden',\r\n        backgroundColor: theme.palette.background.paper,\r\n    },\r\n    arrowTag: {\r\n        content: \" \",\r\n        position: 'absolute',\r\n        left: '5%',\r\n        bottom: '100%',\r\n        borderWidth: '5px',\r\n        borderStyle: 'solid',\r\n        borderColor: 'transparent transparent black'\r\n    },\r\n    popperElement: {\r\n        zIndex: 50,\r\n        maxWidth: '300px',\r\n        minWidth: '192px',\r\n    },\r\n    popperContent: {\r\n        transform: 'translate3d(0, 11px, 0px)',\r\n        background: '#000',\r\n        color: '#fff',\r\n        \"& p:hover\": {\r\n            color: '#fff',\r\n            background: '#385898',\r\n            cursor: 'pointer'\r\n        }\r\n    },\r\n})\r\n)\r\n\r\nfunction SinglePost(props) {\r\n    const classes = useStyles();\r\n\r\n    const [openPhoto, setOpenPhoto] = React.useState(false);\r\n    const [isImage, setIsImage] = React.useState(false);\r\n    const [imageDetails, setImageDetails] = React.useState(null);\r\n    const [anchorE1, setAnchorE1] = React.useState(null);\r\n\r\n    const { post } = props;\r\n    const { images, videos } = post;\r\n    const tags = post.tags;\r\n    const tagsCount = tags.length - 1;\r\n    const otherTags = tags.slice(1);\r\n\r\n\r\n    function onPhotoClick(imagePost, imageId) {\r\n        setOpenPhoto(true);\r\n        setIsImage(true);\r\n        let picPost;\r\n        imagePost.images.find(image => {\r\n            if (image._id === imageId) {\r\n                picPost = {\r\n                    _id: imagePost._id,\r\n                    image: image.imageUrl,\r\n                    createdBy: imagePost.createdBy,\r\n                    comments: imagePost.comments,\r\n                    like: imagePost.like,\r\n                    profileImage: imagePost.profileImage,\r\n                    userName: imagePost.userName\r\n                }\r\n            }\r\n        });\r\n        setImageDetails(picPost);\r\n    }\r\n\r\n    function onVideoClick(videoPost, videoId) {\r\n        setOpenPhoto(true);\r\n        setIsImage(false);\r\n        let vidPost;\r\n        videoPost.videos.find(video => {\r\n            if (video._id === videoId) {\r\n                vidPost = {\r\n                    _id: videoPost._id,\r\n                    image: video.videoUrl,\r\n                    createdBy: videoPost.createdBy,\r\n                    comments: videoPost.comments,\r\n                    like: videoPost.like,\r\n                    profileImage: videoPost.profileImage,\r\n                    userName: videoPost.userName\r\n                }\r\n            }\r\n        });\r\n        setImageDetails(vidPost);\r\n    }\r\n\r\n    const handleTagPopper = (event) => {\r\n        setAnchorE1((anchorE1) ? null : event.currentTarget);\r\n    }\r\n\r\n    const getFileData = (file) => {\r\n        let data;\r\n        if (file.length === 1) {\r\n            data = file.map(image => {\r\n                return {\r\n                    ...image,\r\n                    featured: true\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            data = file.map(image => {\r\n                return {\r\n                    ...image,\r\n                    featured: false\r\n                }\r\n            });\r\n        }\r\n        return data;\r\n    }\r\n\r\n    let imageUrls = (images) ? getFileData(images) : [],\r\n        videoUrls = (videos) ? getFileData(videos) : [];\r\n\r\n    var openTag = Boolean(anchorE1);\r\n\r\n    return (\r\n        <div key={post._id} className={classes.postDescription}>\r\n            <Typography component=\"div\" style={{ textAlign: 'left' }}>\r\n                <p>{post.text}</p>\r\n                {(tags.length === 1) ? <p>- with <a href=\"#\">{tags[0].user.name}</a></p> : (tags.length > 1) ? <p>- with <a href=\"#\">{tags[0].user.name}</a> and <a onClick={handleTagPopper}>{tagsCount} others</a></p> : null}\r\n                <Popper className={classes.popperElement}\r\n                    anchorEl={anchorE1}\r\n                    open={openTag}\r\n                    placement='bottom-start'\r\n                    disablePortal={true}\r\n                    modifiers={\r\n                        {\r\n                            flip: {\r\n                                enabled: false,\r\n                            },\r\n                            preventOverflow: {\r\n                                enabled: false,\r\n                                boundariesElement: 'scrollParent',\r\n                            },\r\n                        }\r\n                    } >\r\n                    <div className={classes.popperContent} >\r\n                        <div className={classes.arrowTag} > </div>\r\n                        {otherTags.map(oTag => (\r\n                            <Typography key={oTag.user._id} className={classes.typography} > {oTag.user.name} </Typography>)\r\n                        )}\r\n                    </div>\r\n                </Popper>\r\n            </Typography>\r\n            <div className={classes.images}>\r\n                <GridList className={classes.gridList}>\r\n                    {(imageUrls) ? imageUrls.map(image => (\r\n                        <GridListTile cols={image.featured ? 2 : 1} rows={image.featured ? 2 : 1} key={image._id}>\r\n                            <img onError={(e) => { e.target.src='images/404.png' }} onClick={() => onPhotoClick(post, image._id)} src={(image.imageUrl)?`${image.imageUrl}`:'images/404.png'} />\r\n                        </GridListTile>\r\n                    )) :\r\n                        null}\r\n                    {(videoUrls) ? videoUrls.map(video => (\r\n                        <GridListTile cols={video.featured ? 2 : 1} rows={video.featured ? 2 : 1} key={video._id}>\r\n                            <video onError={(e) => { e.target.src='images/404.png' }} onClick={() => onVideoClick(post, video._id)} src={(video.videoUrl)?`${video.videoUrl}`:'images/404.png'} />\r\n                        </GridListTile>\r\n                    )) :\r\n                        null}\r\n                </GridList>\r\n                {(openPhoto) ? <Photo isImage={isImage} openPhoto={openPhoto} imageDetails={imageDetails} onclose={() => {\r\n                    setOpenPhoto(false)\r\n                }} /> : null}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SinglePost;\r\n","import React, { Component } from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { setTimeLineUser } from '../../actions/profileActions';\r\nimport UserAbout from './about/UserAbout';\r\nimport CreatePost from '../posts/CreatePost';\r\nimport PhotoGrid from './photos/PhotoGrid';\r\nimport FriendGrid from './friends/FriendGrid';\r\nimport SinglePost from '../posts/SinglePost';\r\nimport CommentIcon from '@material-ui/icons/Comment';\r\nimport LikeIcon from '@material-ui/icons/ThumbUp';\r\nimport ShareIcon from '@material-ui/icons/Share';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport CreateComment from '../posts/comments/CreateComment';\r\nimport Comments from '../posts/comments/Comments';\r\nimport { likePost, getFeed, clearAllPosts } from '../../actions/postActions';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport PostActions from '../../common/PostActions';\r\n\r\nconst useStyles = theme => ({\r\n    timeline: {\r\n        width: '85%',\r\n        marginLeft: '5%'\r\n    },\r\n    timeLineCover: {\r\n        borderRadius: '2px'\r\n    },\r\n    coverPhoto: {\r\n        width: '100%',\r\n        height: 'auto',\r\n        \"& > img\": {\r\n            width: '100%',\r\n            height: '400px',\r\n            border: '1px solid #888888',\r\n            boxShadow: '1px 1px #888888',\r\n        }\r\n    },\r\n    profilePicture: {\r\n        transform: 'translate(-35%,-80%)',\r\n        position: 'absolute',\r\n        left: '10%',\r\n        \"&  img\": {\r\n            padding: theme.spacing(0.25, 0.25),\r\n            width: '200px',\r\n            height: '200px',\r\n            borderRadius: '50%',\r\n            border: '2px solid #fff',\r\n            background: '#fff',\r\n            zIndex: 100\r\n        }\r\n    },\r\n    uploadPhotoDiv: {\r\n        bottom: '10px',\r\n        left: '5px',\r\n        overflow: 'hidden',\r\n        width: '200px',\r\n        position: 'absolute',\r\n    },\r\n    updatePhoto: {\r\n        background: 'linear-gradient( transparent, rgba(0, 0, 0, .6) 0%, rgba(0, 0, 0, .6) 100% )',\r\n        width: '100%',\r\n        borderBottomLeftRadius: '90px',\r\n        borderBottomRightRadius: '90px',\r\n        height: '90px',\r\n        textAlign: 'center',\r\n        color: '#fff',\r\n        cursor: 'pointer',\r\n        transition: '0.3s'\r\n    },\r\n    uploadImageInput: {\r\n        display: 'none'\r\n    },\r\n    timeLineNav: {\r\n        paddingLeft: '30%',\r\n        borderRadius: 'none',\r\n        background: '#fff'\r\n    },\r\n    navList: {\r\n        margin: 0,\r\n        padding: 0,\r\n        display: 'flex',\r\n        listStyleType: 'none',\r\n        borderLeft: '1px solid #e9eaed',\r\n    },\r\n    listItem: {\r\n        borderRight: '1px solid #e9eaed',\r\n        height: '43px',\r\n        lineHeight: 3.05,\r\n        padding: '17px 17px',\r\n        position: 'relative',\r\n        verticalAlign: 'middle',\r\n        whiteSpace: 'nowrap',\r\n        color: '#385898',\r\n        cursor: 'pointer',\r\n        textDecoration: 'none',\r\n        fontSize: '16px',\r\n        fontWeight: 600\r\n    },\r\n    totalFriends: {\r\n        color: '#89919c',\r\n        fontSize: '11px',\r\n        fontWeight: 'normal',\r\n        paddingLeft: '6px',\r\n    },\r\n    pageDetails: {\r\n        marginTop: theme.spacing(2)\r\n    },\r\n    RightContent: {\r\n        marginLeft: '20px',\r\n        width: '120%'\r\n    },\r\n    photoGrid: {\r\n        marginTop: theme.spacing(2)\r\n    },\r\n    friendGrid: {\r\n        marginTop: theme.spacing(2)\r\n    },\r\n    actionContainer: {\r\n        width: '50%',\r\n        position: 'absolute'\r\n    },\r\n    interactingActions: {\r\n        position: 'absolute',\r\n        display: 'flex',\r\n        padding: '0px 12px',\r\n        bottom: '20px',\r\n        left: '30%',\r\n        \"& div a\": {\r\n            padding: '4px 16px',\r\n            background: '#e9eaed',\r\n            border: '1px solid #ccd0d5',\r\n            cursor: 'pointer'\r\n        }\r\n    },\r\n    otherActions: {\r\n        marginLeft: theme.spacing(1),\r\n        display: 'flex'\r\n    },\r\n    typography: {\r\n        padding: '8px 16px 4px 22px',\r\n        fontSize: '14px',\r\n    },\r\n    arrowFriend: {\r\n        content: \" \",\r\n        position: 'absolute',\r\n        left: '5%',\r\n        bottom: '100%',\r\n        borderWidth: '10px',\r\n        borderStyle: 'solid',\r\n        borderColor: 'transparent transparent white'\r\n    },\r\n    arrowFollow: {\r\n        content: \" \",\r\n        position: 'absolute',\r\n        right: '5%',\r\n        bottom: '100%',\r\n        borderWidth: '10px',\r\n        borderStyle: 'solid',\r\n        borderColor: 'transparent transparent white'\r\n    },\r\n    popperElement: {\r\n        zIndex: 50,\r\n        maxWidth: '300px',\r\n        minWidth: '192px',\r\n    },\r\n    popperContent: {\r\n        transform: 'translate3d(0, 11px, 0px)',\r\n        \"& p:hover\": {\r\n            color: '#fff',\r\n            background: '#385898',\r\n            cursor: 'pointer'\r\n        }\r\n    },\r\n    divider: {\r\n        borderBottom: '1px solid #ddd',\r\n        margin: '5px 7px 6px',\r\n        paddingTop: '1px'\r\n    },\r\n    postItems: {\r\n        marginTop: theme.spacing(5),\r\n        display: 'block',\r\n        width: '80%'\r\n    },\r\n    list: {\r\n        width: '100%',\r\n        maxWidth: 360,\r\n        backgroundColor: theme.palette.background.paper,\r\n    },\r\n    inline: {\r\n        display: 'inline',\r\n    },\r\n    post: {\r\n        width: '100%'\r\n    },\r\n    actionsResult: {\r\n        padding: theme.spacing(1, 0),\r\n        display: 'flex',\r\n        maxWidth: '100%',\r\n        backgroundColor: theme.palette.background.paper,\r\n    },\r\n    actionsResultItem: {\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        textAlign: 'center',\r\n        padding: 0,\r\n    },\r\n    actionsList: {\r\n        padding: theme.spacing(1, 2),\r\n        display: 'flex',\r\n        maxWidth: '100%',\r\n        backgroundColor: theme.palette.background.paper,\r\n        justifyContent: 'space-around'\r\n    },\r\n    actionItems: {\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        textAlign: 'center',\r\n        padding: theme.spacing(0, 2),\r\n        transition:'all 0.5s',\r\n        '&:hover': {\r\n            cursor: 'pointer',\r\n            transform: 'scale(1.1)',\r\n            '& > *': {\r\n                color: '#385898',\r\n            }\r\n        },\r\n        '&:active': {\r\n            transform: 'scale(0.9)'\r\n        }\r\n    },\r\n    actionIcons: {\r\n        margin: theme.spacing(-0.5, 0.5),\r\n        color: '#385898',\r\n    },\r\n    takeAction: {\r\n        margin: theme.spacing(-0.5, 0.5),\r\n        color: '#e9eaed'\r\n    },\r\n    likeResultIcon: {\r\n        margin: theme.spacing(-0.5, 0.5),\r\n    },\r\n    commentSection: {\r\n        marginTop: theme.spacing(1)\r\n    },\r\n    createComment: {\r\n        marginTop: theme.spacing(2)\r\n    },\r\n    comments: {\r\n        marginTop: theme.spacing(1)\r\n    },\r\n    divider: {\r\n        borderBottom: '1px solid #ddd',\r\n        margin: '5px 7px 6px',\r\n        paddingTop: '1px'\r\n    }\r\n});\r\n\r\nclass TimeLine extends Component {\r\n\r\n    handleLike = (postId) => {\r\n        const { id } = this.props.auth.user;\r\n        this.props.likePost(postId, id);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.clearAllPosts();\r\n        this.props.getFeed();\r\n    }\r\n\r\n    checkUserLike = (post, user) => {\r\n        return post.like && post.like.find(l => l.user === user.id);\r\n    }\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n        const { user } = this.props.auth;\r\n        const allPosts = this.props.post.allPosts;\r\n        const { friends } = this.props.profile;\r\n        return (\r\n            <div className={classes.pageDetails} >\r\n                <Grid container spacing={0} >\r\n                    <Grid item xs={5} >\r\n                        <div className={classes.leftContent} >\r\n                            <div className={classes.userAbout} >\r\n                                <UserAbout />\r\n                            </div>\r\n                            <div className={classes.photoGrid} >\r\n                                <PhotoGrid posts={allPosts} />\r\n                            </div>\r\n                            <div className={classes.friendGrid} >\r\n                                <FriendGrid friends={friends} />\r\n                            </div>\r\n\r\n                        </div>\r\n                    </Grid>\r\n\r\n                    <Grid item xs={7} >\r\n                        <div className={classes.RightContent} >\r\n                            <div className={classes.CreatePost} >\r\n                                <CreatePost />\r\n                            </div>\r\n                            {allPosts.length > 0 ? allPosts.map(post => (\r\n                                <Paper key={post._id} className={classes.postItems}>\r\n                                    <List className={classes.list}>\r\n                                        <ListItem alignItems=\"flex-start\">\r\n                                            <ListItemAvatar>\r\n                                                <Avatar  onError={(e) => { e.target.src = 'images/404.png' }} alt=\"Remy Sharp\" src={post.createdBy.profileImage} />\r\n                                            </ListItemAvatar>\r\n                                            <ListItemText\r\n                                                primary={post.createdBy.name}\r\n                                            />\r\n                                        </ListItem >\r\n                                    </List>\r\n                                    <SinglePost post={post} />\r\n                                    <div className={classes.actionsResult}>\r\n                                        <Typography className={classes.actionsResultItem}><LikeIcon className={classes.likeResultIcon} color=\"primary\" /></Typography>\r\n                                        <Typography className={classes.actionsResultItem}>{(post.like) ? post.like.length : 0}</Typography>\r\n                                    </div>\r\n                                    <hr className={classes.divider} />\r\n                                    <div className={classes.actionsList}>\r\n                                        <PostActions\r\n                                            actionItems={classes.actionItems}\r\n                                            actionIcons={classes.actionIcons}\r\n                                            takeAction={classes.takeAction}\r\n                                            postId={post._id}\r\n                                            post={post}\r\n                                            user={user}\r\n                                            handleLike={this.handleLike}\r\n                                            checkUserLike={this.checkUserLike}\r\n                                        />\r\n                                        {/* <Typography onClick={() => this.handleLike(post._id)} className={classes.actionItems}><LikeIcon className={(post.like && post.like.find(l => l.user === user.id)) ? classes.actionIcons : classes.takeAction} />Like</Typography>\r\n                                        <Typography className={classes.actionItems}><CommentIcon className={classes.actionIcons} />Comment</Typography>\r\n                                        <Typography className={classes.actionItems}><ShareIcon className={classes.actionIcons} />Share</Typography> */}\r\n                                    </div>\r\n                                    <hr className={classes.divider} />\r\n                                    <div className={classes.commentSection}>\r\n                                        <div className={classes.createComment}>\r\n                                            <CreateComment postId={post._id} />\r\n                                        </div>\r\n                                        <div className={classes.comments}>\r\n                                            {(post.comments) ?\r\n                                                post.comments.map(comment => (\r\n                                                    <Comments key={`timeline/${post._id}-${comment._id}`} comment={comment} />\r\n                                                ))\r\n                                                : null}\r\n                                        </div>\r\n                                    </div>\r\n                                </Paper>\r\n                            )) : null}\r\n\r\n                        </div>\r\n                    </Grid>\r\n                </Grid>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth,\r\n    post: state.post,\r\n    profile: state.profile\r\n})\r\n\r\nexport default connect(mapStateToProps, { setTimeLineUser, likePost, getFeed, clearAllPosts })(withStyles(useStyles)(withRouter(TimeLine)));\r\n","import React, { Component } from 'react';\r\nimport { withRouter, Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { withStyles } from '@material-ui/core';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport PersonIcon from '@material-ui/icons/Person';\r\nimport Icon from '@material-ui/core/Icon';\r\n\r\nconst useStyles = theme => ({\r\n    about: {\r\n        marginTop: theme.spacing(2),\r\n        background: '#fff',\r\n        border: '1px solid #ccd0d5',\r\n        borderRadius: '3px',\r\n        marginBottom: '10px'\r\n    },\r\n    aboutHeader: {\r\n        background: '#f5f6f7',\r\n        borderBottom: '1px solid #d3d6db',\r\n        borderRadius: '2px 2px 0 0',\r\n        marginBottom: '15px',\r\n        paddingTop:'16px'\r\n    },\r\n    headerContent: {\r\n        fontSize: '20px',\r\n        fontWeight: 'bold',\r\n        height: '32px',\r\n        margin:'0 12px 5px',\r\n        lineHeight:1,\r\n        '& a': {\r\n            color: '#4b4f56',\r\n            textDecoration:'none',\r\n            verticalAlign:'text-top'\r\n        }\r\n    },\r\n    personIcon:{\r\n        color:'#969292',\r\n    }\r\n})\r\n\r\nclass About extends Component {\r\n    render() {\r\n        const { classes } = this.props;\r\n        const { user } = this.props.auth;\r\n        return (\r\n            <div className={classes.about}>\r\n                <div className={classes.aboutHeader}>\r\n                    <h3 className={classes.headerContent}>\r\n                        <Icon>\r\n                            <PersonIcon className={classes.personIcon} />\r\n                        </Icon>\r\n                        <Link to={`/${user.userName}/about`}>About</Link>\r\n                    </h3>\r\n                </div>\r\n                \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth,\r\n    post: state.post,\r\n    profile: state.profile\r\n})\r\n\r\nexport default connect(mapStateToProps)(withStyles(useStyles)(withRouter(About)));\r\n","import React, { Component } from 'react';\r\nimport { withRouter, Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { withStyles } from '@material-ui/core';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport PersonIcon from '@material-ui/icons/PersonTwoTone';\r\nimport Icon from '@material-ui/core/Icon';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport CheckIcon from '@material-ui/icons/Check';\r\n\r\nconst useStyles = theme => ({\r\n    friends: {\r\n        marginTop: theme.spacing(2),\r\n        background: '#fff',\r\n        border: '1px solid #ccd0d5',\r\n        borderRadius: '3px',\r\n        marginBottom: '10px'\r\n    },\r\n    friendsHeader: {\r\n        background: '#f5f6f7',\r\n        borderBottom: '1px solid #d3d6db',\r\n        borderRadius: '2px 2px 0 0',\r\n        marginBottom: '15px',\r\n        paddingTop: '16px'\r\n    },\r\n    headerContent: {\r\n        fontSize: '20px',\r\n        fontWeight: 'bold',\r\n        height: '32px',\r\n        margin: '0 12px 5px',\r\n        lineHeight: 1,\r\n        '& a': {\r\n            color: '#4b4f56',\r\n            textDecoration: 'none',\r\n            verticalAlign: 'text-top'\r\n        }\r\n    },\r\n    personIcon: {\r\n        color: '#969292',\r\n    },\r\n    friendsList: {\r\n        listStyleType: 'none',\r\n        margin: 0,\r\n        padding: 0\r\n    },\r\n    friendDetails: {\r\n        border: '1px solid #e9ebee',\r\n        display: 'inline-block',\r\n        margin: '0 0 13px 13px',\r\n        padding: '0 10px 0 0',\r\n        position: 'relative',\r\n        varticalAlign: 'top',\r\n        width: '390px'\r\n    },\r\n    friend: {\r\n        '& img': {\r\n            width: '100px',\r\n            height: '100px',\r\n            float: 'left'\r\n        }\r\n    },\r\n    friendWrapper: {\r\n        display: 'inline-block',\r\n        float: 'right'\r\n    },\r\n    friendStatusWrapper: {\r\n        display: 'inline-block',\r\n        verticalAlign: 'middle'\r\n    },\r\n    friendButton: {\r\n        display: 'inline-block',\r\n        verticalAlign: 'top',\r\n        '& a': {\r\n            padding: '4px 12px',\r\n            background: '#e9eaed',\r\n            border: '1px solid #ccd0d5',\r\n            cursor: 'pointer',\r\n        }\r\n    },\r\n    checkIcon: {\r\n        verticalAlign: 'sub',\r\n        '& svg': {\r\n            color: 'green',\r\n            width: '0.9em'\r\n        }\r\n    },\r\n    nameWrapper: {\r\n        display: 'inline-block'\r\n    },\r\n    friendName: {\r\n        color: '#385898',\r\n        cursor: 'pointer',\r\n        textDecoration: 'none',\r\n        fontWeight: '600',\r\n        fontSize: '14px',\r\n        marginLeft: '20px',\r\n        '&:hover': {\r\n            textDecoration: 'underline'\r\n        }\r\n    }\r\n})\r\n\r\nclass Friends extends Component {\r\n    render() {\r\n        const { classes } = this.props;\r\n        const { user } = this.props.auth;\r\n        const { friends } = this.props.profile;\r\n        const friendList = friends.map(friend => (\r\n            <li key={friend._id} className={classes.friendDetails}>\r\n                <div className={classes.friend}>\r\n                    <img src={friend.profileImage?`/${friend.profileImage}`:'/images/blank.png'} alt=\"\" />\r\n                    <div className={classes.friendWrapper}>\r\n                        <div className={classes.friendStatusWrapper} style={{ height: '35px' }}></div>\r\n                        <div className={classes.friendStatus}>\r\n                            <div className={classes.friendButton}>\r\n                                <a>\r\n                                    <span className={classes.checkIcon}>\r\n                                        <Icon>\r\n                                            <CheckIcon />\r\n                                        </Icon>\r\n                                    </span>\r\n                                    <span> Friends</span></a>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className={classes.nameWrapper}>\r\n                        <div className={classes.friendStatusWrapper} style={{ height: '35px' }}></div>\r\n                        <div className={classes.friendNameWrapper}>\r\n                            <Link className={classes.friendName} to={`/${friend.userName}`}>\r\n                                {friend.name}\r\n                            </Link>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </li>\r\n        ))\r\n        return (\r\n            <div className={classes.friends}>\r\n                <div className={classes.friendsHeader}>\r\n                    <h3 className={classes.headerContent}>\r\n                        <Icon>\r\n                            <PersonIcon className={classes.personsIcon} />\r\n                        </Icon>\r\n                        <Link to={`/${user.userName}/friends`}> Friends</Link>\r\n                    </h3>\r\n                </div>\r\n\r\n                <Grid container spacing={0}>\r\n                    <ul className={classes.friendsList}>\r\n                        {friendList}\r\n                    </ul>\r\n                </Grid>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth,\r\n    post: state.post,\r\n    profile: state.profile\r\n})\r\n\r\nexport default connect(mapStateToProps)(withStyles(useStyles)(withRouter(Friends)));\r\n","import React, { Component } from 'react';\r\nimport { withRouter, Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { withStyles } from '@material-ui/core';\r\nimport CameraIcon from '@material-ui/icons/CameraFront';\r\nimport Icon from '@material-ui/core/Icon';\r\nimport GridList from '@material-ui/core/GridList';\r\nimport GridListTile from '@material-ui/core/GridListTile';\r\nimport Photo from './photos/Photo';\r\n\r\nconst useStyles = theme => ({\r\n    photos: {\r\n        marginTop: theme.spacing(2),\r\n        background: '#fff',\r\n        border: '1px solid #ccd0d5',\r\n        borderRadius: '3px',\r\n        marginBottom: '10px'\r\n    },\r\n    photosHeader: {\r\n        background: '#f5f6f7',\r\n        borderBottom: '1px solid #d3d6db',\r\n        borderRadius: '2px 2px 0 0',\r\n        marginBottom: '15px',\r\n        paddingTop: '16px'\r\n    },\r\n    headerContent: {\r\n        fontSize: '20px',\r\n        fontWeight: 'bold',\r\n        height: '32px',\r\n        margin: '0 12px 5px',\r\n        lineHeight: 1,\r\n        '& a': {\r\n            color: '#4b4f56',\r\n            textDecoration: 'none',\r\n            verticalAlign: 'text-top'\r\n        }\r\n    },\r\n    cameraIcon: {\r\n        color: '#969292',\r\n    },\r\n    pictureGrid: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        justifyContent: 'space-around',\r\n        overflow: 'hidden',\r\n        backgroundColor: theme.palette.background.paper,\r\n    },\r\n    gridList: {\r\n        height: 450,\r\n        \"& img\": {\r\n            cursor: 'pointer'\r\n        },\r\n        \"& video\": {\r\n            cursor: 'pointer',\r\n            width:'100%',\r\n            height:'100%'\r\n        }\r\n    },\r\n})\r\n\r\nclass Photos extends Component {\r\n    constructor(){\r\n        super();\r\n        this.state={\r\n            openPhoto:false,\r\n            isImage:false,\r\n            imageDetails:null\r\n        }\r\n    }\r\n\r\n    onPhotoClick=(image)=>{\r\n        this.setState({\r\n            openPhoto:true,\r\n            imageDetails:image,\r\n            isImage:true\r\n        })\r\n    }\r\n    onVideoClick=(video)=>{\r\n        this.setState({\r\n            openPhoto:true,\r\n            imageDetails:video,\r\n            isImage:false\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n        const { user } = this.props.auth;\r\n        const { allPosts } = this.props.post;\r\n        const picturePost = allPosts.filter(post => post.images && post.images.length > 0)\r\n        .map(post => {\r\n            return post.images.map(image => {\r\n                return {\r\n                    _id: post._id,\r\n                    image: image.imageUrl,\r\n                    createdBy: post.createdBy,\r\n                    comments: post.comments,\r\n                    like: post.like,\r\n                    profileImage: post.profileImage,\r\n                    userName: post.userName\r\n                }\r\n            })\r\n        }).flat(1);\r\n        const videoPost = allPosts.filter(post => post.videos && post.videos.length > 0)\r\n        .map(post => {\r\n            return post.videos.map(image => {\r\n                return {\r\n                    _id: post._id,\r\n                    video: image.videoUrl,\r\n                    createdBy: post.createdBy,\r\n                    comments: post.comments,\r\n                    like: post.like,\r\n                    profileImage: post.profileImage,\r\n                    userName: post.userName\r\n                }\r\n            })\r\n        }).flat(1);\r\n        return (\r\n            <div className={classes.photos}>\r\n                <div className={classes.photosHeader}>\r\n                    <h3 className={classes.headerContent}>\r\n                        <Icon>\r\n                            <CameraIcon className={classes.cameraIcon} />\r\n                        </Icon>\r\n                        <Link to={`/${user.userName}/photos`}>Photos</Link>\r\n                    </h3>\r\n                </div>\r\n                <div className={classes.pictureGrid}>\r\n                    <GridList className={classes.gridList} cols={4}>\r\n                        {picturePost.map(post => (\r\n                            <GridListTile key={post._id} cols={1}>\r\n                                <img onError={(e) => { e.target.src='images/404.png' }} onClick={()=>this.onPhotoClick(post)} src={post.image} />\r\n                            </GridListTile>\r\n                        ))}\r\n                        {videoPost.map(post => (\r\n                            <GridListTile key={post._id} cols={1}>\r\n                                <video onError={(e) => { e.target.src='images/404.png' }} onClick={()=>this.onVideoClick(post)} src={post.video} />\r\n                            </GridListTile>\r\n                        ))}\r\n                    </GridList>\r\n                    {(this.state.openPhoto) \r\n                    ? <Photo \r\n                    isImage={this.state.isImage}\r\n                    openPhoto={this.state.openPhoto} \r\n                    imageDetails={this.state.imageDetails} \r\n                    onclose={()=>this.setState({openPhoto:false})} /> \r\n                    : null}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth,\r\n    post: state.post,\r\n    profile: state.profile\r\n})\r\n\r\nexport default connect(mapStateToProps)(withStyles(useStyles)(withRouter(Photos)));\r\n","import React, { Component } from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { Route, Link, withRouter } from 'react-router-dom';\r\nimport Popper from '@material-ui/core/Popper';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CameraIcon from '@material-ui/icons/Camera';\r\nimport Icon from '@material-ui/core/Icon';\r\nimport { connect } from 'react-redux';\r\nimport { uploadPhoto } from '../../actions/profileActions';\r\nimport { setTimeLineUser } from '../../actions/profileActions';\r\nimport { likePost, clearAllPosts } from '../../actions/postActions';\r\nimport TimeLine from './TimeLine';\r\nimport About from './About';\r\nimport Friends from './Friends';\r\nimport Photos from './Photos';\r\nimport axios from 'axios';\r\nimport * as constant from '../../common/constants/constant';\r\n\r\nconst useStyles = theme => ({\r\n    timeline: {\r\n        width: '85%',\r\n        marginLeft: '5%',\r\n        marginTop: '50px'\r\n    },\r\n    timeLineCover: {\r\n        borderRadius: '2px'\r\n    },\r\n    coverPhoto: {\r\n        width: '100%',\r\n        height: 'auto',\r\n        \"& > img\": {\r\n            width: '100%',\r\n            height: '400px',\r\n            border: '1px solid #888888',\r\n            boxShadow: '1px 1px #888888',\r\n        }\r\n    },\r\n    profilePicture: {\r\n        transform: 'translate(-35%,-80%)',\r\n        position: 'absolute',\r\n        left: '10%',\r\n        \"& img\": {\r\n            padding: theme.spacing(0.25, 0.25),\r\n            width: '200px',\r\n            height: '200px',\r\n            borderRadius: '50%',\r\n            border: '2px solid #fff',\r\n            background: '#fff',\r\n            zIndex: 100\r\n        }\r\n    },\r\n    uploadPhotoDiv: {\r\n        bottom: '10px',\r\n        left: '5px',\r\n        overflow: 'hidden',\r\n        width: '200px',\r\n        position: 'absolute',\r\n    },\r\n    updatePhoto: {\r\n        background: 'linear-gradient( transparent, rgba(0, 0, 0, .6) 0%, rgba(0, 0, 0, .6) 100% )',\r\n        width: '100%',\r\n        borderBottomLeftRadius: '90px',\r\n        borderBottomRightRadius: '90px',\r\n        height: '90px',\r\n        textAlign: 'center',\r\n        color: '#fff',\r\n        cursor: 'pointer',\r\n        transition: '0.3s'\r\n    },\r\n    uploadImageInput: {\r\n        display: 'none'\r\n    },\r\n    timeLineNav: {\r\n        paddingLeft: '30%',\r\n        borderRadius: 'none',\r\n        background: '#fff'\r\n    },\r\n    navList: {\r\n        margin: 0,\r\n        padding: 0,\r\n        display: 'flex',\r\n        listStyleType: 'none',\r\n        borderLeft: '1px solid #e9eaed',\r\n    },\r\n    listItem: {\r\n        borderRight: '1px solid #e9eaed',\r\n        height: '43px',\r\n        lineHeight: 3.05,\r\n        padding: '17px 17px',\r\n        position: 'relative',\r\n        verticalAlign: 'middle',\r\n        whiteSpace: 'nowrap',\r\n        color: '#385898',\r\n        cursor: 'pointer',\r\n        textDecoration: 'none',\r\n        fontSize: '16px',\r\n        fontWeight: 600\r\n    },\r\n    totalFriends: {\r\n        color: '#89919c',\r\n        fontSize: '11px',\r\n        fontWeight: 'normal',\r\n        paddingLeft: '6px',\r\n    },\r\n    pageDetails: {\r\n        marginTop: theme.spacing(2)\r\n    },\r\n    RightContent: {\r\n        marginLeft: '20px',\r\n        width: '120%'\r\n    },\r\n    photoGrid: {\r\n        marginTop: theme.spacing(2)\r\n    },\r\n    friendGrid: {\r\n        marginTop: theme.spacing(2)\r\n    },\r\n    actionContainer: {\r\n        width: '50%',\r\n        position: 'absolute'\r\n    },\r\n    interactingActions: {\r\n        position: 'absolute',\r\n        display: 'flex',\r\n        padding: '0px 12px',\r\n        bottom: '20px',\r\n        left: '30%',\r\n        \"& div a\": {\r\n            padding: '4px 16px',\r\n            background: '#e9eaed',\r\n            border: '1px solid #ccd0d5',\r\n            cursor: 'pointer'\r\n        }\r\n    },\r\n    otherActions: {\r\n        marginLeft: theme.spacing(1),\r\n        display: 'flex'\r\n    },\r\n    typography: {\r\n        padding: '8px 16px 4px 22px',\r\n        fontSize: '14px',\r\n    },\r\n    arrowFriend: {\r\n        content: \" \",\r\n        position: 'absolute',\r\n        left: '5%',\r\n        bottom: '100%',\r\n        borderWidth: '10px',\r\n        borderStyle: 'solid',\r\n        borderColor: 'transparent transparent white'\r\n    },\r\n    arrowFollow: {\r\n        content: \" \",\r\n        position: 'absolute',\r\n        right: '5%',\r\n        bottom: '100%',\r\n        borderWidth: '10px',\r\n        borderStyle: 'solid',\r\n        borderColor: 'transparent transparent white'\r\n    },\r\n    popperElement: {\r\n        zIndex: 50,\r\n        maxWidth: '300px',\r\n        minWidth: '192px',\r\n    },\r\n    popperContent: {\r\n        transform: 'translate3d(0, 11px, 0px)',\r\n        \"& p:hover\": {\r\n            color: '#fff',\r\n            background: '#385898',\r\n            cursor: 'pointer'\r\n        }\r\n    },\r\n    divider: {\r\n        borderBottom: '1px solid #ddd',\r\n        margin: '5px 7px 6px',\r\n        paddingTop: '1px'\r\n    },\r\n    postItems: {\r\n        marginTop: theme.spacing(5),\r\n        display: 'block',\r\n        width: '80%'\r\n    },\r\n    list: {\r\n        width: '100%',\r\n        maxWidth: 360,\r\n        backgroundColor: theme.palette.background.paper,\r\n    },\r\n    inline: {\r\n        display: 'inline',\r\n    },\r\n    post: {\r\n        width: '100%'\r\n    },\r\n    actionsResult: {\r\n        padding: theme.spacing(1, 0),\r\n        display: 'flex',\r\n        maxWidth: '100%',\r\n        backgroundColor: theme.palette.background.paper,\r\n    },\r\n    actionsResultItem: {\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        textAlign: 'center',\r\n        padding: 0,\r\n    },\r\n    actionsList: {\r\n        padding: theme.spacing(1, 2),\r\n        display: 'flex',\r\n        maxWidth: '100%',\r\n        backgroundColor: theme.palette.background.paper,\r\n        justifyContent: 'space-around'\r\n    },\r\n    actionItems: {\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        textAlign: 'center',\r\n        padding: theme.spacing(0, 2),\r\n        '&:hover': {\r\n            cursor: 'pointer'\r\n        }\r\n    },\r\n    actionIcons: {\r\n        margin: theme.spacing(-0.5, 0.5),\r\n        color: '#385898',\r\n    },\r\n    takeAction: {\r\n        margin: theme.spacing(-0.5, 0.5),\r\n        color: '#e9eaed'\r\n    },\r\n    likeResultIcon: {\r\n        margin: theme.spacing(-0.5, 0.5),\r\n    },\r\n    commentSection: {\r\n        marginTop: theme.spacing(1)\r\n    },\r\n    createComment: {\r\n        marginTop: theme.spacing(2)\r\n    },\r\n    comments: {\r\n        marginTop: theme.spacing(1)\r\n    },\r\n    divider: {\r\n        borderBottom: '1px solid #ddd',\r\n        margin: '5px 7px 6px',\r\n        paddingTop: '1px'\r\n    }\r\n});\r\n\r\nclass TimeLineContainer extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            isFriend: false,\r\n            isFollowing: false,\r\n            anchorE1: null,\r\n            anchorE2: null,\r\n            isUpload: false,\r\n            authUser: true,\r\n        }\r\n    }\r\n\r\n    handleFriendPopper = (event) => {\r\n        this.setState({\r\n            anchorE1: (this.state.anchorE1) ? null : event.currentTarget,\r\n            anchorE2: null\r\n        })\r\n    }\r\n\r\n    handleFollowPopper = (event) => {\r\n        this.setState({\r\n            anchorE2: (this.state.anchorE2) ? null : event.currentTarget,\r\n            anchorE1: null\r\n        })\r\n    }\r\n\r\n    handleMouseOutFriend = () => {\r\n        this.setState({ anchorE1: null, anchorE2: null })\r\n    }\r\n    handleMouseOutFollow = () => {\r\n        this.setState({ anchorE2: null, anchorE1: null })\r\n    }\r\n\r\n    uploadProfilePhoto = (event) => {\r\n        const { user } = this.props.auth;\r\n        const image = event.target.files[0];\r\n        const formData = new FormData();\r\n        formData.append('userId', user.id);\r\n        let fileStorageFolder = constant.IMAGEUPLOADSERVER;\r\n        if(process.env.NODE_ENV === 'production'){\r\n            fileStorageFolder = constant.IMAGEUPLOADS3\r\n        }\r\n        formData.append(fileStorageFolder, image);\r\n        this.props.uploadPhoto(formData, user.userName)\r\n\r\n    }\r\n\r\n    sendFriendRequest(event, userId, tlUserId) {\r\n        event.target.innerHTML = \"Friend Request Sent\";\r\n        axios.post('/sendfriendrequest', {\r\n            userId: userId,\r\n            tlUserId: tlUserId\r\n        })\r\n            .then(result => {\r\n                console.log(result);\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            })\r\n    }\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n        const { user } = this.props.auth;\r\n        const { timeLineUser } = this.props.profile;\r\n\r\n        var openFriend = Boolean(this.state.anchorE1);\r\n        var openFollow = Boolean(this.state.anchorE2);\r\n        const { friends } = this.props.profile;\r\n\r\n        let tlFriendStatus;\r\n        if (!timeLineUser.authUser && friends.length > 0) {\r\n            const friendStatus = friends.find(friend => friend.userName === user.userName);\r\n            tlFriendStatus = (friendStatus) ? friendStatus.status : -1;\r\n        }\r\n\r\n        return (\r\n            <div className={classes.timeline} >\r\n                <div className={classes.timeLineCover} >\r\n                    <div className={classes.coverPhoto} >\r\n                        <img src=\"images/Batman.jpg\" />\r\n                    </div>\r\n                    <div onMouseEnter={() => this.setState({ isUpload: true })}\r\n                        onMouseLeave={() => this.setState({ isUpload: false })} className={classes.profilePicture} >\r\n                        <a\r\n                            href=\"#\" >\r\n                            {(timeLineUser.profileImage) ? <img onError={(e) => { e.target.src = 'images/404.png' }} src={timeLineUser.profileImage} /> : <img src=\"images/blank.png\" />}\r\n                        </a>\r\n                        {(timeLineUser.authUser && this.state.isUpload) ? <div className={classes.uploadPhotoDiv}>\r\n                            <input onChange={this.uploadProfilePhoto} className={classes.uploadImageInput} id=\"icon-button-file\" type=\"file\" />\r\n                            <label htmlFor=\"icon-button-file\">\r\n                                <div className={classes.updatePhoto}>\r\n                                    <div className={classes.cameraIcon}>\r\n                                        <Icon><CameraIcon /></Icon>\r\n                                    </div>\r\n                                    Upload\r\n                            </div>\r\n                            </label>\r\n                        </div> : null}\r\n                    </div>\r\n                    <div className={classes.timeLineNav} >\r\n                        {(!timeLineUser.authUser) ?\r\n                            <div className={classes.actionContainer} >\r\n                                <div className={classes.interactingActions} >\r\n                                    <div >\r\n                                        {(tlFriendStatus && tlFriendStatus === 1) ?\r\n                                            <a onClick={this.handleFriendPopper}\r\n                                                variant=\"contained\"\r\n                                                color=\"default\" > Friends </a> :\r\n                                            (tlFriendStatus === 2) ?\r\n                                                <a variant=\"contained\"\r\n                                                    color=\"default\" >Friend Request Sent</a> :\r\n                                                <a onClick={(e) => this.sendFriendRequest(e, user.id, timeLineUser._id)} variant=\"contained\"\r\n                                                    color=\"default\" >Add Friend</a>\r\n                                        }\r\n                                        <Popper className={classes.popperElement}\r\n                                            anchorEl={this.state.anchorE1}\r\n                                            open={openFriend}\r\n                                            placement='bottom-start'\r\n                                            disablePortal={true}\r\n                                            modifiers={\r\n                                                {\r\n                                                    flip: {\r\n                                                        enabled: false,\r\n                                                    },\r\n                                                    preventOverflow: {\r\n                                                        enabled: false,\r\n                                                        boundariesElement: 'scrollParent',\r\n                                                    },\r\n                                                }\r\n                                            } >\r\n                                            <Paper className={classes.popperContent} >\r\n                                                <div className={classes.arrowFriend} > </div>\r\n                                                <Typography className={classes.typography} > Get Notifications </Typography>\r\n                                                <hr className={classes.divider} />\r\n                                                <Typography className={classes.typography} > Close Friends </Typography>\r\n                                                <hr className={classes.divider} />\r\n                                                <Typography className={classes.typography} > Unfriend </Typography>\r\n                                            </Paper>\r\n                                        </Popper>\r\n                                    </div>\r\n                                    <div className={classes.otherActions} >\r\n                                        <div> {\r\n                                            (this.state.isFollowing) ?\r\n                                                <a onClick={this.handleFollowPopper}\r\n                                                    variant=\"contained\"\r\n                                                    color=\"default\" > Following </a> :\r\n                                                <a variant=\"contained\"\r\n                                                    color=\"default\" > Follow </a>\r\n                                        }\r\n\r\n                                            <Popper className={classes.popperElement}\r\n                                                anchorEl={this.state.anchorE2}\r\n                                                open={openFollow}\r\n                                                placement='bottom-end'\r\n                                                disablePortal={true}\r\n                                                modifiers={\r\n                                                    {\r\n                                                        flip: {\r\n                                                            enabled: false,\r\n                                                        },\r\n                                                        preventOverflow: {\r\n                                                            enabled: false,\r\n                                                            boundariesElement: 'scrollParent',\r\n                                                        },\r\n                                                    }\r\n                                                } >\r\n                                                <Paper className={classes.popperContent} >\r\n                                                    <div className={classes.arrowFollow} > </div>\r\n                                                    <Typography className={classes.typography} > See First </Typography>\r\n                                                    <hr className={classes.divider} />\r\n                                                    <Typography className={classes.typography} > Default </Typography>\r\n                                                    <hr className={classes.divider} />\r\n                                                    <Typography className={classes.typography} > Unfollow </Typography>\r\n                                                </Paper>\r\n                                            </Popper>\r\n                                        </div>\r\n                                        <div>\r\n                                            <a variant=\"contained\"\r\n                                                color=\"default\" > Message </a>\r\n                                            <a variant=\"contained\"\r\n                                                color=\"default\" > ... </a>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div> :\r\n                            null}\r\n                        <ul className={classes.navList} >\r\n                            <li> < Link to={`/${timeLineUser.userName}`}\r\n                                className={classes.listItem} > TimeLine </Link></li >\r\n                            <li> <Link to={`/${timeLineUser.userName}/about`}\r\n                                className={classes.listItem} > About </Link></li >\r\n                            <li> <Link to={`/${timeLineUser.userName}/friends`}\r\n                                className={classes.listItem} > Friends <span className={classes.totalFriends} > {friends.length} </span></Link >\r\n                            </li>\r\n                            <li> <Link to={`/${timeLineUser.userName}/photos`}\r\n                                className={classes.listItem} > Photos </Link></li >\r\n                            <li> <Link to=\"#\"\r\n                                className={classes.listItem} > Archive </Link></li >\r\n                            <li> <Link to=\"#\"\r\n                                className={classes.listItem} > More </Link></li >\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n\r\n                <Route exact path={`/${timeLineUser.userName}/`} component={TimeLine} />\r\n                <Route exact path={`/${timeLineUser.userName}/about`} component={About} />\r\n                <Route exact path={`/${timeLineUser.userName}/friends`} component={Friends} />\r\n                <Route exact path={`/${timeLineUser.userName}/photos`} component={Photos} />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth,\r\n    post: state.post,\r\n    profile: state.profile\r\n})\r\n\r\nexport default connect(mapStateToProps, { uploadPhoto, setTimeLineUser, likePost, clearAllPosts })(withStyles(useStyles)(withRouter(TimeLineContainer)));","import React, { Component } from 'react';\r\nimport { withStyles } from '@material-ui/core';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Input from '@material-ui/core/Input';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { connect } from 'react-redux';\r\nimport axios from 'axios';\r\nimport { SEND_MESSAGE, PRIVATE_CHAT_MESSAGE } from '../../actions/Types';\r\n\r\nconst useStyles = theme => ({\r\n    chatBoxMain: {\r\n        position: 'fixed',\r\n        minWidth: \"20%\",\r\n        transform: \"translate(-100%)\",\r\n        bottom: 0\r\n    },\r\n    chatBox: {\r\n        padding: theme.spacing(3, 2),\r\n        height: '300px',\r\n        width: '100%',\r\n    },\r\n    topBar: {\r\n        padding: theme.spacing(1, 2),\r\n        display: 'flex',\r\n        width: '100%',\r\n        height: 'auto',\r\n        background: '#fff',\r\n        borderBottom: '1px solid #b2b9c9',\r\n        boxShadow: 'inset 2px 0 2px -2px #b2b9c9',\r\n        justifyContent: 'space-between'\r\n    },\r\n    userInfo: {\r\n        display: 'flex',\r\n        \"& img, & p\": {\r\n            padding: \"0 16px\"\r\n        }\r\n    },\r\n    close: {\r\n        cursor: 'pointer'\r\n    },\r\n    chatWindow: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        width: '100%',\r\n        height: '250px',\r\n        overflowY: 'scroll'\r\n    },\r\n    sendMessageFooter: {\r\n        width: '100%',\r\n        marginTop: theme.spacing(2),\r\n        borderTop: '1px solid #e9ebee',\r\n    },\r\n    msgLeft: {\r\n        position: 'relative',\r\n        minHeight: '10px',\r\n        marginBottom: '15%',\r\n        wordBreak: 'break-all',\r\n        textAlign: 'left',\r\n        maxWidth: '50%',\r\n        fontSize: '11px',\r\n        \"& p\": {\r\n            background: '#e2e2e2',\r\n            borderRadius: '45px',\r\n            padding: '0 16px',\r\n            fontSize: '15px',\r\n            lineHeight: '1.2em'\r\n        }\r\n    },\r\n    msgRight: {\r\n        position: 'relative',\r\n        minHeight: '10px',\r\n        wordBreak: 'break-all',\r\n        marginBottom: '15%',\r\n        marginLeft: '50%',\r\n        textAlign: 'left',\r\n        maxWidth: '50%',\r\n        color: '#fff',\r\n        fontSize: '11px',\r\n        \"& p\": {\r\n            background: '#2072f7',\r\n            borderRadius: '45px',\r\n            padding: '0 16px',\r\n            fontSize: '15px',\r\n            lineHeight: '1.2em'\r\n        }\r\n    }\r\n})\r\n\r\nclass ChatBox extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            open: false,\r\n            chatMessage: '',\r\n            allMessages: [],\r\n            socket: null\r\n        };\r\n        this.messagesEndRef = React.createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { socket } = this.props.auth;\r\n        this.setState({ socket: socket });\r\n        const { user } = this.props.auth;\r\n        const friend = this.props.friend.user;\r\n        this.scrollToBottom();\r\n        axios.post('/getchat', {\r\n            userId: user.id,\r\n            friendId: friend._id\r\n        })\r\n            .then(result => {\r\n                this.setState({ allMessages: result.data });\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            })\r\n    }\r\n\r\n    scrollToBottom = () => {\r\n        this.messagesEndRef.current.scrollIntoView({ behaviour: 'smooth' })\r\n    }\r\n\r\n    sendMessage = (event) => {\r\n        const { user } = this.props.auth;\r\n        const friend = this.props.friend.user;\r\n        const sender = user.id;\r\n        const reciever = friend._id;\r\n        if (event.key === 'Enter' && this.state.chatMessage.length > 0) {\r\n            axios.post('/sendmessage', {\r\n                message: this.state.chatMessage,\r\n                sender,\r\n                reciever\r\n            })\r\n                .then(res => {\r\n                    const result = res.data;\r\n                    // var updatedMessages = [...this.state.allMessages];\r\n                    // this.setState({ allMessages: updatedMessages.concat(result) });\r\n                    this.state.socket.emit('check-message', { sender, reciever, result });\r\n                })\r\n                .catch(err => {\r\n                    console.log(err);\r\n                });\r\n\r\n            this.setState({ chatMessage: '' });\r\n        }\r\n    }\r\n\r\n    componentWillUpdate(prevProps, prevState) {\r\n        const { user } = prevProps.auth;\r\n        const friend = prevProps.friend.user;\r\n\r\n        if (prevState.allMessages !== this.state.allMessages) {\r\n            this.state.socket.once(PRIVATE_CHAT_MESSAGE, result => {\r\n                var updatedMessages = [...this.state.allMessages];\r\n                this.setState({ allMessages: updatedMessages.concat(result) });\r\n            });\r\n            this.scrollToBottom();\r\n        }\r\n        if (this.props.friend.user !== prevProps.friend.user) {\r\n            axios.post('/getchat', {\r\n                userId: user.id,\r\n                friendId: friend._id\r\n            })\r\n                .then(result => {\r\n                    this.setState({ allMessages: result.data });\r\n                })\r\n                .catch(err => {\r\n                    console.log(err);\r\n                })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n        const { user } = this.props.friend;\r\n        const userId = this.props.auth.user.id;\r\n        let sortedMessages = (this.state.allMessages) ? this.state.allMessages.sort((a, b) => a.createdAt < b.createdAt ? -1 : 1) : [];\r\n\r\n        return (\r\n            <div className={classes.chatBoxMain}>\r\n                <div className={classes.topBar}>\r\n                    <div className={classes.userInfo}>\r\n                        <Avatar onError={(e) => { e.target.src = 'images/404.png' }} alt={user.name} src={(user.profileImage) ? user.profileImage : 'images/blank.png'} />\r\n                        <Typography component=\"p\">{user.name}</Typography>\r\n                    </div>\r\n                    <div><CloseIcon className={classes.close} onClick={this.props.click.bind(this)} /></div>\r\n                </div>\r\n                <Paper className={classes.chatBox}>\r\n                    <div className={classes.chatWindow}>\r\n                        {sortedMessages.map(message =>\r\n                            (message.from._id === userId) ?\r\n                                <div key={message._id} className={classes.msgRight}>\r\n                                    <Typography component=\"p\">{message.message}</Typography>\r\n                                </div> :\r\n                                <div key={message._id} className={classes.msgLeft}>\r\n                                    <Typography component=\"p\">{message.message}</Typography>\r\n                                </div>\r\n                        )}\r\n\r\n                        <div ref={this.messagesEndRef} />\r\n                    </div>\r\n                    <div className={classes.sendMessageFooter}>\r\n                        <Input className={classes.textBox}\r\n                            placeholder=\"Enter you message...\"\r\n                            fullWidth\r\n                            disableUnderline={true}\r\n                            onChange={(e) => this.setState({ chatMessage: e.target.value })}\r\n                            onKeyPress={this.sendMessage}\r\n                            value={this.state.chatMessage}\r\n                        />\r\n                    </div>\r\n                </Paper>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth,\r\n    profile: state.profile\r\n})\r\n\r\nexport default connect(mapStateToProps)(withStyles(useStyles)(ChatBox));\r\n","import React, { Component } from 'react';\r\nimport { withStyles } from '@material-ui/core';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport ChatBox from './ChatBox';\r\nimport axios from 'axios';\r\nimport { connect } from 'react-redux';\r\n\r\n\r\nconst useStyles = theme => ({\r\n    sideNav: {\r\n        position: 'fixed',\r\n        marginTop: '50px'\r\n    },\r\n    userList: {\r\n        width: \"100%\",\r\n        padding: theme.spacing(3, 2),\r\n        marginLeft: \"30%\",\r\n        borderLeft: '1px solid #6b6c70',\r\n        borderRadius: 0,\r\n        background: \"url('images/bgImage.png')\",\r\n        boxShadow: 'inset 2px 0 2px -2px #b2b9c9',\r\n        lineHeight: '16px',\r\n        height: '100vh'\r\n    },\r\n    contactsHeader: {\r\n        textAlign: 'left',\r\n        fontWeight: 'bold',\r\n        fontSize: '14px',\r\n        height: '16px',\r\n        color: '#4a4a4a',\r\n    },\r\n    online: {\r\n        color: 'green'\r\n    },\r\n});\r\n\r\nclass UserList extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            open: false,\r\n            friendsList: [],\r\n            friend: null\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const userId = this.props.auth.user.id;\r\n        axios.post('/getchatfriends', { userId: userId })\r\n            .then(result => {\r\n                this.setState({ friendsList: result.data })\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            })\r\n    }\r\n\r\n    openModal = (friend) => {\r\n        this.setState({ open: true, friend: friend });\r\n    }\r\n\r\n    closeModal = () => {\r\n        this.setState({ open: false })\r\n    }\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n        const { friendsList } = this.state;\r\n        return (\r\n            <div className={classes.sideNav}>\r\n                <Paper className={classes.userList}>\r\n                    <Typography className={classes.contactsHeader}>Contacts</Typography>\r\n                    <List component=\"nav\" aria-label=\"Secondary mailbox folders\">\r\n                        {(friendsList) ? friendsList.map(friend => (\r\n                            <ListItem key={friend.user._id} button onClick={() => this.openModal(friend)}>\r\n                                <ListItemAvatar>\r\n                                    <Avatar onError={(e) => { e.target.src = 'images/404.png' }} onError={(e) => { e.target.src='images/404.png' }} alt={friend.user.name} src={(friend.user.profileImage) ? friend.user.profileImage : 'images/blank.png'} />\r\n                                </ListItemAvatar>\r\n                                <ListItemText primary={friend.user.name} />\r\n                                {/* <Badge color=\"primary\" variant=\"dot\"></Badge> */}\r\n                            </ListItem>\r\n                        )) :\r\n                            null}\r\n\r\n                    </List>\r\n\r\n                </Paper>\r\n\r\n                {(this.state.open) ? <ChatBox friend={this.state.friend} click={this.closeModal} /> : null}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth\r\n})\r\n\r\nexport default connect(mapStateToProps)(withStyles(useStyles)(UserList));\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Navigation from '../../common/Navigation';\r\nimport TimeLineContainer from './TimeLineContainer';\r\nimport UserList from '../chat/UserList';\r\nimport { setTimeLineUser } from '../../actions/profileActions';\r\n\r\nclass TimeLinePage extends Component {\r\n  componentDidMount() {\r\n    const { isAuthenticated, user } = this.props.auth;\r\n    if (!isAuthenticated) {\r\n      this.props.history.replace('/auth');\r\n    }\r\n    else {\r\n      const userName = this.props.match.params.userName;\r\n      this.props.setTimeLineUser(userName, user.userName);\r\n    }\r\n  }\r\n  componentDidUpdate(prevProps) {\r\n    const { isAuthenticated, user } = this.props.auth;\r\n    if (isAuthenticated != prevProps.auth.isAuthenticated) {\r\n      if (!this.props.auth.isAuthenticated) {\r\n        this.props.history.replace('/auth');\r\n      }\r\n    }\r\n    else {\r\n      if (prevProps.match.params.userName != this.props.match.params.userName) {\r\n        const userName = this.props.match.params.userName;\r\n        this.props.setTimeLineUser(userName, user.userName);\r\n      }\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <Grid item xs={12}>\r\n          <Navigation />\r\n        </Grid>\r\n        <Grid item xs={9}>\r\n          <TimeLineContainer />\r\n        </Grid>\r\n        <Grid item xs={3}>\r\n          <UserList />\r\n        </Grid>\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  auth: state.auth,\r\n  post: state.post,\r\n  profile: state.profile\r\n})\r\n\r\nexport default connect(mapStateToProps,{setTimeLineUser})(TimeLinePage);\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core';\r\nimport Comments from './Comments';\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    expansion: {\r\n        padding: 0\r\n    }\r\n}));\r\n\r\nfunction CommentContainer(props) {\r\n    const { comments } = props;\r\n    const classes = useStyles();\r\n    const commentsInPanel = comments.map((comment, i) => {\r\n        if (i === 0) {\r\n            return <ExpansionPanelSummary\r\n                className={classes.expansion}\r\n                expandIcon={<ExpandMoreIcon />}\r\n                aria-controls=\"panel1c-content\"\r\n                id=\"panel1c-header\">\r\n                <Comments key={comment._id} comment={comment} />\r\n            </ExpansionPanelSummary>\r\n        }\r\n        else {\r\n            return <ExpansionPanelDetails className={classes.expansion}>\r\n                <Comments key={comment._id} comment={comment} />\r\n            </ExpansionPanelDetails>\r\n        }\r\n    });\r\n    return (\r\n        <ExpansionPanel>\r\n            {commentsInPanel}\r\n        </ExpansionPanel>\r\n    )\r\n}\r\n\r\nexport default CommentContainer;\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    wrapper: {\r\n        background: '#fff',\r\n        height: 'auto',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        marginTop: theme.spacing(5),\r\n        width: '80%',\r\n        justifyContent: 'space-around'\r\n    },\r\n\r\n    wrapperCell: {\r\n        display: 'flex',\r\n        padding: '10px'\r\n    },\r\n\r\n    // Animation\r\n    '@keyframes placeHolderShimmer': {\r\n        from: {\r\n            backgroundPosition: '-300px 0'\r\n        },\r\n        to: {\r\n            backgroundPosition: '300px 0'\r\n        }\r\n    },\r\n\r\n    animatedBackground: {\r\n        animationDuration: '1.25s',\r\n        animationFillMode: 'forwards',\r\n        animationIterationCount: 'infinite',\r\n        animationName: '$placeHolderShimmer',\r\n        animationTimingFunction: 'linear',\r\n        background: '#F6F6F6',\r\n        background: 'linear-gradient(to right, #c7d1c9 8%, #e6ebe7 18%, #dfe6e0 33%)',\r\n        backgroundSize: '800px 104px',\r\n        height: '96px',\r\n        position: 'relative',\r\n    },\r\n\r\n    // Page Elements\r\n    image: {\r\n        height: '50px',\r\n        width: '50px',\r\n        borderRadius: '50%',\r\n        margin: '10px 10px',\r\n        animationDuration: '1.25s',\r\n        animationFillMode: 'forwards',\r\n        animationIterationCount: 'infinite',\r\n        animationName: '$placeHolderShimmer',\r\n        animationTimingFunction: 'linear',\r\n        background: '#F6F6F6',\r\n        background: 'linear-gradient(to right, #c7d1c9 8%, #e6ebe7 18%, #dfe6e0 33%)',\r\n        backgroundSize: '800px 104px',\r\n        position: 'relative',\r\n    },\r\n\r\n    text: {\r\n        width: '100%'\r\n    },\r\n\r\n    textLine: {\r\n        height: '18px',\r\n        width: '90%',\r\n        //  background: #F6F6F6,\r\n        margin: '10px 10px',\r\n        animationDuration: '1.25s',\r\n        animationFillMode: 'forwards',\r\n        animationIterationCount: 'infinite',\r\n        animationName: '$placeHolderShimmer',\r\n        animationTimingFunction: 'linear',\r\n        background: '#F6F6F6',\r\n        background: 'linear-gradient(to right, #c7d1c9 8%, #e6ebe7 18%, #dfe6e0 33%)',\r\n        backgroundSize: '800px 104px',\r\n        position: 'relative',\r\n    }\r\n\r\n\r\n}))\r\n\r\nconst PresentationLoader = (props) => {\r\n    const classes = useStyles();\r\n    return (\r\n        <div className={classes.wrapper}>\r\n            <div className={classes.wrapperCell}>\r\n                <div className={classes.image}></div>\r\n                <div className={classes.text}>\r\n                    <div className={classes.textLine}></div>\r\n                    <div className={classes.textLine}></div>\r\n                    <div className={classes.textLine}></div>\r\n                </div>\r\n            </div>\r\n            <div className={classes.text}>\r\n                <div className={classes.textLine}></div>\r\n                <div className={classes.textLine}></div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PresentationLoader;\r\n","import React, { Component } from 'react';\r\nimport InfiniteScroll from 'react-infinite-scroll-component';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport SinglePost from './SinglePost';\r\nimport CommentContainer from './comments/CommentContainer';\r\nimport CreateComment from './comments/CreateComment';\r\nimport { connect } from 'react-redux';\r\nimport { getFeed, likePost, clearAllPosts } from '../../actions/postActions';\r\nimport PostActions from '../../common/PostActions';\r\nimport PresentationLoader from '../../common/PresentationLoader';\r\nimport PostActionResult from '../../common/PostActionResult';\r\n\r\nconst useStyles = theme => ({\r\n    root: {\r\n        marginTop: theme.spacing(5),\r\n        display: 'block',\r\n        width: '80%'\r\n    },\r\n    list: {\r\n        width: '100%',\r\n        maxWidth: 360,\r\n        backgroundColor: theme.palette.background.paper,\r\n    },\r\n    inline: {\r\n        display: 'inline',\r\n    },\r\n    post: {\r\n        width: '100%'\r\n    },\r\n    actionsResult: {\r\n        padding: theme.spacing(1, 0),\r\n        display: 'flex',\r\n        maxWidth: '100%',\r\n        backgroundColor: theme.palette.background.paper,\r\n    },\r\n    actionsResultItem: {\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        textAlign: 'center',\r\n        padding: 0,\r\n    },\r\n    actionsList: {\r\n        padding: theme.spacing(1, 2),\r\n        display: 'flex',\r\n        maxWidth: '100%',\r\n        backgroundColor: theme.palette.background.paper,\r\n        justifyContent: 'space-around'\r\n    },\r\n    actionItems: {\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        textAlign: 'center',\r\n        padding: theme.spacing(0, 2),\r\n        transition: 'all 0.5s',\r\n        '&:hover': {\r\n            cursor: 'pointer',\r\n            transform: 'scale(1.1)',\r\n            '& > *': {\r\n                color: '#385898',\r\n            }\r\n        },\r\n        '&:active': {\r\n            transform: 'scale(0.9)'\r\n        }\r\n    },\r\n    actionIcons: {\r\n        margin: theme.spacing(-0.5, 0.5),\r\n        color: '#385898'\r\n    },\r\n    takeAction: {\r\n        margin: theme.spacing(-0.5, 0.5),\r\n        color: '#e9eaed'\r\n    },\r\n    likeResultIcon: {\r\n        margin: theme.spacing(-0.5, 0.5),\r\n    },\r\n    commentSection: {\r\n        marginTop: theme.spacing(1)\r\n    },\r\n    createComment: {\r\n        marginTop: theme.spacing(2)\r\n    },\r\n    comments: {\r\n        marginTop: theme.spacing(1)\r\n    },\r\n    divider: {\r\n        borderBottom: '1px solid #ddd',\r\n        margin: '5px 7px 6px',\r\n        paddingTop: '1px'\r\n    }\r\n})\r\n\r\nclass Feed extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            start: 1,\r\n            count: 4\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.clearAllPosts();\r\n        const { start, count } = this.state;\r\n        const { id } = this.props.auth.user;\r\n        this.props.getFeed(id, start, count);\r\n    }\r\n\r\n    handleLike = (postId) => {\r\n        const { id } = this.props.auth.user;\r\n        this.props.likePost(postId, id);\r\n    }\r\n\r\n    fetchData = () => {\r\n        const { start, count } = this.state;\r\n        this.setState({ start: start + Math.ceil(count / 2) });\r\n        const { id } = this.props.auth.user;\r\n        this.props.getFeed(id, start + Math.ceil(count / 2), count); // total count 4 , 2 of user and 2 of friends\r\n    }\r\n\r\n    checkUserLike = (post, user) => {\r\n        return post.like && post.like.find(l => l.user === user.id);\r\n    }\r\n\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n        let { allPosts, hasMorePosts } = this.props.post;\r\n        const { user } = this.props.auth;\r\n\r\n        return (\r\n            <div>\r\n                <InfiniteScroll\r\n                    dataLength={allPosts.length}\r\n                    next={this.fetchData}\r\n                    hasMore={hasMorePosts}\r\n                    pullDownToRefresh={true}\r\n                    refreshFunction={this.fetchData}\r\n                    loader={<PresentationLoader />}>\r\n                    {\r\n                        (allPosts) ? allPosts.map(post => (\r\n                            <Paper key={post._id} className={classes.root}>\r\n                                <List className={classes.list}>\r\n                                    <ListItem alignItems=\"flex-start\">\r\n                                        <ListItemAvatar>\r\n                                            <Avatar onError={(e) => { e.target.src = 'images/404.png' }} alt=\"Remy Sharp\" src={(post.createdBy.profileImage) ? post.createdBy.profileImage : 'images/blank.png'} />\r\n                                        </ListItemAvatar>\r\n                                        <ListItemText\r\n                                            primary={post.createdBy.name}\r\n                                        />\r\n                                    </ListItem >\r\n                                </List>\r\n                                <SinglePost post={post} />\r\n                                <div className={classes.actionsResult}>\r\n                                    <PostActionResult\r\n                                        actionsResultItem={classes.actionsResultItem}\r\n                                        likeResultIcon={classes.likeResultIcon}\r\n                                        like={post.like} />\r\n                                </div>\r\n                                <hr className={classes.divider} />\r\n                                <div className={classes.actionsList}>\r\n\r\n                                    <PostActions\r\n                                        actionItems={classes.actionItems}\r\n                                        actionIcons={classes.actionIcons}\r\n                                        takeAction={classes.takeAction}\r\n                                        postId={post._id}\r\n                                        post={post}\r\n                                        user={user}\r\n                                        handleLike={this.handleLike}\r\n                                        checkUserLike={this.checkUserLike}\r\n                                    />\r\n                                </div>\r\n                                <hr className={classes.divider} />\r\n                                <div className={classes.commentSection}>\r\n                                    <div className={classes.createComment}>\r\n                                        <CreateComment postId={post._id} />\r\n                                    </div>\r\n                                    <div className={classes.comments}>\r\n                                        {(post.comments && post.comments.length > 0) ?\r\n                                            <CommentContainer comments={post.comments} />\r\n                                            :\r\n                                            <p>No comments to show</p>}\r\n                                    </div>\r\n                                </div>\r\n                            </Paper>\r\n                        )) :\r\n                            <PresentationLoader />\r\n                    }\r\n                </InfiniteScroll>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth,\r\n    post: state.post\r\n})\r\n\r\nexport default connect(mapStateToProps, { getFeed, likePost, clearAllPosts })(withStyles(useStyles)(Feed));\r\n","import React, { Component } from 'react'\r\n\r\nclass ErrorBoundary extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            hasError: false\r\n        }\r\n    }\r\n\r\n    componentDidCatch(error, errorInfo) {\r\n        this.setState({ hasError: true });\r\n    }\r\n\r\n    render() {\r\n        if (this.state.hasError) {\r\n            return (\r\n                <div>\r\n                    <h1>\r\n                        Some Error Has Occurred\r\n                    </h1>\r\n                </div>\r\n            )\r\n        }\r\n        return this.props.children;\r\n    }\r\n}\r\n\r\nexport default ErrorBoundary;\r\n","import React from 'react';\r\nimport CreatePost from './CreatePost';\r\nimport Feed from './Feed';\r\nimport { makeStyles } from '@material-ui/core';\r\nimport ErrorBoundary from '../../common/ErrorBoundary';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        marginTop: '80px',\r\n        minHeight: '100vh'\r\n    }\r\n}));\r\n\r\nfunction DashBoard() {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <ErrorBoundary>\r\n            <div className={classes.root} >\r\n                <CreatePost />\r\n                <Feed />\r\n            </div>\r\n        </ErrorBoundary>\r\n    )\r\n}\r\n\r\nexport default DashBoard;\r\n","import React, { Component } from 'react';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Navigation from '../common/Navigation';\r\nimport DashBoard from './posts/DashBoard';\r\nimport UserList from './chat/UserList';\r\n\r\nfunction HomePage() {\r\n  return (\r\n    <React.Fragment>\r\n      <Grid item xs={12}>\r\n        <Navigation />\r\n      </Grid>\r\n      <Grid item xs={3}>\r\n\r\n      </Grid>\r\n      <Grid item xs={6}>\r\n        <DashBoard />\r\n      </Grid>\r\n      <Grid item xs={2}>\r\n        <UserList />\r\n      </Grid>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default HomePage;\r\n","import React, { Component } from 'react';\r\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Auth from './components/auth/Auth';\r\nimport PrivateRoute from './utils/PrivateRoute';\r\nimport TimeLinePage from './components/timeline/TimeLinePage';\r\nimport HomePage from './components/HomePage';\r\n\r\nconst useStyles = theme => ({\r\n  root: {\r\n    background: \"url('/images/bgImage.png') fixed\",\r\n    height: '100%'\r\n  },\r\n});\r\n\r\nclass App extends Component {\r\n  render() {\r\n    const { classes } = this.props;\r\n    return (\r\n      <BrowserRouter>\r\n        <div className={classes.root}>\r\n          <Switch>\r\n            <Route path=\"/auth\" component={Auth} />\r\n            <Grid container>\r\n              <PrivateRoute path=\"/:userName\" component={TimeLinePage} />\r\n              <PrivateRoute exact path=\"/\" component={HomePage} />\r\n            </Grid>\r\n          </Switch>\r\n        </div>\r\n      </BrowserRouter>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(useStyles)(App);\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import { SET_AUTH_USER, SET_PROFILE_IMAGE, SOCKET_INIT } from '../actions/Types';\r\n\r\nconst initialState = {\r\n    isAuthenticated: false,\r\n    user: {},\r\n    socket: null\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_AUTH_USER:\r\n            return {\r\n                ...state,\r\n                isAuthenticated: !(Object.entries(action.payload).length === 0 && action.payload.constructor === Object),\r\n                user: action.payload\r\n            }\r\n\r\n        case SET_PROFILE_IMAGE:\r\n            const userUpdated = state.user;\r\n            userUpdated.profileImage = action.payload.profileImage\r\n            return {\r\n                ...state,\r\n                user: userUpdated\r\n            }\r\n\r\n        case SOCKET_INIT:\r\n            return {\r\n                ...state,\r\n                socket: action.payload\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default authReducer;","import { GET_FEED, SUBMIT_POST, GET_TIMELINE_FEED, CREATE_COMMENT, LIKE_COMMENT, CLEAR_POSTS } from '../actions/Types';\r\n\r\nconst initialState = {\r\n    allPosts: [],\r\n    timeLinePosts: [],\r\n    hasMorePosts: true\r\n}\r\n\r\nconst postReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case GET_FEED:\r\n            const allPosts = [...state.allPosts];\r\n            const { data, hasMorePosts } = action.payload;\r\n            return {\r\n                ...state,\r\n                allPosts: allPosts.concat(data),\r\n                hasMorePosts: hasMorePosts\r\n            }\r\n\r\n        case SUBMIT_POST:\r\n            return {\r\n                ...state,\r\n                allPosts: [action.payload, ...state.allPosts]\r\n            }\r\n\r\n        case GET_TIMELINE_FEED:\r\n            return {\r\n                ...state,\r\n                timeLinePosts: action.payload\r\n            }\r\n        case CREATE_COMMENT: {\r\n            const posts = [...state.allPosts];\r\n            const comment = action.payload;\r\n            posts.find(post => {\r\n                if (post._id === comment.post) {\r\n                    post.comments.push(comment)\r\n                }\r\n            })\r\n            return {\r\n                ...state,\r\n                allPosts: posts\r\n            }\r\n        }\r\n\r\n        case LIKE_COMMENT: {\r\n            const posts = [...state.allPosts];\r\n            posts.find(post => {\r\n                if (post._id === action.payload._id) {\r\n                    post.like = [...action.payload.like]\r\n                }\r\n            });\r\n            return {\r\n                ...state,\r\n                allPosts: posts\r\n            }\r\n\r\n        }\r\n\r\n        case CLEAR_POSTS: {\r\n            return {\r\n                ...state,\r\n                allPosts: action.payload\r\n            }\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default postReducer;\r\n","import {SET_TIMELINE_USER, GET_FRIENDS} from '../actions/Types';\r\n\r\nconst initialState={\r\n    timeLineUser:[],\r\n    friends:[],\r\n    socket:null\r\n}\r\n\r\nconst profileReducer=(state=initialState,action)=>{\r\n    switch(action.type){\r\n        case SET_TIMELINE_USER:\r\n            return{\r\n                ...state,\r\n                timeLineUser:action.payload\r\n            }\r\n\r\n        case GET_FRIENDS:\r\n            return{\r\n                ...state,\r\n                friends:action.payload\r\n            }\r\n\r\n        case 'SOCKET_CONNECT':\r\n            return{\r\n                ...state,\r\n                socket:action.payload\r\n            }\r\n\r\n        default: return state\r\n    }\r\n}\r\n\r\nexport default profileReducer;","import { GET_ERRORS, CLEAR_ERRORS } from '../actions/Types';\r\n\r\nconst initialState = {};\r\n\r\nconst errorReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case GET_ERRORS:\r\n            return action.payload;\r\n\r\n        case CLEAR_ERRORS:\r\n            return {}\r\n\r\n        default: return state;\r\n    }\r\n}\r\n\r\nexport default errorReducer;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { Provider } from 'react-redux';\r\nimport { createStore, applyMiddleware, combineReducers, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport jwt from 'jsonwebtoken';\r\nimport authReducer from './reducers/authReducer';\r\nimport postReducer from './reducers/postReducer';\r\nimport profileReducer from './reducers/profileReducer';\r\nimport errorReducer from './reducers/errorReducer';\r\nimport { setCurrentUser, logout, socketInit } from './actions/authActions';\r\n\r\n\r\nconst middleware = [thunk];\r\n\r\nconst rootReducer = combineReducers({\r\n    auth: authReducer,\r\n    post: postReducer,\r\n    profile: profileReducer,\r\n    error: errorReducer\r\n})\r\n\r\nconst initialState = {}\r\n\r\nconst store = createStore(\r\n    rootReducer,\r\n    initialState,\r\n    (process.env.NODE_ENV === 'production')\r\n        ? compose(\r\n            applyMiddleware(...middleware)\r\n        )\r\n        :\r\n        (window.__REDUX_DEVTOOLS_EXTENSION__)\r\n            ? compose(\r\n                applyMiddleware(...middleware),\r\n                window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n            )\r\n            : compose(\r\n                applyMiddleware(...middleware)\r\n            )\r\n)\r\n\r\nif (localStorage.getItem('token')) {\r\n    var token = localStorage.getItem('token');\r\n    try {\r\n        var decodedToken = jwt.verify(token.substring(7), 'secret');\r\n        store.dispatch(setCurrentUser(decodedToken));\r\n        store.dispatch(socketInit());\r\n    }\r\n    catch (error) {\r\n        store.dispatch(logout());\r\n        window.location.href = \"/auth\";\r\n    }\r\n}\r\n\r\nconst app = (\r\n    <Provider store={store}>\r\n        <App />\r\n    </Provider>\r\n)\r\n\r\nReactDOM.render(app, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}