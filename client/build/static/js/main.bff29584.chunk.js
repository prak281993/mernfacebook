(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{325:function(e,t,a){e.exports=a(533)},330:function(e,t,a){},354:function(e,t){},356:function(e,t){},370:function(e,t){},372:function(e,t){},400:function(e,t){},402:function(e,t){},403:function(e,t){},409:function(e,t){},411:function(e,t){},429:function(e,t){},432:function(e,t){},448:function(e,t){},451:function(e,t){},491:function(e,t){},533:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(18),i=a.n(o),l=(a(330),a(21)),c=a(22),s=a(24),p=a(23),m=a(26),d=a(61),u=a(5),g=a(598),h=a(7),f=a(576),b=a(13),E=a(14),x=a.n(E),v=a(125),y=a.n(v),k=function(e){e?(x.a.defaults.headers.common.Authorization=e,x.a.defaults.withCredentials=!0):delete x.a.defaults.headers.common.Authorization},N=a(286),O=a.n(N),I=function(e){return{type:"SET_AUTH_USER",payload:e}},j=function(){return{type:"SOCKET_INIT",payload:O()("/")}},w=function(){return function(e){localStorage.removeItem("token"),k(!1),e(I({}))}},C=a(578),S=a(601),T=Object(f.a)((function(e){return{topNavBar:{backgroundColor:"#3b5998",backgroundImage:"linear-gradient(#4e69a2, #3b5998 50%)",borderBottom:"1px solid #133783",minHeight:"42px",position:"relative",zIndex:1},menuBarContainer:{height:"82px",minWidth:"1100px"},loginNav:{display:"block",margin:"0 auto",width:"1100px"},floatLeft:{float:"left","& h1":{clip:"rect(1px, 1px, 1px, 1px)",height:"1px",left:"auto",whiteSpace:"nowrap",width:"1px",color:"#fff",fontSize:"36px"}},floatRight:{float:"right",paddingTop:"13px"},inputText:{borderColor:"#1d2a5b",margin:0,width:"180px",padding:"4px 8px","& input":{padding:"12px 10px"}},loginButton:{background:"#4267b2",borderColor:"#29487d",borderRadius:"2px",cursor:"pointer",display:"inline-block",fontSize:"12px",fontWeight:"bold",lineHeight:"18px",border:"1px solid #ccd0d5",padding:"4px 8px",marginTop:"2px",textAlign:"center",textDecoration:"none",textShadow:"none",verticalAlign:"top",whiteSpace:"nowrap","& input":{background:"none",border:0,cursor:"pointer",color:"#fff",display:"inline-block",fontWeight:"bold",lineHeight:"18px",marginTop:0,padding:0,whiteSpace:"nowrap"},"&:hover":{backgroundColor:"#365899",borderColor:"#29487d",textDecoration:"none"}},cssOutlinedInput:{"&$cssFocused $notchedOutline":{borderColor:"#000 !important"}},cssFocused:{color:""},textInput:{height:1,background:"#fff"}}}));var B=Object(b.b)((function(e){return{auth:e.auth,error:e.error}}),{login:function(e){return function(t){x.a.post("login",e).then((function(e){if(e.data.token){localStorage.setItem("token",e.data.token),k(e.data.token);var a=y.a.verify(e.data.token.substring(7),"secret");t(I(a)),t(j())}})).catch((function(e){var a={};Array.isArray(e.response.data)?e.response.data.map((function(e){e.nestedErrors?a[e.nestedErrors[0].param]=e.msg:a[e.param]=e.msg})):a=e.response.data,t({type:"GET_ERRORS",payload:a})}))}}})(Object(d.g)((function(e){var t=Object(n.useState)(""),a=Object(h.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)(""),c=Object(h.a)(l,2),s=c[0],p=c[1],m=T();return Object(n.useEffect)((function(){e.auth.isAuthenticated?e.history.replace("/"):e.history.replace("/auth")}),[e.auth.isAuthenticated]),r.a.createElement("div",{className:m.topNavBar},r.a.createElement("div",{className:m.menuBarContainer},r.a.createElement("div",{className:m.loginNav},r.a.createElement("div",{className:m.floatLeft},r.a.createElement("h1",null,"SocialConnect")),r.a.createElement("div",{className:m.floatRight},r.a.createElement(C.a,{disabled:!0,color:"#fff",error:null!==e.error,value:e.error.message||"",disableUnderline:!0,inputProps:{style:{color:"red"}}}),r.a.createElement(S.a,{className:m.inputText,margin:"normal",variant:"outlined",placeholder:"Email or Phone",error:!!e.error.contactInfo,helperText:e.error.contactInfo,onChange:function(e){return i(e.target.value)},InputProps:{classes:{root:m.cssOutlinedInput,focused:m.cssFocused,input:m.textInput}},type:"email",name:"email"}),r.a.createElement(S.a,{className:m.inputText,margin:"normal",variant:"outlined",placeholder:"Password",error:!!e.error.password,helperText:e.error.password,onChange:function(e){return p(e.target.value)},InputProps:{classes:{root:m.cssOutlinedInput,focused:m.cssFocused,input:m.textInput}},type:"password",name:"password"}),r.a.createElement("label",{htmlFor:"login",className:m.loginButton},r.a.createElement("input",{type:"submit",onClick:function(t){t.preventDefault();var a={contactInfo:o,password:s};e.login(a)},value:"Log In"}))))))}))),P=a(582),F=a(580),R=a(603),L=a(581);var A=function(e){var t=e.open,a=e.signupResponse,n=e.onClose,o=function(){n(!1)};return r.a.createElement(R.a,{onClose:o,"aria-labelledby":"simple-dialog-title",open:t},r.a.createElement(F.a,{id:"simple-dialog-title"},a),r.a.createElement(L.a,null,r.a.createElement(P.a,{autoFocus:!0,onClick:o,color:"primary"},"Ok")))},_=Object(f.a)((function(e){return{contentClearFix:{margin:0,outline:"none",padding:0,width:"auto"},gradient:{backgroundImage:"linear-gradient(white, #D3D8E8)",minWidth:"980px"},signupContent:{display:"block",margin:"0 auto",width:"980px"},left:{float:"left"},leftContent:{marginRight:"15px",width:"565","& img":{width:"537px",height:"195px"}},leftContentText:{color:"#0e385f",fontSize:"20px",fontWeight:"bold",lineHeight:"29px",marginTop:"40px",width:"450px",wordSpacing:"-1px"},right:{float:"right"},rightContent:{maxWidth:"400px"},rightContentText:{padding:"20px 0","& span":{fontSize:"36px",fontWeight:600}},fullNameContainer:{display:"flex"},cssOutlinedInput:{"&$cssFocused $notchedOutline":{borderColor:"#000 !important"}},notchedOutline:{borderWidth:"1px"},cssFocused:{color:""},dayOfDOB:{padding:"5px",height:"30px",border:"1px solid #ccd0d5","& option":{whiteSpace:"pre",minHeight:"1.2em",padding:"0px 2px 1px"}},birthdayText:{color:"#90949c",fontSize:"18px",fontWeight:"bold",marginTop:"10px",marginBottom:"5px"},genderText:{color:"#90949c",fontSize:"18px",fontWeight:"bold",marginTop:"10px",marginBottom:"5px"},gender:{"& span":{borderRadius:"4px",borderWidth:"1px",display:"inline-block",padding:"5px 0 5px 4px"},"& input[type='radio']":{margin:"3px 3px 0px 5px",boxSizing:"border-box",padding:"initial",border:"initial"}},signupButton:{marginTop:"5px",padding:"12px 48px",width:"50%",background:"linear-gradient(to right , rgba(19, 54, 131,.9),rgba(19, 54, 131,.9))",color:"#fff"}}}));function D(){var e=_(),t=Object(n.useState)(""),a=Object(h.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)(""),c=Object(h.a)(l,2),s=c[0],p=c[1],m=Object(n.useState)(""),d=Object(h.a)(m,2),u=d[0],g=d[1],f=Object(n.useState)(""),b=Object(h.a)(f,2),E=b[0],v=b[1],y=Object(n.useState)(""),k=Object(h.a)(y,2),N=k[0],O=k[1],I=Object(n.useState)(""),j=Object(h.a)(I,2),w=j[0],C=j[1],T=Object(n.useState)(""),B=Object(h.a)(T,2),F=B[0],R=B[1],L=Object(n.useState)(""),D=Object(h.a)(L,2),W=D[0],M=D[1],U=Object(n.useState)({}),z=Object(h.a)(U,2),H=z[0],G=z[1],q=Object(n.useState)(!1),K=Object(h.a)(q,2),$=K[0],J=K[1],V=Object(n.useState)(""),Y=Object(h.a)(V,2),X=Y[0],Z=Y[1],Q=Array.from(Array(31),(function(e,t){return t+1})),ee=Array.from(Array(100),(function(e,t){return new Date(Date.now()).getFullYear()-t})),te=function(){i(""),p(""),g(""),v(""),O(""),C(""),R(""),M("")};return r.a.createElement("div",{className:e.contentClearFix},r.a.createElement("div",{className:e.gradient},r.a.createElement("div",{className:e.signupContent},r.a.createElement("div",{className:e.left},r.a.createElement("div",{className:e.leftContent},r.a.createElement("div",{className:e.leftContentText},"SocialConnect helps you connect and share with the people in your life."),r.a.createElement("img",{src:"/images/socialconnect.jpg",alt:""}))),r.a.createElement("div",{className:e.right},r.a.createElement("div",{className:e.rightContent},r.a.createElement("div",{className:e.rightContentText},r.a.createElement("span",null,"Create an account")),r.a.createElement("div",{className:e.registrationContainer},r.a.createElement("div",{className:e.fullNameContainer},r.a.createElement(S.a,{id:"outlined-with-placeholder",label:"First Name",error:!!H.firstName,helperText:H.firstName,placeholder:"Enter First Name",className:e.textField,margin:"normal",variant:"outlined",name:"firstName",InputProps:{classes:{root:e.cssOutlinedInput,focused:e.cssFocused,notchedOutline:e.notchedOutline}},onChange:function(e){return i(e.target.value)},value:o}),r.a.createElement(S.a,{id:"outlined-with-placeholder",label:"Last Name",placeholder:"Enter Last Name",error:!!H.lastName,helperText:H.lastName,className:e.textField,margin:"normal",variant:"outlined",name:"lastName",InputProps:{classes:{root:e.cssOutlinedInput,focused:e.cssFocused,notchedOutline:e.notchedOutline}},onChange:function(e){return p(e.target.value)},value:s})),r.a.createElement(S.a,{id:"outlined-with-placeholder",label:"Contact info",placeholder:"Mobile number or email address",error:!!H.contactInfo,helperText:H.contactInfo,className:e.textField,margin:"normal",variant:"outlined",fullWidth:!0,name:"contactInfo",InputProps:{classes:{root:e.cssOutlinedInput,focused:e.cssFocused,notchedOutline:e.notchedOutline}},onChange:function(e){return g(e.target.value)},value:u}),r.a.createElement(S.a,{id:"outlined-with-placeholder",type:"password",label:"Password",placeholder:"Enter password",error:!!H.password,helperText:H.password,className:e.textField,margin:"normal",variant:"outlined",fullWidth:!0,name:"password",InputProps:{classes:{root:e.cssOutlinedInput,focused:e.cssFocused,notchedOutline:e.notchedOutline}},onChange:function(e){return v(e.target.value)},value:E}),r.a.createElement("div",{className:e.birthday},r.a.createElement("div",{className:e.birthdayText},"Birthday"),r.a.createElement("select",{className:e.dayOfDOB,name:"dayOfDOB",id:"",onChange:function(e){return O(e.target.value)}},r.a.createElement("option",{value:"0"},"Day"),Q.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)}))),r.a.createElement("select",{className:e.dayOfDOB,name:"monthOfDOB",id:"",onChange:function(e){return C(e.target.value)}},r.a.createElement("option",{value:"0"},"Month"),["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map((function(e,t){return r.a.createElement("option",{key:t,value:t+1},e)}))),r.a.createElement("select",{className:e.dayOfDOB,name:"yearofDOB",id:"",onChange:function(e){return R(e.target.value)}},r.a.createElement("option",{value:"0"},"Year"),ee.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)})))),r.a.createElement("div",{className:e.gender},r.a.createElement("div",{className:e.genderText},"Gender"),r.a.createElement("span",null,r.a.createElement("input",{type:"radio",name:"gender",value:"F",id:"femaleradio",onChange:function(e){return M(e.target.value)}}),r.a.createElement("label",{htmlFor:"femaleradio"},"Female")),r.a.createElement("span",null,r.a.createElement("input",{type:"radio",name:"gender",value:"M",id:"maleradio",onChange:function(e){return M(e.target.value)}}),r.a.createElement("label",{htmlFor:"maleradio"},"Male")),r.a.createElement("span",null,r.a.createElement("input",{type:"radio",name:"gender",value:"Ot",id:"otherRadio",onChange:function(e){return M(e.target.value)}}),r.a.createElement("label",{htmlFor:"femaleradio"},"Others"))))),r.a.createElement(P.a,{onClick:function(e){e.preventDefault();var t={firstName:o,lastName:s,contactInfo:u,password:E,dob:N+"/"+w+"/"+F,gender:W};x.a.post("/signup",t).then((function(e){te(),Z(e.data.message),J(!0)})).catch((function(e){var t={};e.response.data.message&&(te(),Z(e.response.data.message),J(!0)),e.response.data.length>0&&e.response.data.map((function(e){e.nestedErrors?t[e.nestedErrors[0].param]=e.msg:t[e.param]=e.msg})),G(t)}))},variant:"contained",className:e.signupButton},"Sign Up"),r.a.createElement(A,{open:$,signupResponse:X,onClose:function(){J(!1)}})))))}var W=Object(d.g)((function(){return r.a.createElement("div",null,r.a.createElement(B,null),r.a.createElement(D,null))})),M=Object(b.b)((function(e){return{auth:e.auth}}))((function(e){return r.a.createElement(d.b,Object.assign({},e,{render:function(){return e.auth.isAuthenticated?e.component:r.a.createElement(d.a,{to:"/auth"})}}))})),U=a(17),z=a(12),H=a(587),G=a(588),q=a(537),K=a(101),$=a(586),J=a(583),V=a(312),Y=a(289),X=a.n(Y),Z=a(186),Q=a.n(Z),ee=a(184),te=a.n(ee),ae=a(185),ne=a.n(ae),re=a(291),oe=a.n(re),ie=a(182),le=a.n(ie),ce=a(585),se=a(584),pe=a(500),me=Object(f.a)((function(e){return{dropDown:{position:"relative",display:"inline-block",width:"100%",zIndex:100},dropDownContent:{position:"absolute",background:"rgba(255, 255, 255, 0.95)",width:"100%","& a":{color:"black",background:"rgba(255, 255, 255, 0.95)",padding:"12px 16px",textDecoration:"none",display:"block",margin:"auto"}},inputRoot:{color:Object(z.c)(e.palette.common.black,1)},inputInput:Object(U.a)({padding:e.spacing(1,1,1,6),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:500})}}));var de=Object(b.b)((function(e){return{auth:e.auth}}))(Object(d.g)((function(e){var t=me(),a=Object(n.useState)(!1),o=Object(h.a)(a,2),i=o[0],l=o[1],c=Object(n.useState)([]),s=Object(h.a)(c,2),p=s[0],d=s[1],u=p?p.map((function(e,t){return r.a.createElement(m.b,{onClick:function(){return l(!1)},to:{pathname:"/"+e.userName},key:t},e.name)})):null;return r.a.createElement("div",{className:t.dropDown},r.a.createElement("div",null,r.a.createElement(C.a,{classes:{root:t.inputRoot,input:t.inputInput},placeholder:"Search...",disableUnderline:!0,onChange:function(e){var t={searchText:e.target.value};x.a.post("/getallusers",t).then((function(e){d(e.data)})).catch((function(e){console.log(e)}))},onFocus:function(){return l(!0)}})),i?r.a.createElement("div",{className:t.dropDownContent},u):null)}))),ue=a(183),ge=a.n(ue),he=a(589),fe=a(314),be=function(e){Object(s.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).handleFriendNotificationPopper=function(t,a){t.preventDefault(),e.state.anchorFriend?e.setState({anchorFriend:null}):(e.setState({anchorFriend:t.currentTarget}),x.a.post("/getfriendrequests",{userId:a}).then((function(t){e.setState({friendRequests:t.data})})).catch((function(e){console.log(e)})))},e.confirmFriend=function(t,a){t.preventDefault();var n=e.props.auth.user;x.a.post("/acceptfriend",{userId:n.id,tlUserId:a}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},e.state={anchorEl:null,mobileMoreAnchorEl:null,userName:"",anchorFriend:null,friendRequests:[]},e}return Object(c.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.props.auth.isAuthenticated!=e.auth.isAuthenticated&&(e.auth.isAuthenticated||this.props.history.replace("/auth"))}},{key:"componentDidMount",value:function(){var e=this,t=this.props.auth,a=t.isAuthenticated,n=t.user;a?(this.setState({userName:n.name.split(" ")[0]}),x.a.post("/getfriendrequests",{userId:n.id}).then((function(t){e.setState({friendRequests:t.data})})).catch((function(e){}))):this.props.history.replace("/auth")}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.props.auth.user,n=Boolean(this.state.anchorFriend),o=Boolean(this.state.anchorEl),i=Boolean(this.state.mobileMoreAnchorEl),l=function(t){e.setState({anchorEl:t.currentTarget})},c=function(){e.setState({mobileMoreAnchorEl:null})},s=function(){e.setState({anchorEl:null}),c()},p=this.state.friendRequests,m="primary-search-account-menu",d=r.a.createElement(V.a,{anchorEl:this.state.anchorEl,anchorOrigin:{vertical:"top",horizontal:"right"},id:m,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:o,onClose:s},r.a.createElement(J.a,{onClick:s},"Profile"),r.a.createElement(J.a,{onClick:s},"My account"),r.a.createElement(J.a,{onClick:function(t){t.preventDefault(),e.props.logout()}},"Logout")),u=r.a.createElement(V.a,{anchorEl:this.state.mobileMoreAnchorEl,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu-mobile",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:i,onClose:c},r.a.createElement(J.a,{onClick:function(){return e.props.history.push({pathname:"/"+a.userName,state:{user:a}})}},r.a.createElement(se.a,null,r.a.createElement(pe.a,{onError:function(e){e.target.src="images/404.png"},src:a.profileImage?a.profileImage:"images/blank.png"})),r.a.createElement(ce.a,{primary:this.state.userName})),r.a.createElement(J.a,{onClick:function(){return e.props.history.push("/")}},r.a.createElement(q.a,{"aria-label":"Show 4 new mails",color:"inherit"},r.a.createElement(le.a,null)),r.a.createElement("p",null,"Home")),r.a.createElement(J.a,null,r.a.createElement(q.a,{"aria-label":"Show friend requests",color:"inherit"},r.a.createElement($.a,{badgeContent:10,color:"secondary"},r.a.createElement(ge.a,null))),r.a.createElement("p",null,"Friend Requests")),r.a.createElement(J.a,null,r.a.createElement(q.a,{"aria-label":"Show new mails",color:"inherit"},r.a.createElement($.a,{badgeContent:4,color:"secondary"},r.a.createElement(te.a,null))),r.a.createElement("p",null,"Messages")),r.a.createElement(J.a,null,r.a.createElement(q.a,{"aria-label":"Show new notifications",color:"inherit"},r.a.createElement($.a,{badgeContent:11,color:"secondary"},r.a.createElement(ne.a,null))),r.a.createElement("p",null,"Notifications")),r.a.createElement(J.a,{onClick:l},r.a.createElement(q.a,{"aria-label":"Account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit"},r.a.createElement(Q.a,null)),r.a.createElement("p",null,"Profile")));return r.a.createElement("div",{className:t.grow},r.a.createElement(H.a,{className:t.headerBar,position:"fixed"},r.a.createElement(G.a,{className:t.appBar,style:{minHeight:"50px"}},r.a.createElement(K.a,{className:t.title,variant:"h6",noWrap:!0},"SocialConnect"),r.a.createElement("div",{className:t.search},r.a.createElement("div",{className:t.searchIcon},r.a.createElement(X.a,null)),r.a.createElement(de,null)),r.a.createElement("div",{className:t.sectionDesktop},r.a.createElement(J.a,{onClick:function(){return e.props.history.push({pathname:"/"+a.userName,state:{user:a}})}},r.a.createElement(se.a,null,r.a.createElement(pe.a,{onError:function(e){e.target.src="images/404.png"},src:a.profileImage?a.profileImage:"images/blank.png"})),r.a.createElement(ce.a,{primary:this.state.userName})),r.a.createElement(J.a,{onClick:function(){return e.props.history.push("/")}},r.a.createElement(q.a,{"aria-label":"Show 4 new mails",color:"inherit"},r.a.createElement(le.a,null)),r.a.createElement("p",null,"Home")),r.a.createElement(q.a,{onClick:function(t){return e.handleFriendNotificationPopper(t,a.id)},"aria-label":"Show friend requests",color:"inherit"},r.a.createElement($.a,{badgeContent:p.length,color:"secondary"},r.a.createElement(ge.a,null)),p?r.a.createElement(he.a,{className:t.popperElement,anchorEl:this.state.anchorFriend,open:n,placement:"bottom-end",disablePortal:!0,modifiers:{flip:{enabled:!1}}},r.a.createElement(fe.a,{className:t.popperContent},r.a.createElement("div",{className:t.arrowFriend}," "),p.map((function(a){return r.a.createElement(r.a.Fragment,{key:a.user._id},r.a.createElement("div",{className:t.friendInfo},r.a.createElement(se.a,null,r.a.createElement(pe.a,{onError:function(e){e.target.src="images/404.png"},alt:"Remy Sharp",src:a.user.profileImage?a.user.profileImage:"images/blank.png"})),r.a.createElement("div",{className:t.typography},r.a.createElement(K.a,null," ",a.user.name," ")),r.a.createElement("a",{onClick:function(t){return e.confirmFriend(t,a.user._id)},className:t.confirmButton},"Confirm"),r.a.createElement("a",{onClick:e.declineFriend,className:t.declineButton},"Decline")),r.a.createElement("hr",{className:t.divider}))})))):null),r.a.createElement(q.a,{"aria-label":"Show new mails",color:"inherit"},r.a.createElement($.a,{badgeContent:4,color:"secondary"},r.a.createElement(te.a,null))),r.a.createElement(q.a,{"aria-label":"Show new notifications",color:"inherit"},r.a.createElement($.a,{badgeContent:17,color:"secondary"},r.a.createElement(ne.a,null))),r.a.createElement(q.a,{edge:"end","aria-label":"Account of current user","aria-controls":m,"aria-haspopup":"true",onClick:l,color:"inherit"},r.a.createElement(Q.a,null))),r.a.createElement("div",{className:t.sectionMobile},r.a.createElement(q.a,{"aria-label":"Show more","aria-controls":"primary-search-account-menu-mobile","aria-haspopup":"true",onClick:function(t){e.setState({mobileMoreAnchorEl:t.currentTarget})},color:"inherit"},r.a.createElement(oe.a,null))))),u,d)}}]),a}(n.Component),Ee=Object(b.b)((function(e){return{auth:e.auth}}),{logout:w})(Object(u.a)((function(e){return{grow:{flexGrow:1},headerBar:{height:"55px"},appBar:{height:"50px"},menuButton:{marginRight:e.spacing(2)},title:Object(U.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(U.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(z.c)(e.palette.common.white,.95),"&:hover":{backgroundColor:e.palette.common.white},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("xs"),{marginLeft:e.spacing(3),width:"40%"}),searchIcon:{width:e.spacing(7),color:Object(z.c)(e.palette.common.black,.8),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:Object(z.c)(e.palette.common.black,1)},inputInput:Object(U.a)({padding:e.spacing(1,1,1,2),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:500}),sectionDesktop:Object(U.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(U.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"}),arrowFriend:{content:" ",position:"absolute",right:"5%",bottom:"100%",borderWidth:"10px",borderStyle:"solid",borderColor:"transparent transparent white"},popperElement:{zIndex:50,maxWidth:"600px",minWidth:"500px",overflow:"auto"},popperContent:{transform:"translate3d(0, 11px, 0px)",width:"100%","& p:hover":{color:"#385898",cursor:"pointer",textDecoration:"underline"}},friendInfo:{display:"flex"},typography:{width:"150px","& p":{textAlign:"left",padding:"8px 16px 4px 22px",fontSize:"14px"}},confirmButton:{width:e.spacing(3),marginTop:e.spacing(1),marginLeft:"15%",fontSize:"12px",fontWeight:"bold",justifyContent:"center",alignItems:"center",textAlign:"center",background:"#385898",color:"#fff",padding:"8px 32px 4px 16px"},declineButton:{marginTop:e.spacing(1),marginLeft:e.spacing(1),fontSize:"12px",fontWeight:"bold",justifyContent:"center",alignItems:"center",textAlign:"center",background:"#e9eaed",color:"#000",padding:"8px 16px 4px 16px"}}}))(Object(d.g)(be))),xe=a(305),ve=a.n(xe),ye=a(593),ke=a(28),Ne=function(e,t){return function(a){x.a.get("/getuser/"+e).then((function(n){var r=n.data[0],o={_id:r._id,name:r.name,userName:r.userName,profileImage:r.profileImage,authUser:e===t};a({type:"SET_TIMELINE_USER",payload:o});var i=Object(ke.a)(r.posts).map((function(e){return e.createdBy={_id:r._id,name:r.name,profileImage:r.profileImage,userName:r.userName},e})),l=r.friends.filter((function(e){return e.posts.length>0})).map((function(e){return e.posts.map((function(t){return t.createdBy={_id:e.user._id,name:e.user.name,profileImage:e.user.profileImage,userName:e.user.userName},t}))})).flat(1),c=[].concat(Object(ke.a)(i),Object(ke.a)(l));a({type:"GET_FEED",payload:{data:c,hasMorePosts:!!n.data.length}});var s=r.friends.map((function(e){if(e.user)return{_id:e.user._id,name:e.user.name,userName:e.user.userName,profileImage:e.user.profileImage,status:e.status}}));s=s[0]?s:[],a({type:"GET_FRIENDS",payload:s})})).catch((function(e){console.log(e)}))}},Oe=function(e,t,a){return function(n){x.a.post("/getfeed",{userId:e,start:t,count:a}).then((function(e){n({type:"GET_FEED",payload:{data:e.data,hasMorePosts:!!e.data.length}})})).catch((function(e){console.log(e)}))}},Ie=function(e,t){return function(a){x.a.post("/likepost",{postId:e,userId:t}).then((function(e){a({type:"LIKE_COMMENT",payload:e.data})})).catch((function(e){console.log(e)}))}},je=function(){return function(e){e({type:"CLEAR_POSTS",payload:[]})}},we=a(590),Ce=a(142),Se=a.n(Ce),Te=a(292),Be=a.n(Te),Pe=a(579),Fe=a(536),Re=Object(f.a)((function(e){return{userInfo:{padding:e.spacing(3,2)},header:{textAlign:"left"},addBio:{marginTop:e.spacing(1),"& p":{fontSize:"14px",opacity:.7},"& a":{textDecoration:"none",color:"#385898","&:hover":{textDecoration:"underline",cursor:"pointer"}}},infoDetails:{marginTop:e.spacing(1),"& ul":{alignItems:"left",textAlign:"left",listStyleType:"none",transform:"translateX(-10%)"},"& ul li a":{color:"#385898","&:hover":{cursor:"pointer",textDecoration:"underline"}}},createBio:{height:e.spacing(20)},bioInput:{height:e.spacing(15),overflow:"auto","&  textarea":{alignItems:"center",justifyContent:"center",textAlign:"center"}},bioButtons:{background:"#e9eaed"},button:{margin:e.spacing(.5),width:e.spacing(3),fontSize:"11px",fontWeight:"bold",justifyContent:"center",alignItems:"center",textAlign:"center"},titleBar:{"& ul,& ul li":{margin:0,padding:0},"& ul li span":{fontSize:"20px"}},aboutAvatar:{margin:10,color:"#fff",background:"#385898"},inline:{display:"inline"}}}));function Le(){var e=r.a.useState(!1),t=Object(h.a)(e,2),a=t[0],n=t[1],o=Re();return r.a.createElement("div",null,r.a.createElement(fe.a,{className:o.userInfo},r.a.createElement("div",{className:o.titleBar},r.a.createElement(Pe.a,null,r.a.createElement(Fe.a,null,r.a.createElement(pe.a,{className:o.aboutAvatar},r.a.createElement(Be.a,null)),r.a.createElement(ce.a,{primary:"About"})))),r.a.createElement("div",{className:o.addBio},a?r.a.createElement("div",null,r.a.createElement(fe.a,{className:o.createBio},r.a.createElement("div",null,r.a.createElement("div",{className:o.bioInput},r.a.createElement(C.a,{placeholder:"Write something about yourself",multiline:!0,fullWidth:!0,disableUnderline:!0})),r.a.createElement("div",{className:o.bioButtons},r.a.createElement(P.a,{variant:"contained",className:o.button,onClick:function(){return n(!1)}},"Cancel"),r.a.createElement(P.a,{variant:"contained",className:o.button,color:"primary"},"Save"))))):r.a.createElement("div",null,r.a.createElement(K.a,{component:"p"},"Add a short bio."),r.a.createElement("a",{onClick:function(){return n(!0)}},"Add Bio")),r.a.createElement(we.a,null)),r.a.createElement("div",{className:o.infoDetails},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("div",null,r.a.createElement(Se.a,null)," Working in ",r.a.createElement("a",null,"Tata Consultancy Services"))),r.a.createElement("li",null,r.a.createElement("div",null,r.a.createElement(Se.a,null)," Studied at ",r.a.createElement("a",null,"Shri Ram Murti Smarak College of Enginnering and Technology"))),r.a.createElement("li",null,r.a.createElement("div",null,r.a.createElement(Se.a,null)," Went to ",r.a.createElement("a",null,"St. Lawrence School")))))))}var Ae=a(298),_e=a.n(Ae),De=a(604),We=a(296),Me=a.n(We),Ue=a(297),ze=a.n(Ue),He=a(591),Ge=a(592),qe=a(295),Ke=a.n(qe),$e=a(15),Je=a(187),Ve=a(313),Ye=Object(f.a)((function(e){return{tag:{display:"flex"},with:{background:"#e9eaed",textAlign:"center",padding:"8px 6px 6px 8px"},container:{flexGrow:1,position:"relative"},paper:{position:"absolute",zIndex:1,marginTop:e.spacing(1),left:0,right:0},chip:{margin:e.spacing(.5,.25)},inputRoot:{flexWrap:"wrap"},inputInput:{width:"auto",flexGrow:1}}}));function Xe(e){var t=e.classes,a=r.a.useState(""),n=Object(h.a)(a,2),o=n[0],i=n[1],l=r.a.useState([]),c=Object(h.a)(l,2),s=c[0],p=c[1],m=r.a.useState([]),d=Object(h.a)(m,2),u=d[0],g=d[1];function f(e){s.length&&!o.length&&"Backspace"===e.key&&p(s.slice(0,s.length-1))}var b=function(e){return function(){var t=Object(ke.a)(s);t.splice(t.indexOf(e.id),1),p(t)}};return e.selected(s),r.a.createElement(Ve.a,{id:"downshift-multiple",inputValue:o,onChange:function(e){var t=Object(ke.a)(s);-1===t.indexOf(e.id)&&(t=[].concat(Object(ke.a)(t),[e])),i(""),p(t)},selectedItem:s},(function(a){var n=a.getInputProps,o=a.getItemProps,l=a.getLabelProps,c=a.isOpen,p=a.inputValue,m=a.selectedItem,d=a.highlightedIndex,h=n({onKeyDown:f,placeholder:"Who are you with?"}),E=h.onBlur,v=h.onChange,y=h.onFocus,k=Object(Je.a)(h,["onBlur","onChange","onFocus"]);return r.a.createElement("div",{className:t.container},function(e){var t=e.InputProps,a=e.classes,n=e.ref,o=Object(Je.a)(e,["InputProps","classes","ref"]);return r.a.createElement(S.a,Object.assign({InputProps:Object($e.a)({inputRef:n,classes:{root:a.inputRoot,input:a.inputInput}},t)},o))}({fullWidth:!0,classes:t,InputLabelProps:l(),InputProps:{startAdornment:s.map((function(e){return r.a.createElement(De.a,{key:e.id,tabIndex:-1,label:e.name,className:t.chip,onDelete:b(e)})})),onBlur:E,onChange:function(t){!function(t){var a=e.auth.user;i(t.target.value);var n={userId:a.id,searchText:t.target.value};x.a.post("/getfriends",n).then((function(e){g(e.data)})).catch((function(e){console.log(e)}))}(t),v(t)},onFocus:y},inputProps:k}),c?r.a.createElement(fe.a,{className:t.paper,square:!0},function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=a.showEmpty,r=void 0!==n&&n,o=e.trim().toLowerCase(),i=o.length,l=0;return 0!==i||r?t.filter((function(e){var t=l<5&&e.user.name.slice(0,i).toLowerCase()===o;return t&&(l+=1),t})):[]}(p,u).map((function(e,t){return function(e){var t=e.suggestion,a=e.index,n=e.itemProps,o=e.highlightedIndex===a,i=(e.selectedItem||"").indexOf(t.user._id)>-1;return r.a.createElement(J.a,Object.assign({},n,{key:t.user._id,selected:o,component:"div",style:{fontWeight:i?500:400},value:t.user._id}),t.user.name)}({suggestion:e,index:t,itemProps:o({item:{name:e.user.name,id:e.user._id}}),highlightedIndex:d,selectedItem:m})}))):null)}))}var Ze=Object(b.b)((function(e){return{auth:e.auth}}))((function(e){var t=Ye();return r.a.createElement("div",{className:t.tag},r.a.createElement("div",{className:t.with},"With"),r.a.createElement("div",null,r.a.createElement(Xe,{selected:e.taggedFriends,auth:e.auth,classes:t})))})),Qe=(a(501),a(311)),et=Object(f.a)((function(e){return{root:{display:"block",width:"80%"},postHeader:{padding:e.spacing(0,2),height:e.spacing(4),textAlign:"left",background:"#f5f6f7",borderRadius:"4px",lineHeight:"2rem"},paper:{padding:e.spacing(3,2),position:"relative"},footer:{display:"flex",justifyContent:"space-around"},chip:{marginTop:e.spacing(2),background:"#e9eaed",fontWeight:"bold",color:"#385898",height:e.spacing(5),transition:"0.5s all","&:hover":{cursor:"pointer",background:"#c4c5c7"}},postButton:{width:"50%",marginTop:e.spacing(2)},postIcon:{marginLeft:e.spacing(2),transition:"0.5s all"},input:{display:"none"},card:{width:"100%"},media_image:{paddingTop:"56.25%",backgroundPosition:"initial"},media_video:{width:"inherit","& video":{width:"inherit"}},imagePreviewBox:{display:"flex",width:"100%",padding:"8px 8px",overflowX:"auto"},imageBox:{minWidth:"100px",minHeight:"100px",marginLeft:"10px",maxWidth:"100px",maxHeight:"100px","& img":{width:"100%",height:"100%"},"& video":{width:"100%",height:"100%"}},uploadImageBox:{minWidth:"100px",minHeight:"100px",background:"#fff",border:"2px dashed #e9eaed",marginLeft:"10px",maxWidth:"100px",maxHeight:"100px","&:hover":{cursor:"pointer",background:"#e9eaed"},"& span svg":{marginTop:"50%",marginLeft:"50%",transform:"translate(-50%,-50%)"}},firstDivider:{marginTop:"24px",lineHeight:"1px"},secondDivider:{marginTop:"8px",lineHeight:"1px"},emojiPicker:{position:"absolute",zIndex:1e3,marginTop:"10px"}}}));var tt=Object(b.b)((function(e){return{auth:e.auth,post:e.post}}),{submitPost:function(e){return function(t){x.a.post("/submitpost",e).then((function(e){if(e.data.videos.length>0){var a={postId:e.data._id};x.a.post("/updatethumbnail",a).then((function(){x.a.post("/getpost",{postId:e.data._id}).then((function(e){t({type:"SUBMIT_POST",payload:e.data})}))}))}else t({type:"SUBMIT_POST",payload:e.data})})).catch((function(e){console.log(e)}))}}})((function(e){var t=et(),a=Object(n.useState)(""),o=Object(h.a)(a,2),i=o[0],l=o[1],c=Object(n.useState)([]),s=Object(h.a)(c,2),p=s[0],m=s[1],d=Object(n.useState)(null),u=Object(h.a)(d,2),g=u[0],f=u[1],b=Object(n.useState)(null),E=Object(h.a)(b,2),x=E[0],v=E[1],y=Object(n.useState)(""),k=Object(h.a)(y,2),N=k[0],O=k[1],I=Object(n.useState)([]),j=Object(h.a)(I,2),w=j[0],S=j[1],T=Object(n.useState)([]),B=Object(h.a)(T,2),F=B[0],R=B[1],L=Object(n.useState)(!1),A=Object(h.a)(L,2),_=A[0],D=A[1],W=Object(n.useState)([]),M=Object(h.a)(W,2),U=M[0],z=M[1],H=Object(n.useState)(""),G=Object(h.a)(H,2),q=(G[0],G[1],Object(n.useState)(!1)),K=Object(h.a)(q,2),$=K[0],J=K[1],V=function(e){var t=e.target.files[0];if(t){var a,n=t.type,r=Object(ke.a)(p);if(r.push(t),m(r),n.includes("image"))(a=new FileReader).readAsDataURL(t),a.onloadend=function(e){v(null),f(a.result),O(t.name);var n={imageSrc:a.result,name:t.name},r=Object(ke.a)(w);r.unshift(n),S(r)};if(n.includes("video"))(a=new FileReader).readAsDataURL(t),a.onloadend=function(e){f(null),v(a.result);var n={videoSrc:a.result,name:t.name},r=Object(ke.a)(F);r.unshift(n),R(r)}}};return r.a.createElement("div",{className:t.root},r.a.createElement("div",{className:t.postHeader},"Create Post"),r.a.createElement(fe.a,{className:t.paper},r.a.createElement(C.a,{placeholder:"Write something here...",multiline:!0,fullWidth:!0,disableUnderline:!0,onChange:function(e){return l(e.target.value)},value:i}),null!=g?r.a.createElement(He.a,{className:t.card},r.a.createElement(Ge.a,{className:t.media_image,image:g,title:N})):null,null!=x?r.a.createElement(He.a,{className:t.card},r.a.createElement(Ge.a,{className:t.media_video},r.a.createElement("video",{src:x,controls:!0}))):null,_?r.a.createElement(we.a,{className:t.firstDivider}):null,_?r.a.createElement(Ze,{taggedFriends:function(e){z(e)}}):null,r.a.createElement(we.a,{className:t.secondDivider}),w.length>0?r.a.createElement("div",{className:t.imagePreviewBox},w.map((function(e,a){return r.a.createElement("div",{key:a,className:t.imageBox},r.a.createElement("img",{src:e.imageSrc,alt:e.name}))})),F.map((function(e,a){return r.a.createElement("div",{key:a,className:t.imageBox},r.a.createElement("video",{src:e.videoSrc}))})),r.a.createElement("input",{onChange:V,className:t.input,id:"icon-button-file",type:"file"}),r.a.createElement("label",{htmlFor:"icon-button-file"},r.a.createElement("div",{className:t.uploadImageBox},r.a.createElement(ye.a,null,r.a.createElement(Ke.a,null))))):null,r.a.createElement("div",{className:t.footer},r.a.createElement("input",{onChange:V,className:t.input,id:"icon-button-file",type:"file"}),r.a.createElement("label",{htmlFor:"icon-button-file"},r.a.createElement(De.a,{icon:r.a.createElement(Me.a,null),label:"Upload File",color:"primary",className:t.chip})),r.a.createElement("label",{onClick:function(){return D(!_)},htmlFor:""},r.a.createElement(De.a,{icon:r.a.createElement(ze.a,null),label:"Tag Friends",color:"primary",className:t.chip})),r.a.createElement("label",null,r.a.createElement(De.a,{onClick:function(){return J(!$)},htmlFor:"",label:"\ud83d\ude00",color:"primary",className:t.chip}),$?r.a.createElement(Qe.a,{style:{position:"absolute",zIndex:1e3,transform:"translate(-50%,20%)"},onSelect:function(e){return function(e){var t=e.native,a=i?"".concat(i).concat(t):t;l(a)}(e)}}):null),r.a.createElement(P.a,{disabled:!(i||p.length>0),onClick:function(t){t.preventDefault();var a=e.auth.user,n=U?U.map((function(e){return e.id})):null,r=new FormData;r.append("postText",i);var o="images";o="fileImages",p.map((function(e){r.append(o,e)})),r.append("userId",a.id),r.append("taggedFriends",JSON.stringify(n)),e.submitPost(r),f(null),v(null),m([]),l(""),D(!1),z([]),O(""),S([]),R([])},className:t.postButton,variant:"contained",color:"primary"},"Post",r.a.createElement(_e.a,{className:t.postIcon})))))})),at=a(595),nt=a(596),rt=a(299),ot=a.n(rt),it=a(594),lt=Object(f.a)((function(e){return{commentSection:{display:"flex",padding:"12px 16px 8px 8px"},commentBox:{width:"100%",padding:"4px 20px",border:"1px solid #ccc",borderRadius:"25px"}}}));var ct=Object(b.b)((function(e){return{auth:e.auth}}),(function(e){return{onCreateComment:function(t,a,n){return e(function(e,t,a){return function(n){x.a.post("/createcomment",{userId:e,postId:t,text:a}).then((function(e){n({type:"CREATE_COMMENT",payload:e.data[0]})})).catch((function(e){console.log(e)}))}}(t,a,n))}}}))((function(e){var t=lt(),a=e.auth.user,o=e.postId,i=Object(n.useState)(""),l=Object(h.a)(i,2),c=l[0],s=l[1];return r.a.createElement("div",{className:t.commentSection},r.a.createElement("div",null,r.a.createElement(se.a,null,r.a.createElement(pe.a,{alt:"Remy Sharp",src:a.profileImage}))),r.a.createElement("div",{className:t.commentBox},r.a.createElement(C.a,{fullWidth:!0,placeholder:"Write a comment...",disableUnderline:!0,onChange:function(e){return s(e.target.value)},onKeyPress:function(t){return function(t){"Enter"===t.key&&(s(""),e.onCreateComment(a.id,o,c))}(t)},value:c})))})),st=Object(f.a)((function(e){return{commentSection:{padding:"0 8px"},message:{display:"flex",width:"100%",position:"relative",minHeight:"10px",wordBreak:"break-all",textAlign:"left",fontSize:"11px"},messageBody:{width:"100%",padding:"4px","& p a":{color:"#385898",fontWeight:"bold","&:hover":{cursor:"pointer",textDecoration:"underline"}},"& p":{background:"#f2f3f5",borderRadius:"45px",padding:"8px 16px",fontSize:"15px",lineHeight:"1.2em"}},actionsList:{padding:e.spacing(0,2),display:"flex",maxWidth:"100%","& a":{color:"#385898",fontSize:"14px",padding:"0 4px","&:hover":{cursor:"pointer",textDecoration:"underline"}}}}}));function pt(e){var t=st(),a=e.comment;return r.a.createElement("div",null,r.a.createElement("div",{className:t.commentSection},r.a.createElement("div",{className:t.message},r.a.createElement(se.a,null,r.a.createElement(pe.a,{onError:function(e){e.target.src="images/404.png"},alt:a.from.name,src:a.from.profileImage?a.from.profileImage:"images/blank.png"})),r.a.createElement("div",{className:t.messageBody},r.a.createElement(K.a,{component:"p"},r.a.createElement("a",null,a.from.name)," ",a.text),r.a.createElement("div",{className:t.actionsList},r.a.createElement("a",null,"Like"),r.a.createElement("a",null,"Reply"))))))}var mt=a(123),dt=a.n(mt),ut=a(66),gt=a.n(ut),ht=a(177),ft=a.n(ht),bt=function(e){Object(s.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props,t=e.actionItems,a=e.actionIcons,o=e.takeAction,i=e.postId,l=e.post,c=e.user,s=e.handleLike,p=e.checkUserLike;return r.a.createElement(n.Fragment,null,r.a.createElement(K.a,{onClick:function(){return s(i)},className:t},r.a.createElement(gt.a,{className:p(l,c)?a:o}),p(l,c)?"Unlike":"Like"),r.a.createElement(K.a,{className:t},r.a.createElement(dt.a,{className:a}),"Comment"),r.a.createElement(K.a,{className:t},r.a.createElement(ft.a,{className:a}),"Share"))}}]),a}(n.Component),Et=function(e){var t=e.actionsResultItem,a=e.likeResultIcon,o=e.like;return r.a.createElement(n.Fragment,null,r.a.createElement(K.a,{className:t},r.a.createElement(gt.a,{className:a,color:"primary"})),r.a.createElement(K.a,{className:t},o?o.length:0))},xt=Object(f.a)((function(e){return{imageDetails:{width:"1200px",display:"flex",overflow:"hidden"},imageHolder:{width:"65%",background:"black",height:"inherit",display:"block"},image:{width:"100%",height:"100%"},list:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},aboutImage:{width:"35%",overflow:"auto"},actionsList:{padding:e.spacing(1,2),display:"flex",maxWidth:"100%",backgroundColor:e.palette.background.paper,justifyContent:"space-around"},actionItems:{justifyContent:"center",alignItems:"center",textAlign:"center",padding:e.spacing(0,2),transition:"all 0.5s","&:hover":{cursor:"pointer",transform:"scale(1.1)","& > *":{color:"#385898"}},"&:active":{transform:"scale(0.9)"}},actionIcons:{margin:e.spacing(-.5,.5),color:"#385898"},takeAction:{margin:e.spacing(-.5,.5),color:"#e9eaed"},actionsResult:{padding:e.spacing(1,0),display:"flex",maxWidth:"100%",backgroundColor:e.palette.background.paper},actionsResultItem:{justifyContent:"center",alignItems:"center",textAlign:"center",padding:0},divider:{borderBottom:"1px solid #ddd",margin:"5px 7px 6px",paddingTop:"1px"},likeResultIcon:{margin:e.spacing(-.5,.5)}}})),vt=Object(b.b)((function(e){return{auth:e.auth}}),{likePost:Ie})((function(e){var t=xt(),a=r.a.useState(!1),n=Object(h.a)(a,2),o=n[0],i=n[1],l=r.a.useState(null),c=Object(h.a)(l,2),s=c[0],p=c[1],m=r.a.useState(""),d=Object(h.a)(m,2),u=d[0],g=d[1],f=e.imageDetails,b=e.openPhoto,E=e.isImage,x=e.auth.user;r.a.useEffect((function(){o!==b&&(i(b),p(f.image),g(f.createdBy.name))}));return r.a.createElement("div",null,r.a.createElement(R.a,{maxWidth:"xl",open:o,onClose:function(){i(!1),e.onclose()}},r.a.createElement("div",{className:t.imageDetails},r.a.createElement("div",{className:t.imageHolder},E?r.a.createElement("img",{className:t.image,src:s}):r.a.createElement("video",{className:t.image,src:s,controls:!0})),r.a.createElement("div",{className:t.aboutImage},r.a.createElement(Fe.a,{alignItems:"flex-start"},r.a.createElement(se.a,null,r.a.createElement(pe.a,{onError:function(e){e.target.src="images/404.png"},alt:f.createdBy.name,src:f.createdBy.profileImage?f.createdBy.profileImage:"images/blank.png"})),r.a.createElement(ce.a,{primary:u})),r.a.createElement("div",{className:t.actionsResult},r.a.createElement(Et,{actionsResultItem:t.actionsResultItem,likeResultIcon:t.likeResultIcon,like:f.like})),r.a.createElement("hr",{className:t.divider}),r.a.createElement(fe.a,{className:t.actionsList},r.a.createElement(bt,{actionItems:t.actionItems,actionIcons:t.actionIcons,takeAction:t.takeAction,postId:f._id,post:f,user:x,handleLike:function(t){var a=e.auth.user.id;e.likePost(t,a)},checkUserLike:function(e,t){return e.like&&e.like.find((function(e){return e.user===t.id}))}})),f.comments?f.comments.map((function(e){return r.a.createElement(pt,{key:e._id,comment:e})})):null,r.a.createElement(ct,{postId:f._id})))))})),yt=Object(f.a)((function(e){return{photoGrid:{padding:e.spacing(3,2)},titleBar:{"& ul,& ul li":{margin:0,padding:0},"& ul li span":{fontSize:"20px"}},pictureGrid:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},gridList:{height:450,"& img":{cursor:"pointer"},"& video":{cursor:"pointer",width:"100%",height:"100%"}},icon:{color:"rgba(255, 255, 255, 0.54)"},photoAvatar:{margin:10,color:"#fff",backgroundColor:it.a[500]}}}));function kt(e){var t=yt(),a=r.a.useState(!1),n=Object(h.a)(a,2),o=n[0],i=n[1],l=r.a.useState(!1),c=Object(h.a)(l,2),s=c[0],p=c[1],m=r.a.useState(null),d=Object(h.a)(m,2),u=d[0],g=d[1],f=e.posts,b=f.filter((function(e){return e.images&&e.images.length>0})).map((function(e){return e.images.map((function(t){return{_id:e._id,image:t.imageUrl,createdBy:e.createdBy,comments:e.comments,like:e.like,profileImage:e.profileImage,userName:e.userName}}))})).flat(1),E=f.filter((function(e){return e.videos&&e.videos.length>0})).map((function(e){return e.videos.map((function(t){return{_id:e._id,video:t.videoUrl,createdBy:e.createdBy,comments:e.comments,like:e.like,profileImage:e.profileImage,userName:e.userName}}))})).flat(1);return r.a.createElement("div",null,r.a.createElement(fe.a,{className:t.photoGrid},r.a.createElement("div",{className:t.titleBar},r.a.createElement(Pe.a,null,r.a.createElement(Fe.a,null,r.a.createElement(pe.a,{className:t.photoAvatar},r.a.createElement(ot.a,null)),r.a.createElement(ce.a,{primary:"Photos"})))),r.a.createElement("div",{className:t.pictureGrid},r.a.createElement(at.a,{cellHeight:120,className:t.gridList,cols:3},b.map((function(e){return r.a.createElement(nt.a,{key:e._id+"-"+e.image,cols:1},r.a.createElement("img",{onError:function(e){e.target.src="images/404.png"},onClick:function(){return t=e,p(!0),i(!0),void g(t);var t},src:e.image}))})),E.map((function(e){return r.a.createElement(nt.a,{key:e._id+"-"+e.video,cols:1},r.a.createElement("video",{onClick:function(){return t=e,p(!0),i(!1),void g(t);var t},src:e.video}))}))),s?r.a.createElement(vt,{isImage:o,openPhoto:s,imageDetails:u,onclose:function(){p(!1)}}):null)))}var Nt=a(597),Ot=a(300),It=a.n(Ot),jt=a(141),wt=Object(f.a)((function(e){return{friendGrid:{padding:e.spacing(3,2)},titleBar:{"& ul,& ul li":{margin:0,padding:0},"& ul li span":{fontSize:"20px"}},pictureGrid:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},gridList:{height:450},icon:{color:"rgba(255, 255, 255, 0.54)"},friendAvatar:{margin:10,color:"#fff",backgroundColor:jt.a[500]}}}));function Ct(e){var t=wt(),a=e.friends;return r.a.createElement("div",null,r.a.createElement(fe.a,{className:t.friendGrid},r.a.createElement("div",{className:t.titleBar},r.a.createElement(Pe.a,null,r.a.createElement(Fe.a,null,r.a.createElement(pe.a,{className:t.friendAvatar},r.a.createElement(It.a,null)),r.a.createElement(ce.a,{primary:"Friends"})))),r.a.createElement("div",{className:t.pictureGrid},r.a.createElement(at.a,{cellHeight:120,className:t.gridList,cols:3},a.map((function(e){return r.a.createElement(nt.a,{key:e._id,cols:1},r.a.createElement("img",{onError:function(e){e.target.src="images/404.png"},src:e.profileImage?e.profileImage:"images/blank.png",alt:e.name}),r.a.createElement(Nt.a,{title:e.name}))}))))))}var St=Object(f.a)((function(e){return{postDescription:{"& p":{padding:e.spacing(0,2)},"& a":{textDecoration:"none",padding:"0 2px",color:"#385898","&:hover":{textDecoration:"underline",cursor:"pointer"}}},gridList:{transform:"translateZ(0)",width:"100%","& img":{backgroundPosition:"initial",cursor:"pointer",width:"100%",height:"inherit"},"& video":{backgroundPosition:"initial",cursor:"pointer",width:"100%",height:"inherit"}},images:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},arrowTag:{content:" ",position:"absolute",left:"5%",bottom:"100%",borderWidth:"5px",borderStyle:"solid",borderColor:"transparent transparent black"},popperElement:{zIndex:50,maxWidth:"300px",minWidth:"192px"},popperContent:{transform:"translate3d(0, 11px, 0px)",background:"#000",color:"#fff","& p:hover":{color:"#fff",background:"#385898",cursor:"pointer"}}}}));var Tt=function(e){var t=St(),a=r.a.useState(!1),n=Object(h.a)(a,2),o=n[0],i=n[1],l=r.a.useState(!1),c=Object(h.a)(l,2),s=c[0],p=c[1],m=r.a.useState(null),d=Object(h.a)(m,2),u=d[0],g=d[1],f=r.a.useState(null),b=Object(h.a)(f,2),E=b[0],x=b[1],v=e.post,y=v.images,k=v.videos,N=v.tags,O=N.length-1,I=N.slice(1),j=function(e){return 1===e.length?e.map((function(e){return Object($e.a)(Object($e.a)({},e),{},{featured:!0})})):e.map((function(e){return Object($e.a)(Object($e.a)({},e),{},{featured:!1})}))},w=y?j(y):[],C=k?j(k):[],S=Boolean(E);return r.a.createElement("div",{key:v._id,className:t.postDescription},r.a.createElement(K.a,{component:"div",style:{textAlign:"left"}},r.a.createElement("p",null,v.text),1===N.length?r.a.createElement("p",null,"- with ",r.a.createElement("a",{href:"#"},N[0].user.name)):N.length>1?r.a.createElement("p",null,"- with ",r.a.createElement("a",{href:"#"},N[0].user.name)," and"," ",r.a.createElement("a",{onClick:function(e){x(E?null:e.currentTarget)}},O," others")):null,r.a.createElement(he.a,{className:t.popperElement,anchorEl:E,open:S,placement:"bottom-start",disablePortal:!0,modifiers:{flip:{enabled:!1},preventOverflow:{enabled:!1,boundariesElement:"scrollParent"}}},r.a.createElement("div",{className:t.popperContent},r.a.createElement("div",{className:t.arrowTag}," "),I.map((function(e){return r.a.createElement(K.a,{key:e.user._id,className:t.typography}," ",e.user.name," ")}))))),r.a.createElement("div",{className:t.images},r.a.createElement(at.a,{className:t.gridList},w?w.map((function(e){return r.a.createElement(nt.a,{cols:e.featured?2:1,rows:e.featured?2:1,key:e._id},r.a.createElement("img",{onError:function(e){e.target.src="images/404.png"},onClick:function(){return function(e,t){var a;i(!0),p(!0),e.images.find((function(n){n._id===t&&(a={_id:e._id,image:n.imageUrl,createdBy:e.createdBy,comments:e.comments,like:e.like,profileImage:e.profileImage,userName:e.userName})})),g(a)}(v,e._id)},src:e.imageUrl?"".concat(e.imageUrl):"images/404.png"}))})):null,C?C.map((function(e){return r.a.createElement(nt.a,{cols:e.featured?2:1,rows:e.featured?2:1,key:e._id},r.a.createElement("video",{onError:function(e){e.target.src="images/404.png"},onClick:function(){return function(e,t){var a;i(!0),p(!1),e.videos.find((function(n){n._id===t&&(a={_id:e._id,image:n.videoUrl,createdBy:e.createdBy,comments:e.comments,like:e.like,profileImage:e.profileImage,userName:e.userName})})),g(a)}(v,e._id)},src:e.videoUrl?"".concat(e.videoUrl):"images/404.png",poster:e.thumbnailPath?"".concat(e.thumbnailPath):""}))})):null),o?r.a.createElement(vt,{isImage:s,openPhoto:o,imageDetails:u,onclose:function(){i(!1)}}):null))},Bt=function(e){Object(s.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleLike=function(t){var a=e.props.auth.user.id;e.props.likePost(t,a)},e.checkUserLike=function(e,t){return e.like&&e.like.find((function(e){return e.user===t.id}))},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.clearAllPosts(),this.props.getFeed()}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.props.auth.user,n=this.props.post.allPosts,o=this.props.profile.friends;return r.a.createElement("div",{className:t.pageDetails},r.a.createElement(g.a,{container:!0,spacing:0},r.a.createElement(g.a,{item:!0,xs:5},r.a.createElement("div",{className:t.leftContent},r.a.createElement("div",{className:t.userAbout},r.a.createElement(Le,null)),r.a.createElement("div",{className:t.photoGrid},r.a.createElement(kt,{posts:n})),r.a.createElement("div",{className:t.friendGrid},r.a.createElement(Ct,{friends:o})))),r.a.createElement(g.a,{item:!0,xs:7},r.a.createElement("div",{className:t.RightContent},r.a.createElement("div",{className:t.CreatePost},r.a.createElement(tt,null)),n.length>0?n.map((function(n){return r.a.createElement(fe.a,{key:n._id,className:t.postItems},r.a.createElement(Pe.a,{className:t.list},r.a.createElement(Fe.a,{alignItems:"flex-start"},r.a.createElement(se.a,null,r.a.createElement(pe.a,{onError:function(e){e.target.src="images/404.png"},alt:"Remy Sharp",src:n.createdBy.profileImage})),r.a.createElement(ce.a,{primary:n.createdBy.name}))),r.a.createElement(Tt,{post:n}),r.a.createElement("div",{className:t.actionsResult},r.a.createElement(K.a,{className:t.actionsResultItem},r.a.createElement(gt.a,{className:t.likeResultIcon,color:"primary"})),r.a.createElement(K.a,{className:t.actionsResultItem},n.like?n.like.length:0)),r.a.createElement("hr",{className:t.divider}),r.a.createElement("div",{className:t.actionsList},r.a.createElement(bt,{actionItems:t.actionItems,actionIcons:t.actionIcons,takeAction:t.takeAction,postId:n._id,post:n,user:a,handleLike:e.handleLike,checkUserLike:e.checkUserLike})),r.a.createElement("hr",{className:t.divider}),r.a.createElement("div",{className:t.commentSection},r.a.createElement("div",{className:t.createComment},r.a.createElement(ct,{postId:n._id})),r.a.createElement("div",{className:t.comments},n.comments?n.comments.map((function(e){return r.a.createElement(pt,{key:"timeline/".concat(n._id,"-").concat(e._id),comment:e})})):null)))})):null))))}}]),a}(n.Component),Pt=Object(b.b)((function(e){return{auth:e.auth,post:e.post,profile:e.profile}}),{setTimeLineUser:Ne,likePost:Ie,getFeed:Oe,clearAllPosts:je})(Object(u.a)((function(e){return Object(U.a)({timeline:{width:"85%",marginLeft:"5%"},timeLineCover:{borderRadius:"2px"},coverPhoto:{width:"100%",height:"auto","& > img":{width:"100%",height:"400px",border:"1px solid #888888",boxShadow:"1px 1px #888888"}},profilePicture:{transform:"translate(-35%,-80%)",position:"absolute",left:"10%","&  img":{padding:e.spacing(.25,.25),width:"200px",height:"200px",borderRadius:"50%",border:"2px solid #fff",background:"#fff",zIndex:100}},uploadPhotoDiv:{bottom:"10px",left:"5px",overflow:"hidden",width:"200px",position:"absolute"},updatePhoto:{background:"linear-gradient( transparent, rgba(0, 0, 0, .6) 0%, rgba(0, 0, 0, .6) 100% )",width:"100%",borderBottomLeftRadius:"90px",borderBottomRightRadius:"90px",height:"90px",textAlign:"center",color:"#fff",cursor:"pointer",transition:"0.3s"},uploadImageInput:{display:"none"},timeLineNav:{paddingLeft:"30%",borderRadius:"none",background:"#fff"},navList:{margin:0,padding:0,display:"flex",listStyleType:"none",borderLeft:"1px solid #e9eaed"},listItem:{borderRight:"1px solid #e9eaed",height:"43px",lineHeight:3.05,padding:"17px 17px",position:"relative",verticalAlign:"middle",whiteSpace:"nowrap",color:"#385898",cursor:"pointer",textDecoration:"none",fontSize:"16px",fontWeight:600},totalFriends:{color:"#89919c",fontSize:"11px",fontWeight:"normal",paddingLeft:"6px"},pageDetails:{marginTop:e.spacing(2)},RightContent:{marginLeft:"20px",width:"120%"},photoGrid:{marginTop:e.spacing(2)},friendGrid:{marginTop:e.spacing(2)},actionContainer:{width:"50%",position:"absolute"},interactingActions:{position:"absolute",display:"flex",padding:"0px 12px",bottom:"20px",left:"30%","& div a":{padding:"4px 16px",background:"#e9eaed",border:"1px solid #ccd0d5",cursor:"pointer"}},otherActions:{marginLeft:e.spacing(1),display:"flex"},typography:{padding:"8px 16px 4px 22px",fontSize:"14px"},arrowFriend:{content:" ",position:"absolute",left:"5%",bottom:"100%",borderWidth:"10px",borderStyle:"solid",borderColor:"transparent transparent white"},arrowFollow:{content:" ",position:"absolute",right:"5%",bottom:"100%",borderWidth:"10px",borderStyle:"solid",borderColor:"transparent transparent white"},popperElement:{zIndex:50,maxWidth:"300px",minWidth:"192px"},popperContent:{transform:"translate3d(0, 11px, 0px)","& p:hover":{color:"#fff",background:"#385898",cursor:"pointer"}},divider:{borderBottom:"1px solid #ddd",margin:"5px 7px 6px",paddingTop:"1px"},postItems:{marginTop:e.spacing(5),display:"block",width:"80%"},list:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},inline:{display:"inline"},post:{width:"100%"},actionsResult:{padding:e.spacing(1,0),display:"flex",maxWidth:"100%",backgroundColor:e.palette.background.paper},actionsResultItem:{justifyContent:"center",alignItems:"center",textAlign:"center",padding:0},actionsList:{padding:e.spacing(1,2),display:"flex",maxWidth:"100%",backgroundColor:e.palette.background.paper,justifyContent:"space-around"},actionItems:{justifyContent:"center",alignItems:"center",textAlign:"center",padding:e.spacing(0,2),transition:"all 0.5s","&:hover":{cursor:"pointer",transform:"scale(1.1)","& > *":{color:"#385898"}},"&:active":{transform:"scale(0.9)"}},actionIcons:{margin:e.spacing(-.5,.5),color:"#385898"},takeAction:{margin:e.spacing(-.5,.5),color:"#e9eaed"},likeResultIcon:{margin:e.spacing(-.5,.5)},commentSection:{marginTop:e.spacing(1)},createComment:{marginTop:e.spacing(2)},comments:{marginTop:e.spacing(1)}},"divider",{borderBottom:"1px solid #ddd",margin:"5px 7px 6px",paddingTop:"1px"})}))(Object(d.g)(Bt))),Ft=a(301),Rt=a.n(Ft),Lt=function(e){Object(s.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.classes,t=this.props.auth.user;return r.a.createElement("div",{className:e.about},r.a.createElement("div",{className:e.aboutHeader},r.a.createElement("h3",{className:e.headerContent},r.a.createElement(ye.a,null,r.a.createElement(Rt.a,{className:e.personIcon})),r.a.createElement(m.b,{to:"/".concat(t.userName,"/about")},"About"))))}}]),a}(n.Component),At=Object(b.b)((function(e){return{auth:e.auth,post:e.post,profile:e.profile}}))(Object(u.a)((function(e){return{about:{marginTop:e.spacing(2),background:"#fff",border:"1px solid #ccd0d5",borderRadius:"3px",marginBottom:"10px"},aboutHeader:{background:"#f5f6f7",borderBottom:"1px solid #d3d6db",borderRadius:"2px 2px 0 0",marginBottom:"15px",paddingTop:"16px"},headerContent:{fontSize:"20px",fontWeight:"bold",height:"32px",margin:"0 12px 5px",lineHeight:1,"& a":{color:"#4b4f56",textDecoration:"none",verticalAlign:"text-top"}},personIcon:{color:"#969292"}}}))(Object(d.g)(Lt))),_t=a(303),Dt=a.n(_t),Wt=a(302),Mt=a.n(Wt),Ut=function(e){Object(s.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.classes,t=this.props.auth.user,a=this.props.profile.friends.map((function(t){return r.a.createElement("li",{key:t._id,className:e.friendDetails},r.a.createElement("div",{className:e.friend},r.a.createElement("img",{src:t.profileImage?"/".concat(t.profileImage):"/images/blank.png",alt:""}),r.a.createElement("div",{className:e.friendWrapper},r.a.createElement("div",{className:e.friendStatusWrapper,style:{height:"35px"}}),r.a.createElement("div",{className:e.friendStatus},r.a.createElement("div",{className:e.friendButton},r.a.createElement("a",null,r.a.createElement("span",{className:e.checkIcon},r.a.createElement(ye.a,null,r.a.createElement(Mt.a,null))),r.a.createElement("span",null," Friends"))))),r.a.createElement("div",{className:e.nameWrapper},r.a.createElement("div",{className:e.friendStatusWrapper,style:{height:"35px"}}),r.a.createElement("div",{className:e.friendNameWrapper},r.a.createElement(m.b,{className:e.friendName,to:"/".concat(t.userName)},t.name)))))}));return r.a.createElement("div",{className:e.friends},r.a.createElement("div",{className:e.friendsHeader},r.a.createElement("h3",{className:e.headerContent},r.a.createElement(ye.a,null,r.a.createElement(Dt.a,{className:e.personsIcon})),r.a.createElement(m.b,{to:"/".concat(t.userName,"/friends")}," Friends"))),r.a.createElement(g.a,{container:!0,spacing:0},r.a.createElement("ul",{className:e.friendsList},a)))}}]),a}(n.Component),zt=Object(b.b)((function(e){return{auth:e.auth,post:e.post,profile:e.profile}}))(Object(u.a)((function(e){return{friends:{marginTop:e.spacing(2),background:"#fff",border:"1px solid #ccd0d5",borderRadius:"3px",marginBottom:"10px"},friendsHeader:{background:"#f5f6f7",borderBottom:"1px solid #d3d6db",borderRadius:"2px 2px 0 0",marginBottom:"15px",paddingTop:"16px"},headerContent:{fontSize:"20px",fontWeight:"bold",height:"32px",margin:"0 12px 5px",lineHeight:1,"& a":{color:"#4b4f56",textDecoration:"none",verticalAlign:"text-top"}},personIcon:{color:"#969292"},friendsList:{listStyleType:"none",margin:0,padding:0},friendDetails:{border:"1px solid #e9ebee",display:"inline-block",margin:"0 0 13px 13px",padding:"0 10px 0 0",position:"relative",varticalAlign:"top",width:"390px"},friend:{"& img":{width:"100px",height:"100px",float:"left"}},friendWrapper:{display:"inline-block",float:"right"},friendStatusWrapper:{display:"inline-block",verticalAlign:"middle"},friendButton:{display:"inline-block",verticalAlign:"top","& a":{padding:"4px 12px",background:"#e9eaed",border:"1px solid #ccd0d5",cursor:"pointer"}},checkIcon:{verticalAlign:"sub","& svg":{color:"green",width:"0.9em"}},nameWrapper:{display:"inline-block"},friendName:{color:"#385898",cursor:"pointer",textDecoration:"none",fontWeight:"600",fontSize:"14px",marginLeft:"20px","&:hover":{textDecoration:"underline"}}}}))(Object(d.g)(Ut))),Ht=a(304),Gt=a.n(Ht),qt=function(e){Object(s.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).onPhotoClick=function(t){e.setState({openPhoto:!0,imageDetails:t,isImage:!0})},e.onVideoClick=function(t){e.setState({openPhoto:!0,imageDetails:t,isImage:!1})},e.state={openPhoto:!1,isImage:!1,imageDetails:null},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.props.classes,a=this.props.auth.user,n=this.props.post.allPosts,o=n.filter((function(e){return e.images&&e.images.length>0})).map((function(e){return e.images.map((function(t){return{_id:e._id,image:t.imageUrl,createdBy:e.createdBy,comments:e.comments,like:e.like,profileImage:e.profileImage,userName:e.userName}}))})).flat(1),i=n.filter((function(e){return e.videos&&e.videos.length>0})).map((function(e){return e.videos.map((function(t){return{_id:e._id,video:t.videoUrl,createdBy:e.createdBy,comments:e.comments,like:e.like,profileImage:e.profileImage,userName:e.userName}}))})).flat(1);return r.a.createElement("div",{className:t.photos},r.a.createElement("div",{className:t.photosHeader},r.a.createElement("h3",{className:t.headerContent},r.a.createElement(ye.a,null,r.a.createElement(Gt.a,{className:t.cameraIcon})),r.a.createElement(m.b,{to:"/".concat(a.userName,"/photos")},"Photos"))),r.a.createElement("div",{className:t.pictureGrid},r.a.createElement(at.a,{className:t.gridList,cols:4},o.map((function(t){return r.a.createElement(nt.a,{key:t._id,cols:1},r.a.createElement("img",{onError:function(e){e.target.src="images/404.png"},onClick:function(){return e.onPhotoClick(t)},src:t.image}))})),i.map((function(t){return r.a.createElement(nt.a,{key:t._id,cols:1},r.a.createElement("video",{onError:function(e){e.target.src="images/404.png"},onClick:function(){return e.onVideoClick(t)},src:t.video}))}))),this.state.openPhoto?r.a.createElement(vt,{isImage:this.state.isImage,openPhoto:this.state.openPhoto,imageDetails:this.state.imageDetails,onclose:function(){return e.setState({openPhoto:!1})}}):null))}}]),a}(n.Component),Kt=Object(b.b)((function(e){return{auth:e.auth,post:e.post,profile:e.profile}}))(Object(u.a)((function(e){return{photos:{marginTop:e.spacing(2),background:"#fff",border:"1px solid #ccd0d5",borderRadius:"3px",marginBottom:"10px"},photosHeader:{background:"#f5f6f7",borderBottom:"1px solid #d3d6db",borderRadius:"2px 2px 0 0",marginBottom:"15px",paddingTop:"16px"},headerContent:{fontSize:"20px",fontWeight:"bold",height:"32px",margin:"0 12px 5px",lineHeight:1,"& a":{color:"#4b4f56",textDecoration:"none",verticalAlign:"text-top"}},cameraIcon:{color:"#969292"},pictureGrid:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},gridList:{height:450,"& img":{cursor:"pointer"},"& video":{cursor:"pointer",width:"100%",height:"100%"}}}}))(Object(d.g)(qt))),$t=function(e){Object(s.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).handleFriendPopper=function(t){e.setState({anchorE1:e.state.anchorE1?null:t.currentTarget,anchorE2:null})},e.handleFollowPopper=function(t){e.setState({anchorE2:e.state.anchorE2?null:t.currentTarget,anchorE1:null})},e.handleMouseOutFriend=function(){e.setState({anchorE1:null,anchorE2:null})},e.handleMouseOutFollow=function(){e.setState({anchorE2:null,anchorE1:null})},e.uploadProfilePhoto=function(t){var a=e.props.auth.user,n=t.target.files[0],r=new FormData;r.append("userId",a.id);var o="images";o="fileImages",r.append(o,n),e.props.uploadPhoto(r,a.userName)},e.state={isFriend:!1,isFollowing:!1,anchorE1:null,anchorE2:null,isUpload:!1,authUser:!0},e}return Object(c.a)(a,[{key:"sendFriendRequest",value:function(e,t,a){e.target.innerHTML="Friend Request Sent",x.a.post("/sendfriendrequest",{userId:t,tlUserId:a}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e,t=this,a=this.props.classes,n=this.props.auth.user,o=this.props.profile.timeLineUser,i=Boolean(this.state.anchorE1),l=Boolean(this.state.anchorE2),c=this.props.profile.friends;if(!o.authUser&&c.length>0){var s=c.find((function(e){return e.userName===n.userName}));e=s?s.status:-1}return r.a.createElement("div",{className:a.timeline},r.a.createElement("div",{className:a.timeLineCover},r.a.createElement("div",{className:a.coverPhoto},r.a.createElement("img",{src:"images/Batman.jpg"})),r.a.createElement("div",{onMouseEnter:function(){return t.setState({isUpload:!0})},onMouseLeave:function(){return t.setState({isUpload:!1})},className:a.profilePicture},r.a.createElement("a",{href:"#"},o.profileImage?r.a.createElement("img",{onError:function(e){e.target.src="images/404.png"},src:o.profileImage}):r.a.createElement("img",{src:"images/blank.png"})),o.authUser&&this.state.isUpload?r.a.createElement("div",{className:a.uploadPhotoDiv},r.a.createElement("input",{onChange:this.uploadProfilePhoto,className:a.uploadImageInput,id:"icon-button-file",type:"file"}),r.a.createElement("label",{htmlFor:"icon-button-file"},r.a.createElement("div",{className:a.updatePhoto},r.a.createElement("div",{className:a.cameraIcon},r.a.createElement(ye.a,null,r.a.createElement(ve.a,null))),"Upload"))):null),r.a.createElement("div",{className:a.timeLineNav},o.authUser?null:r.a.createElement("div",{className:a.actionContainer},r.a.createElement("div",{className:a.interactingActions},r.a.createElement("div",null,e&&1===e?r.a.createElement("a",{onClick:this.handleFriendPopper,variant:"contained",color:"default"}," Friends "):2===e?r.a.createElement("a",{variant:"contained",color:"default"},"Friend Request Sent"):r.a.createElement("a",{onClick:function(e){return t.sendFriendRequest(e,n.id,o._id)},variant:"contained",color:"default"},"Add Friend"),r.a.createElement(he.a,{className:a.popperElement,anchorEl:this.state.anchorE1,open:i,placement:"bottom-start",disablePortal:!0,modifiers:{flip:{enabled:!1},preventOverflow:{enabled:!1,boundariesElement:"scrollParent"}}},r.a.createElement(fe.a,{className:a.popperContent},r.a.createElement("div",{className:a.arrowFriend}," "),r.a.createElement(K.a,{className:a.typography}," Get Notifications "),r.a.createElement("hr",{className:a.divider}),r.a.createElement(K.a,{className:a.typography}," Close Friends "),r.a.createElement("hr",{className:a.divider}),r.a.createElement(K.a,{className:a.typography}," Unfriend ")))),r.a.createElement("div",{className:a.otherActions},r.a.createElement("div",null," ",this.state.isFollowing?r.a.createElement("a",{onClick:this.handleFollowPopper,variant:"contained",color:"default"}," Following "):r.a.createElement("a",{variant:"contained",color:"default"}," Follow "),r.a.createElement(he.a,{className:a.popperElement,anchorEl:this.state.anchorE2,open:l,placement:"bottom-end",disablePortal:!0,modifiers:{flip:{enabled:!1},preventOverflow:{enabled:!1,boundariesElement:"scrollParent"}}},r.a.createElement(fe.a,{className:a.popperContent},r.a.createElement("div",{className:a.arrowFollow}," "),r.a.createElement(K.a,{className:a.typography}," See First "),r.a.createElement("hr",{className:a.divider}),r.a.createElement(K.a,{className:a.typography}," Default "),r.a.createElement("hr",{className:a.divider}),r.a.createElement(K.a,{className:a.typography}," Unfollow ")))),r.a.createElement("div",null,r.a.createElement("a",{variant:"contained",color:"default"}," Message "),r.a.createElement("a",{variant:"contained",color:"default"}," ... "))))),r.a.createElement("ul",{className:a.navList},r.a.createElement("li",null," ",r.a.createElement(m.b,{to:"/".concat(o.userName),className:a.listItem}," TimeLine ")),r.a.createElement("li",null," ",r.a.createElement(m.b,{to:"/".concat(o.userName,"/about"),className:a.listItem}," About ")),r.a.createElement("li",null," ",r.a.createElement(m.b,{to:"/".concat(o.userName,"/friends"),className:a.listItem}," Friends ",r.a.createElement("span",{className:a.totalFriends}," ",c.length," "))),r.a.createElement("li",null," ",r.a.createElement(m.b,{to:"/".concat(o.userName,"/photos"),className:a.listItem}," Photos ")),r.a.createElement("li",null," ",r.a.createElement(m.b,{to:"#",className:a.listItem}," Archive ")),r.a.createElement("li",null," ",r.a.createElement(m.b,{to:"#",className:a.listItem}," More "))))),r.a.createElement(d.b,{exact:!0,path:"/".concat(o.userName,"/"),component:Pt}),r.a.createElement(d.b,{exact:!0,path:"/".concat(o.userName,"/about"),component:At}),r.a.createElement(d.b,{exact:!0,path:"/".concat(o.userName,"/friends"),component:zt}),r.a.createElement(d.b,{exact:!0,path:"/".concat(o.userName,"/photos"),component:Kt}))}}]),a}(n.Component),Jt=Object(b.b)((function(e){return{auth:e.auth,post:e.post,profile:e.profile}}),{uploadPhoto:function(e,t){return function(a){x.a.post("/uploadphoto",e).then((function(e){var n={_id:e.data._id,name:e.data.name,userName:e.data.userName,profileImage:e.data.profileImage,authUser:e.data.userName===t};a({type:"SET_PROFILE_IMAGE",payload:e.data}),a({type:"SET_TIMELINE_USER",payload:n})})).catch((function(e){console.log(e)}))}},setTimeLineUser:Ne,likePost:Ie,clearAllPosts:je})(Object(u.a)((function(e){return Object(U.a)({timeline:{width:"85%",marginLeft:"5%",marginTop:"50px"},timeLineCover:{borderRadius:"2px"},coverPhoto:{width:"100%",height:"auto","& > img":{width:"100%",height:"400px",border:"1px solid #888888",boxShadow:"1px 1px #888888"}},profilePicture:{transform:"translate(-35%,-80%)",position:"absolute",left:"10%","& img":{padding:e.spacing(.25,.25),width:"200px",height:"200px",borderRadius:"50%",border:"2px solid #fff",background:"#fff",zIndex:100}},uploadPhotoDiv:{bottom:"10px",left:"5px",overflow:"hidden",width:"200px",position:"absolute"},updatePhoto:{background:"linear-gradient( transparent, rgba(0, 0, 0, .6) 0%, rgba(0, 0, 0, .6) 100% )",width:"100%",borderBottomLeftRadius:"90px",borderBottomRightRadius:"90px",height:"90px",textAlign:"center",color:"#fff",cursor:"pointer",transition:"0.3s"},uploadImageInput:{display:"none"},timeLineNav:{paddingLeft:"30%",borderRadius:"none",background:"#fff"},navList:{margin:0,padding:0,display:"flex",listStyleType:"none",borderLeft:"1px solid #e9eaed"},listItem:{borderRight:"1px solid #e9eaed",height:"43px",lineHeight:3.05,padding:"17px 17px",position:"relative",verticalAlign:"middle",whiteSpace:"nowrap",color:"#385898",cursor:"pointer",textDecoration:"none",fontSize:"16px",fontWeight:600},totalFriends:{color:"#89919c",fontSize:"11px",fontWeight:"normal",paddingLeft:"6px"},pageDetails:{marginTop:e.spacing(2)},RightContent:{marginLeft:"20px",width:"120%"},photoGrid:{marginTop:e.spacing(2)},friendGrid:{marginTop:e.spacing(2)},actionContainer:{width:"50%",position:"absolute"},interactingActions:{position:"absolute",display:"flex",padding:"0px 12px",bottom:"20px",left:"30%","& div a":{padding:"4px 16px",background:"#e9eaed",border:"1px solid #ccd0d5",cursor:"pointer"}},otherActions:{marginLeft:e.spacing(1),display:"flex"},typography:{padding:"8px 16px 4px 22px",fontSize:"14px"},arrowFriend:{content:" ",position:"absolute",left:"5%",bottom:"100%",borderWidth:"10px",borderStyle:"solid",borderColor:"transparent transparent white"},arrowFollow:{content:" ",position:"absolute",right:"5%",bottom:"100%",borderWidth:"10px",borderStyle:"solid",borderColor:"transparent transparent white"},popperElement:{zIndex:50,maxWidth:"300px",minWidth:"192px"},popperContent:{transform:"translate3d(0, 11px, 0px)","& p:hover":{color:"#fff",background:"#385898",cursor:"pointer"}},divider:{borderBottom:"1px solid #ddd",margin:"5px 7px 6px",paddingTop:"1px"},postItems:{marginTop:e.spacing(5),display:"block",width:"80%"},list:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},inline:{display:"inline"},post:{width:"100%"},actionsResult:{padding:e.spacing(1,0),display:"flex",maxWidth:"100%",backgroundColor:e.palette.background.paper},actionsResultItem:{justifyContent:"center",alignItems:"center",textAlign:"center",padding:0},actionsList:{padding:e.spacing(1,2),display:"flex",maxWidth:"100%",backgroundColor:e.palette.background.paper,justifyContent:"space-around"},actionItems:{justifyContent:"center",alignItems:"center",textAlign:"center",padding:e.spacing(0,2),"&:hover":{cursor:"pointer"}},actionIcons:{margin:e.spacing(-.5,.5),color:"#385898"},takeAction:{margin:e.spacing(-.5,.5),color:"#e9eaed"},likeResultIcon:{margin:e.spacing(-.5,.5)},commentSection:{marginTop:e.spacing(1)},createComment:{marginTop:e.spacing(2)},comments:{marginTop:e.spacing(1)}},"divider",{borderBottom:"1px solid #ddd",margin:"5px 7px 6px",paddingTop:"1px"})}))(Object(d.g)($t))),Vt=a(306),Yt=a.n(Vt),Xt=function(e){Object(s.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).scrollToBottom=function(){e.messagesEndRef.current.scrollIntoView({behaviour:"smooth"})},e.sendMessage=function(t){var a=e.props.auth.user,n=e.props.friend.user,r=a.id,o=n._id;"Enter"===t.key&&e.state.chatMessage.length>0&&(x.a.post("/sendmessage",{message:e.state.chatMessage,sender:r,reciever:o}).then((function(t){var a=t.data;e.state.socket.emit("check-message",{sender:r,reciever:o,result:a})})).catch((function(e){console.log(e)})),e.setState({chatMessage:""}))},e.state={open:!1,chatMessage:"",allMessages:[],socket:null},e.messagesEndRef=r.a.createRef(),e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.auth.socket;this.setState({socket:t});var a=this.props.auth.user,n=this.props.friend.user;this.scrollToBottom(),x.a.post("/getchat",{userId:a.id,friendId:n._id}).then((function(t){e.setState({allMessages:t.data})})).catch((function(e){console.log(e)}))}},{key:"componentWillUpdate",value:function(e,t){var a=this,n=e.auth.user,r=e.friend.user;t.allMessages!==this.state.allMessages&&(this.state.socket.once("PRIVATE_CHAT_MESSAGE",(function(e){var t=Object(ke.a)(a.state.allMessages);a.setState({allMessages:t.concat(e)})})),this.scrollToBottom()),this.props.friend.user!==e.friend.user&&x.a.post("/getchat",{userId:n.id,friendId:r._id}).then((function(e){a.setState({allMessages:e.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.props.friend.user,n=this.props.auth.user.id,o=this.state.allMessages?this.state.allMessages.sort((function(e,t){return e.createdAt<t.createdAt?-1:1})):[];return r.a.createElement("div",{className:t.chatBoxMain},r.a.createElement("div",{className:t.topBar},r.a.createElement("div",{className:t.userInfo},r.a.createElement(pe.a,{onError:function(e){e.target.src="images/404.png"},alt:a.name,src:a.profileImage?a.profileImage:"images/blank.png"}),r.a.createElement(K.a,{component:"p"},a.name)),r.a.createElement("div",null,r.a.createElement(Yt.a,{className:t.close,onClick:this.props.click.bind(this)}))),r.a.createElement(fe.a,{className:t.chatBox},r.a.createElement("div",{className:t.chatWindow},o.map((function(e){return e.from._id===n?r.a.createElement("div",{key:e._id,className:t.msgRight},r.a.createElement(K.a,{component:"p"},e.message)):r.a.createElement("div",{key:e._id,className:t.msgLeft},r.a.createElement(K.a,{component:"p"},e.message))})),r.a.createElement("div",{ref:this.messagesEndRef})),r.a.createElement("div",{className:t.sendMessageFooter},r.a.createElement(C.a,{className:t.textBox,placeholder:"Enter you message...",fullWidth:!0,disableUnderline:!0,onChange:function(t){return e.setState({chatMessage:t.target.value})},onKeyPress:this.sendMessage,value:this.state.chatMessage}))))}}]),a}(n.Component),Zt=Object(b.b)((function(e){return{auth:e.auth,profile:e.profile}}))(Object(u.a)((function(e){return{chatBoxMain:{position:"fixed",minWidth:"20%",transform:"translate(-100%)",bottom:0},chatBox:{padding:e.spacing(3,2),height:"300px",width:"100%"},topBar:{padding:e.spacing(1,2),display:"flex",width:"100%",height:"auto",background:"#fff",borderBottom:"1px solid #b2b9c9",boxShadow:"inset 2px 0 2px -2px #b2b9c9",justifyContent:"space-between"},userInfo:{display:"flex","& img, & p":{padding:"0 16px"}},close:{cursor:"pointer"},chatWindow:{display:"flex",flexDirection:"column",width:"100%",height:"250px",overflowY:"scroll"},sendMessageFooter:{width:"100%",marginTop:e.spacing(2),borderTop:"1px solid #e9ebee"},msgLeft:{position:"relative",minHeight:"10px",marginBottom:"15%",wordBreak:"break-all",textAlign:"left",maxWidth:"50%",fontSize:"11px","& p":{background:"#e2e2e2",borderRadius:"45px",padding:"0 16px",fontSize:"15px",lineHeight:"1.2em"}},msgRight:{position:"relative",minHeight:"10px",wordBreak:"break-all",marginBottom:"15%",marginLeft:"50%",textAlign:"left",maxWidth:"50%",color:"#fff",fontSize:"11px","& p":{background:"#2072f7",borderRadius:"45px",padding:"0 16px",fontSize:"15px",lineHeight:"1.2em"}}}}))(Xt)),Qt=function(e){Object(s.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).openModal=function(e){n.setState({open:!0,friend:e})},n.closeModal=function(){n.setState({open:!1})},n.state={open:!1,friendsList:[],friend:null},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.auth.user.id;x.a.post("/getchatfriends",{userId:t}).then((function(t){e.setState({friendsList:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.friendsList;return r.a.createElement("div",{className:t.sideNav},r.a.createElement(fe.a,{className:t.userList},r.a.createElement(K.a,{className:t.contactsHeader},"Contacts"),r.a.createElement(Pe.a,{component:"nav","aria-label":"Secondary mailbox folders"},a?a.map((function(t){var a;return r.a.createElement(Fe.a,{key:t.user._id,button:!0,onClick:function(){return e.openModal(t)}},r.a.createElement(se.a,null,r.a.createElement(pe.a,(a={onError:function(e){e.target.src="images/404.png"}},Object(U.a)(a,"onError",(function(e){e.target.src="images/404.png"})),Object(U.a)(a,"alt",t.user.name),Object(U.a)(a,"src",t.user.profileImage?t.user.profileImage:"images/blank.png"),a))),r.a.createElement(ce.a,{primary:t.user.name}))})):null)),this.state.open?r.a.createElement(Zt,{friend:this.state.friend,click:this.closeModal}):null)}}]),a}(n.Component),ea=Object(b.b)((function(e){return{auth:e.auth}}))(Object(u.a)((function(e){return{sideNav:{position:"fixed",marginTop:"50px"},userList:{width:"100%",padding:e.spacing(3,2),marginLeft:"30%",borderLeft:"1px solid #6b6c70",borderRadius:0,background:"url('images/bgImage.png')",boxShadow:"inset 2px 0 2px -2px #b2b9c9",lineHeight:"16px",height:"100vh"},contactsHeader:{textAlign:"left",fontWeight:"bold",fontSize:"14px",height:"16px",color:"#4a4a4a"},online:{color:"green"}}}))(Qt)),ta=function(e){Object(s.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.auth,t=e.isAuthenticated,a=e.user;if(t){var n=this.props.match.params.userName;this.props.setTimeLineUser(n,a.userName)}else this.props.history.replace("/auth")}},{key:"componentDidUpdate",value:function(e){var t=this.props.auth,a=t.isAuthenticated,n=t.user;if(a!=e.auth.isAuthenticated)this.props.auth.isAuthenticated||this.props.history.replace("/auth");else if(e.match.params.userName!=this.props.match.params.userName){var r=this.props.match.params.userName;this.props.setTimeLineUser(r,n.userName)}}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{item:!0,xs:12},r.a.createElement(Ee,null)),r.a.createElement(g.a,{item:!0,xs:9},r.a.createElement(Jt,null)),r.a.createElement(g.a,{item:!0,xs:3},r.a.createElement(ea,null)))}}]),a}(n.Component),aa=Object(b.b)((function(e){return{auth:e.auth,post:e.post,profile:e.profile}}),{setTimeLineUser:Ne})(ta),na=a(307),ra=a(605),oa=a(600),ia=a(599),la=a(308),ca=a.n(la),sa=Object(f.a)((function(e){return{expansion:{padding:0}}}));var pa=function(e){var t=e.comments,a=sa(),n=t.map((function(e,t){return 0===t?r.a.createElement(ia.a,{className:a.expansion,expandIcon:r.a.createElement(ca.a,null),"aria-controls":"panel1c-content",id:"panel1c-header"},r.a.createElement(pt,{key:e._id,comment:e})):r.a.createElement(oa.a,{className:a.expansion},r.a.createElement(pt,{key:e._id,comment:e}))}));return r.a.createElement(ra.a,null,n)},ma=Object(f.a)((function(e){var t,a,n;return{wrapper:{background:"#fff",height:"auto",display:"flex",flexDirection:"column",marginTop:e.spacing(5),width:"80%",justifyContent:"space-around"},wrapperCell:{display:"flex",padding:"10px"},"@keyframes placeHolderShimmer":{from:{backgroundPosition:"-300px 0"},to:{backgroundPosition:"300px 0"}},animatedBackground:(t={animationDuration:"1.25s",animationFillMode:"forwards",animationIterationCount:"infinite",animationName:"$placeHolderShimmer",animationTimingFunction:"linear",background:"#F6F6F6"},Object(U.a)(t,"background","linear-gradient(to right, #c7d1c9 8%, #e6ebe7 18%, #dfe6e0 33%)"),Object(U.a)(t,"backgroundSize","800px 104px"),Object(U.a)(t,"height","96px"),Object(U.a)(t,"position","relative"),t),image:(a={height:"50px",width:"50px",borderRadius:"50%",margin:"10px 10px",animationDuration:"1.25s",animationFillMode:"forwards",animationIterationCount:"infinite",animationName:"$placeHolderShimmer",animationTimingFunction:"linear",background:"#F6F6F6"},Object(U.a)(a,"background","linear-gradient(to right, #c7d1c9 8%, #e6ebe7 18%, #dfe6e0 33%)"),Object(U.a)(a,"backgroundSize","800px 104px"),Object(U.a)(a,"position","relative"),a),text:{width:"100%"},textLine:(n={height:"18px",width:"90%",margin:"10px 10px",animationDuration:"1.25s",animationFillMode:"forwards",animationIterationCount:"infinite",animationName:"$placeHolderShimmer",animationTimingFunction:"linear",background:"#F6F6F6"},Object(U.a)(n,"background","linear-gradient(to right, #c7d1c9 8%, #e6ebe7 18%, #dfe6e0 33%)"),Object(U.a)(n,"backgroundSize","800px 104px"),Object(U.a)(n,"position","relative"),n)}})),da=function(e){var t=ma();return r.a.createElement("div",{className:t.wrapper},r.a.createElement("div",{className:t.wrapperCell},r.a.createElement("div",{className:t.image}),r.a.createElement("div",{className:t.text},r.a.createElement("div",{className:t.textLine}),r.a.createElement("div",{className:t.textLine}),r.a.createElement("div",{className:t.textLine}))),r.a.createElement("div",{className:t.text},r.a.createElement("div",{className:t.textLine}),r.a.createElement("div",{className:t.textLine})))},ua=function(e){Object(s.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).handleLike=function(t){var a=e.props.auth.user.id;e.props.likePost(t,a)},e.fetchData=function(){var t=e.state,a=t.start,n=t.count;e.setState({start:a+Math.ceil(n/2)});var r=e.props.auth.user.id;e.props.getFeed(r,a+Math.ceil(n/2),n)},e.checkUserLike=function(e,t){return e.like&&e.like.find((function(e){return e.user===t.id}))},e.state={start:1,count:4},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.clearAllPosts();var e=this.state,t=e.start,a=e.count,n=this.props.auth.user.id;this.props.getFeed(n,t,a)}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.props.post,n=a.allPosts,o=a.hasMorePosts,i=this.props.auth.user;return r.a.createElement("div",null,r.a.createElement(na.a,{dataLength:n.length,next:this.fetchData,hasMore:o,pullDownToRefresh:!0,refreshFunction:this.fetchData,loader:r.a.createElement(da,null)},n?n.map((function(a){return r.a.createElement(fe.a,{key:a._id,className:t.root},r.a.createElement(Pe.a,{className:t.list},r.a.createElement(Fe.a,{alignItems:"flex-start"},r.a.createElement(se.a,null,r.a.createElement(pe.a,{onError:function(e){e.target.src="images/404.png"},alt:"Remy Sharp",src:a.createdBy.profileImage?a.createdBy.profileImage:"images/blank.png"})),r.a.createElement(ce.a,{primary:a.createdBy.name}))),r.a.createElement(Tt,{post:a}),r.a.createElement("div",{className:t.actionsResult},r.a.createElement(Et,{actionsResultItem:t.actionsResultItem,likeResultIcon:t.likeResultIcon,like:a.like})),r.a.createElement("hr",{className:t.divider}),r.a.createElement("div",{className:t.actionsList},r.a.createElement(bt,{actionItems:t.actionItems,actionIcons:t.actionIcons,takeAction:t.takeAction,postId:a._id,post:a,user:i,handleLike:e.handleLike,checkUserLike:e.checkUserLike})),r.a.createElement("hr",{className:t.divider}),r.a.createElement("div",{className:t.commentSection},r.a.createElement("div",{className:t.createComment},r.a.createElement(ct,{postId:a._id})),r.a.createElement("div",{className:t.comments},a.comments&&a.comments.length>0?r.a.createElement(pa,{comments:a.comments}):r.a.createElement("p",null,"No comments to show"))))})):r.a.createElement(da,null)))}}]),a}(n.Component),ga=Object(b.b)((function(e){return{auth:e.auth,post:e.post}}),{getFeed:Oe,likePost:Ie,clearAllPosts:je})(Object(u.a)((function(e){return{root:{marginTop:e.spacing(5),display:"block",width:"80%"},list:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},inline:{display:"inline"},post:{width:"100%"},actionsResult:{padding:e.spacing(1,0),display:"flex",maxWidth:"100%",backgroundColor:e.palette.background.paper},actionsResultItem:{justifyContent:"center",alignItems:"center",textAlign:"center",padding:0},actionsList:{padding:e.spacing(1,2),display:"flex",maxWidth:"100%",backgroundColor:e.palette.background.paper,justifyContent:"space-around"},actionItems:{justifyContent:"center",alignItems:"center",textAlign:"center",padding:e.spacing(0,2),transition:"all 0.5s","&:hover":{cursor:"pointer",transform:"scale(1.1)","& > *":{color:"#385898"}},"&:active":{transform:"scale(0.9)"}},actionIcons:{margin:e.spacing(-.5,.5),color:"#385898"},takeAction:{margin:e.spacing(-.5,.5),color:"#e9eaed"},likeResultIcon:{margin:e.spacing(-.5,.5)},commentSection:{marginTop:e.spacing(1)},createComment:{marginTop:e.spacing(2)},comments:{marginTop:e.spacing(1)},divider:{borderBottom:"1px solid #ddd",margin:"5px 7px 6px",paddingTop:"1px"}}}))(ua)),ha=function(e){Object(s.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={hasError:!1},e}return Object(c.a)(a,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?r.a.createElement("div",null,r.a.createElement("h1",null,"Some Error Has Occurred")):this.props.children}}]),a}(n.Component),fa=Object(f.a)((function(e){return{root:{marginTop:"80px",minHeight:"100vh"}}}));var ba=function(){var e=fa();return r.a.createElement(ha,null,r.a.createElement("div",{className:e.root},r.a.createElement(tt,null),r.a.createElement(ga,null)))};var Ea=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{item:!0,xs:12},r.a.createElement(Ee,null)),r.a.createElement(g.a,{item:!0,xs:3}),r.a.createElement(g.a,{item:!0,xs:6},r.a.createElement(ba,null)),r.a.createElement(g.a,{item:!0,xs:2},r.a.createElement(ea,null)))},xa=function(e){Object(s.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(m.a,null,r.a.createElement("div",{className:e.root},r.a.createElement(d.d,null,r.a.createElement(d.b,{path:"/auth",component:W}),r.a.createElement(g.a,{container:!0},r.a.createElement(M,{path:"/:userName",component:aa}),r.a.createElement(M,{exact:!0,path:"/",component:Ea})))))}}]),a}(n.Component),va=Object(u.a)((function(e){return{root:{background:"url('/images/bgImage.png') fixed",height:"100%"}}}))(xa);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ya=a(69),ka=a(310),Na={isAuthenticated:!1,user:{},socket:null},Oa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Na,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTH_USER":return Object($e.a)(Object($e.a)({},e),{},{isAuthenticated:!(0===Object.entries(t.payload).length&&t.payload.constructor===Object),user:t.payload});case"SET_PROFILE_IMAGE":var a=e.user;return a.profileImage=t.payload.profileImage,Object($e.a)(Object($e.a)({},e),{},{user:a});case"SOCKET_INIT":return Object($e.a)(Object($e.a)({},e),{},{socket:t.payload});default:return e}},Ia={allPosts:[],timeLinePosts:[],hasMorePosts:!0},ja=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ia,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_FEED":var a=Object(ke.a)(e.allPosts),n=t.payload,r=n.data,o=n.hasMorePosts;return Object($e.a)(Object($e.a)({},e),{},{allPosts:a.concat(r),hasMorePosts:o});case"SUBMIT_POST":return Object($e.a)(Object($e.a)({},e),{},{allPosts:[t.payload].concat(Object(ke.a)(e.allPosts))});case"GET_TIMELINE_FEED":return Object($e.a)(Object($e.a)({},e),{},{timeLinePosts:t.payload});case"CREATE_COMMENT":var i=Object(ke.a)(e.allPosts),l=t.payload;return i.find((function(e){e._id===l.post&&e.comments.push(l)})),Object($e.a)(Object($e.a)({},e),{},{allPosts:i});case"LIKE_COMMENT":var c=Object(ke.a)(e.allPosts);return c.find((function(e){e._id===t.payload._id&&(e.like=Object(ke.a)(t.payload.like))})),Object($e.a)(Object($e.a)({},e),{},{allPosts:c});case"CLEAR_POSTS":return Object($e.a)(Object($e.a)({},e),{},{allPosts:t.payload});default:return e}},wa={timeLineUser:[],friends:[],socket:null},Ca=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TIMELINE_USER":return Object($e.a)(Object($e.a)({},e),{},{timeLineUser:t.payload});case"GET_FRIENDS":return Object($e.a)(Object($e.a)({},e),{},{friends:t.payload});case"SOCKET_CONNECT":return Object($e.a)(Object($e.a)({},e),{},{socket:t.payload});default:return e}},Sa={},Ta=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return t.payload;case"CLEAR_ERRORS":return{};default:return e}},Ba=[ka.a],Pa=Object(ya.c)({auth:Oa,post:ja,profile:Ca,error:Ta}),Fa=Object(ya.e)(Pa,{},Object(ya.d)(ya.a.apply(void 0,Ba)));if(localStorage.getItem("token")){var Ra=localStorage.getItem("token");try{var La=y.a.verify(Ra.substring(7),"secret");Fa.dispatch(I(La)),Fa.dispatch(j())}catch(_a){Fa.dispatch(w()),window.location.href="/auth"}}var Aa=r.a.createElement(b.a,{store:Fa},r.a.createElement(va,null));i.a.render(Aa,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[325,1,2]]]);
//# sourceMappingURL=main.bff29584.chunk.js.map